# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2020, The QEMU Project Developers
# This file is distributed under the same license as the QEMU package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: QEMU 5.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-28 10:01+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../virtio-pmem.rst:4
msgid "QEMU virtio pmem"
msgstr ""

#: ../../../virtio-pmem.rst:6
msgid ""
"This document explains the setup and usage of the virtio pmem device which "
"is available since QEMU v4.1.0."
msgstr ""

#: ../../../virtio-pmem.rst:9
msgid ""
"The virtio pmem device is a paravirtualized persistent memory device on "
"regular (i.e non-NVDIMM) storage."
msgstr ""

#: ../../../virtio-pmem.rst:13
msgid "Usecase"
msgstr ""

#: ../../../virtio-pmem.rst:15
msgid ""
"Virtio pmem allows to bypass the guest page cache and directly use host page "
"cache. This reduces guest memory footprint as the host can make efficient "
"memory reclaim decisions under memory pressure."
msgstr ""

#: ../../../virtio-pmem.rst:19
msgid ""
"o How does virtio-pmem compare to the nvdimm emulation supported by QEMU?"
msgstr ""

#: ../../../virtio-pmem.rst:21
msgid ""
"NVDIMM emulation on regular (i.e. non-NVDIMM) host storage does not persist "
"the guest writes as there are no defined semantics in the device "
"specification. The virtio pmem device provides guest write persistence on "
"non-NVDIMM host storage."
msgstr ""

#: ../../../virtio-pmem.rst:27
msgid "virtio pmem usage"
msgstr ""

#: ../../../virtio-pmem.rst:29
msgid ""
"A virtio pmem device backed by a memory-backend-file can be created on the "
"QEMU command line as in the following example::"
msgstr ""

#: ../../../virtio-pmem.rst:32
msgid ""
"-object memory-backend-file,id=mem1,share,mem-path=./virtio_pmem.img,"
"size=4G\n"
"-device virtio-pmem-pci,memdev=mem1,id=nv1"
msgstr ""

#: ../../../virtio-pmem.rst:35
msgid "where:"
msgstr ""

#: ../../../virtio-pmem.rst:37
msgid ""
"\"object memory-backend-file,id=mem1,share,mem-path=<image>, size=<image "
"size>\" creates a backend file with the specified size."
msgstr ""

#: ../../../virtio-pmem.rst:40
msgid ""
"\"device virtio-pmem-pci,id=nvdimm1,memdev=mem1\" creates a virtio pmem pci "
"device whose storage is provided by above memory backend device."
msgstr ""

#: ../../../virtio-pmem.rst:43
msgid ""
"Multiple virtio pmem devices can be created if multiple pairs of \"-object\" "
"and \"-device\" are provided."
msgstr ""

#: ../../../virtio-pmem.rst:47
msgid "Hotplug"
msgstr ""

#: ../../../virtio-pmem.rst:49
msgid ""
"Virtio pmem devices can be hotplugged via the QEMU monitor. First, the "
"memory backing has to be added via 'object_add'; afterwards, the virtio pmem "
"device can be added via 'device_add'."
msgstr ""

#: ../../../virtio-pmem.rst:53
msgid ""
"For example, the following commands add another 4GB virtio pmem device to "
"the guest::"
msgstr ""

#: ../../../virtio-pmem.rst:56
msgid ""
"(qemu) object_add memory-backend-file,id=mem2,share=on,mem-path=virtio_pmem2."
"img,size=4G\n"
"(qemu) device_add virtio-pmem-pci,id=virtio_pmem2,memdev=mem2"
msgstr ""

#: ../../../virtio-pmem.rst:60
msgid "Guest Data Persistence"
msgstr ""

#: ../../../virtio-pmem.rst:62
msgid ""
"Guest data persistence on non-NVDIMM requires guest userspace applications "
"to perform fsync/msync. This is different from a real nvdimm backend where "
"no additional fsync/msync is required. This is to persist guest writes in "
"host backing file which otherwise remains in host page cache and there is "
"risk of losing the data in case of power failure."
msgstr ""

#: ../../../virtio-pmem.rst:68
msgid ""
"With virtio pmem device, MAP_SYNC mmap flag is not supported. This provides "
"a hint to application to perform fsync for write persistence."
msgstr ""

#: ../../../virtio-pmem.rst:72
msgid "Limitations"
msgstr ""

#: ../../../virtio-pmem.rst:73
msgid "Real nvdimm device backend is not supported."
msgstr ""

#: ../../../virtio-pmem.rst:74
msgid "virtio pmem hotunplug is not supported."
msgstr ""

#: ../../../virtio-pmem.rst:75
msgid "ACPI NVDIMM features like regions/namespaces are not supported."
msgstr ""

#: ../../../virtio-pmem.rst:76
msgid "ndctl command is not supported."
msgstr ""
