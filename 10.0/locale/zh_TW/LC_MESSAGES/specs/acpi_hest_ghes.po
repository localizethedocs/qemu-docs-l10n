# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, The QEMU Project Developers
# This file is distributed under the same license as the QEMU package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: QEMU 10.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-28 10:00+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../specs/acpi_hest_ghes.rst:2
msgid "APEI tables generating and CPER record"
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:11
msgid "Design Details"
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:15
msgid ""
"       etc/acpi/tables                           etc/hardware_errors\n"
"    ====================                   ===============================\n"
"+ +--------------------------+            +----------------------------+\n"
"| | HEST                     | +--------->|    error_block_address1    "
"|------+\n"
"| +--------------------------+ |          +----------------------------"
"+      |\n"
"| | GHES1                    | | +------->|    error_block_address2    "
"|------+-+\n"
"| +--------------------------+ | |        +----------------------------"
"+      | |\n"
"| | .................        | | |        |      ..............        "
"|      | |\n"
"| | error_status_address-----+-+ |        -----------------------------"
"+      | |\n"
"| | .................        |   |   +--->|    error_block_addressN    "
"|------+-+---+\n"
"| | read_ack_register--------+-+ |   |    +----------------------------"
"+      | |   |\n"
"| | read_ack_preserve        | +-+---+--->|     read_ack_register1     "
"|      | |   |\n"
"| | read_ack_write           |   |   |    +----------------------------"
"+      | |   |\n"
"+ +--------------------------+   | +-+--->|     read_ack_register2     "
"|      | |   |\n"
"| | GHES2                    |   | | |    +----------------------------"
"+      | |   |\n"
"+ +--------------------------+   | | |    |       .............        "
"|      | |   |\n"
"| | .................        |   | | |    +----------------------------"
"+      | |   |\n"
"| | error_status_address-----+---+ | | +->|     read_ack_registerN     "
"|      | |   |\n"
"| | .................        |     | | |  +----------------------------"
"+      | |   |\n"
"| | read_ack_register--------+-----+ | |  |Generic Error Status Block 1|"
"<-----+ |   |\n"
"| | read_ack_preserve        |       | |  |-+------------------------+-"
"+        |   |\n"
"| | read_ack_write           |       | |  | |          CPER          | "
"|        |   |\n"
"+ +--------------------------|       | |  | |          CPER          | "
"|        |   |\n"
"| | ...............          |       | |  | |          ....          | "
"|        |   |\n"
"+ +--------------------------+       | |  | |          CPER          | "
"|        |   |\n"
"| | GHESN                    |       | |  |-+------------------------"
"+-|        |   |\n"
"+ +--------------------------+       | |  |Generic Error Status Block 2|"
"<-------+   |\n"
"| | .................        |       | |  |-+------------------------+-"
"+            |\n"
"| | error_status_address-----+-------+ |  | |           CPER         | "
"|            |\n"
"| | .................        |         |  | |           CPER         | "
"|            |\n"
"| | read_ack_register--------+---------+  | |           ....         | "
"|            |\n"
"| | read_ack_preserve        |            | |           CPER         | "
"|            |\n"
"| | read_ack_write           |            +-+------------------------+-"
"+            |\n"
"+ +--------------------------+            |         ..........         "
"|            |\n"
"                                          |----------------------------"
"+            |\n"
"                                          |Generic Error Status Block N |"
"<----------+\n"
"                                          |-+-------------------------+-+\n"
"                                          | |          CPER           | |\n"
"                                          | |          CPER           | |\n"
"                                          | |          ....           | |\n"
"                                          | |          CPER           | |\n"
"                                          +-+-------------------------+-+"
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:59
msgid ""
"QEMU generates the ACPI HEST table. This table goes in the current \"etc/"
"acpi/tables\" fw_cfg blob. Each error source has different notification "
"types."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:63
msgid ""
"A new fw_cfg blob called \"etc/hardware_errors\" is introduced. QEMU also "
"needs to populate this blob. The \"etc/hardware_errors\" fw_cfg blob "
"contains an address registers table and an Error Status Data Block table."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:67
msgid ""
"The address registers table contains N Error Block Address entries and N "
"Read Ack Register entries. The size for each entry is 8-byte. The Error "
"Status Data Block table contains N Error Status Data Block entries. The size "
"for each entry is defined at the source code as "
"ACPI_GHES_MAX_RAW_DATA_LENGTH (currently 1024 bytes). The total size for the "
"\"etc/hardware_errors\" fw_cfg blob is (N * 8 * 2 + N * "
"ACPI_GHES_MAX_RAW_DATA_LENGTH) bytes. N is the number of the kinds of "
"hardware error sources."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:76
msgid ""
"QEMU generates the ACPI linker/loader script for the firmware. The firmware "
"pre-allocates memory for \"etc/acpi/tables\", \"etc/hardware_errors\" and "
"copies blob contents there."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:80
msgid ""
"QEMU generates N ADD_POINTER commands, which patch addresses in the "
"\"error_status_address\" fields of the HEST table with a pointer to the "
"corresponding \"address registers\" in the \"etc/hardware_errors\" blob."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:84
msgid ""
"QEMU generates N ADD_POINTER commands, which patch addresses in the "
"\"read_ack_register\" fields of the HEST table with a pointer to the "
"corresponding \"read_ack_register\" within the \"etc/hardware_errors\" blob."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:88
msgid ""
"QEMU generates N ADD_POINTER commands for the firmware, which patch "
"addresses in the \"error_block_address\" fields with a pointer to the "
"respective \"Error Status Data Block\" in the \"etc/hardware_errors\" blob."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:92
msgid ""
"QEMU defines a third and write-only fw_cfg blob which is called \"etc/"
"hardware_errors_addr\". Through that blob, the firmware can send back the "
"guest-side allocation addresses to QEMU. The \"etc/hardware_errors_addr\" "
"blob contains a 8-byte entry. QEMU generates a single WRITE_POINTER command "
"for the firmware. The firmware will write back the start address of \"etc/"
"hardware_errors\" blob to the fw_cfg file \"etc/hardware_errors_addr\"."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:99
msgid ""
"When QEMU gets a SIGBUS from the kernel, QEMU writes CPER into corresponding "
"\"Error Status Data Block\", guest memory, and then injects platform "
"specific interrupt (in case of arm/virt machine it's Synchronous External "
"Abort) as a notification which is necessary for notifying the guest."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:104
msgid ""
"This notification (in virtual hardware) will be handled by the guest kernel, "
"on receiving notification, guest APEI driver could read the CPER error and "
"take appropriate action."
msgstr ""

#: ../../../specs/acpi_hest_ghes.rst:108
msgid ""
"kvm_arch_on_sigbus_vcpu() uses source_id as index in \"etc/hardware_errors\" "
"to find out \"Error Status Data Block\" entry corresponding to error source. "
"So supported source_id values should be assigned here and not be changed "
"afterwards to make sure that guest will write error into expected \"Error "
"Status Data Block\" even if guest was migrated to a newer QEMU."
msgstr ""
