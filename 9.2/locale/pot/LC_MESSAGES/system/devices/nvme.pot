# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2024, The QEMU Project Developers
# This file is distributed under the same license as the QEMU package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: QEMU 9.2\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-28 10:00+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../system/devices/nvme.rst:3
msgid "NVMe Emulation"
msgstr ""

#: ../../../system/devices/nvme.rst:5
msgid ""
"QEMU provides NVMe emulation through the ``nvme``, ``nvme-ns`` and ``nvme-"
"subsys`` devices."
msgstr ""

#: ../../../system/devices/nvme.rst:8
msgid "See the following sections for specific information on"
msgstr ""

#: ../../../system/devices/nvme.rst:10
msgid "`Adding NVMe Devices`_, `additional namespaces`_ and `NVM subsystems`_."
msgstr ""

#: ../../../system/devices/nvme.rst:11
msgid ""
"Configuration of `Optional Features`_ such as `Controller Memory Buffer`_, "
"`Simple Copy`_, `Zoned Namespaces`_, `metadata`_ and `End-to-End Data "
"Protection`_,"
msgstr ""

#: ../../../system/devices/nvme.rst:16
msgid "Adding NVMe Devices"
msgstr ""

#: ../../../system/devices/nvme.rst:19
msgid "Controller Emulation"
msgstr ""

#: ../../../system/devices/nvme.rst:21
msgid ""
"The QEMU emulated NVMe controller implements version 1.4 of the NVM Express "
"specification. All mandatory features are implement with a couple of "
"exceptions and limitations:"
msgstr ""

#: ../../../system/devices/nvme.rst:25
msgid ""
"Accounting numbers in the SMART/Health log page are reset when the device is "
"power cycled."
msgstr ""

#: ../../../system/devices/nvme.rst:27
msgid "Interrupt Coalescing is not supported and is disabled by default."
msgstr ""

#: ../../../system/devices/nvme.rst:29
msgid ""
"The simplest way to attach an NVMe controller on the QEMU PCI bus is to add "
"the following parameters:"
msgstr ""

#: ../../../system/devices/nvme.rst:32
msgid ""
"-drive file=nvm.img,if=none,id=nvm\n"
"-device nvme,serial=deadbeef,drive=nvm"
msgstr ""

#: ../../../system/devices/nvme.rst:37
msgid ""
"There are a number of optional general parameters for the ``nvme`` device. "
"Some are mentioned here, but see ``-device nvme,help`` to list all possible "
"parameters."
msgstr ""

#: ../../../system/devices/nvme.rst:41
msgid "``max_ioqpairs=UINT32`` (default: ``64``)"
msgstr ""

#: ../../../system/devices/nvme.rst:42
msgid ""
"Set the maximum number of allowed I/O queue pairs. This replaces the "
"deprecated ``num_queues`` parameter."
msgstr ""

#: ../../../system/devices/nvme.rst:45
msgid "``msix_qsize=UINT16`` (default: ``65``)"
msgstr ""

#: ../../../system/devices/nvme.rst:46
msgid "The number of MSI-X vectors that the device should support."
msgstr ""

#: ../../../system/devices/nvme.rst:48
msgid "``mdts=UINT8`` (default: ``7``)"
msgstr ""

#: ../../../system/devices/nvme.rst:49
msgid "Set the Maximum Data Transfer Size of the device."
msgstr ""

#: ../../../system/devices/nvme.rst:51
msgid "``use-intel-id`` (default: ``off``)"
msgstr ""

#: ../../../system/devices/nvme.rst:52
msgid ""
"Since QEMU 5.2, the device uses a QEMU allocated \"Red Hat\" PCI Device and "
"Vendor ID. Set this to ``on`` to revert to the unallocated Intel ID "
"previously used."
msgstr ""

#: ../../../system/devices/nvme.rst:57
msgid "Additional Namespaces"
msgstr ""

#: ../../../system/devices/nvme.rst:59
msgid ""
"In the simplest possible invocation sketched above, the device only support "
"a single namespace with the namespace identifier ``1``. To support multiple "
"namespaces and additional features, the ``nvme-ns`` device must be used."
msgstr ""

#: ../../../system/devices/nvme.rst:63
msgid ""
"-device nvme,id=nvme-ctrl-0,serial=deadbeef\n"
"-drive file=nvm-1.img,if=none,id=nvm-1\n"
"-device nvme-ns,drive=nvm-1\n"
"-drive file=nvm-2.img,if=none,id=nvm-2\n"
"-device nvme-ns,drive=nvm-2"
msgstr ""

#: ../../../system/devices/nvme.rst:71
msgid ""
"The namespaces defined by the ``nvme-ns`` device will attach to the most "
"recently defined ``nvme-bus`` that is created by the ``nvme`` device. "
"Namespace identifiers are allocated automatically, starting from ``1``."
msgstr ""

#: ../../../system/devices/nvme.rst:75
msgid "There are a number of parameters available:"
msgstr ""

#: ../../../system/devices/nvme.rst:77
msgid "``nsid`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:78
msgid "Explicitly set the namespace identifier."
msgstr ""

#: ../../../system/devices/nvme.rst:80
msgid "``uuid`` (default: *autogenerated*)"
msgstr ""

#: ../../../system/devices/nvme.rst:81
msgid ""
"Set the UUID of the namespace. This will be reported as a \"Namespace UUID\" "
"descriptor in the Namespace Identification Descriptor List."
msgstr ""

#: ../../../system/devices/nvme.rst:84
msgid "``nguid``"
msgstr ""

#: ../../../system/devices/nvme.rst:85
msgid ""
"Set the NGUID of the namespace. This will be reported as a \"Namespace "
"Globally Unique Identifier\" descriptor in the Namespace Identification "
"Descriptor List. It is specified as a string of hexadecimal digits "
"containing exactly 16 bytes or \"auto\" for a random value. An optional '-' "
"separator could be used to group bytes. If not specified the NGUID will "
"remain all zeros."
msgstr ""

#: ../../../system/devices/nvme.rst:91
msgid "``eui64``"
msgstr ""

#: ../../../system/devices/nvme.rst:92
msgid ""
"Set the EUI-64 of the namespace. This will be reported as a \"IEEE Extended "
"Unique Identifier\" descriptor in the Namespace Identification Descriptor "
"List. Since machine type 6.1 a non-zero default value is used if the "
"parameter is not provided. For earlier machine types the field defaults to 0."
msgstr ""

#: ../../../system/devices/nvme.rst:97
msgid "``bus``"
msgstr ""

#: ../../../system/devices/nvme.rst:98
msgid ""
"If there are more ``nvme`` devices defined, this parameter may be used to "
"attach the namespace to a specific ``nvme`` device (identified by an ``id`` "
"parameter on the controller device)."
msgstr ""

#: ../../../system/devices/nvme.rst:103
msgid "NVM Subsystems"
msgstr ""

#: ../../../system/devices/nvme.rst:105
msgid ""
"Additional features becomes available if the controller device (``nvme``) is "
"linked to an NVM Subsystem device (``nvme-subsys``)."
msgstr ""

#: ../../../system/devices/nvme.rst:108
msgid ""
"The NVM Subsystem emulation allows features such as shared namespaces and "
"multipath I/O."
msgstr ""

#: ../../../system/devices/nvme.rst:111
msgid ""
"-device nvme-subsys,id=nvme-subsys-0,nqn=subsys0\n"
"-device nvme,serial=deadbeef,subsys=nvme-subsys-0\n"
"-device nvme,serial=deadbeef,subsys=nvme-subsys-0"
msgstr ""

#: ../../../system/devices/nvme.rst:117
msgid ""
"This will create an NVM subsystem with two controllers. Having controllers "
"linked to an ``nvme-subsys`` device allows additional ``nvme-ns`` parameters:"
msgstr ""

#: ../../../system/devices/nvme.rst:120
msgid "``shared`` (default: ``on`` since 6.2)"
msgstr ""

#: ../../../system/devices/nvme.rst:121
msgid ""
"Specifies that the namespace will be attached to all controllers in the "
"subsystem. If set to ``off``, the namespace will remain a private namespace "
"and may only be attached to a single controller at a time. Shared namespaces "
"are always automatically attached to all controllers (also when controllers "
"are hotplugged)."
msgstr ""

#: ../../../system/devices/nvme.rst:127
msgid "``detached`` (default: ``off``)"
msgstr ""

#: ../../../system/devices/nvme.rst:128
msgid ""
"If set to ``on``, the namespace will be be available in the subsystem, but "
"not attached to any controllers initially. A shared namespace with this set "
"to ``on`` will never be automatically attached to controllers."
msgstr ""

#: ../../../system/devices/nvme.rst:132
msgid "Thus, adding"
msgstr ""

#: ../../../system/devices/nvme.rst:134
msgid ""
"-drive file=nvm-1.img,if=none,id=nvm-1\n"
"-device nvme-ns,drive=nvm-1,nsid=1\n"
"-drive file=nvm-2.img,if=none,id=nvm-2\n"
"-device nvme-ns,drive=nvm-2,nsid=3,shared=off,detached=on"
msgstr ""

#: ../../../system/devices/nvme.rst:141
msgid ""
"will cause NSID 1 will be a shared namespace that is initially attached to "
"both controllers. NSID 3 will be a private namespace due to ``shared=off`` "
"and only attachable to a single controller at a time. Additionally it will "
"not be attached to any controller initially (due to ``detached=on``) or to "
"hotplugged controllers."
msgstr ""

#: ../../../system/devices/nvme.rst:148
msgid "Optional Features"
msgstr ""

#: ../../../system/devices/nvme.rst:151
msgid "Controller Memory Buffer"
msgstr ""

#: ../../../system/devices/nvme.rst:153
msgid ""
"``nvme`` device parameters related to the Controller Memory Buffer support:"
msgstr ""

#: ../../../system/devices/nvme.rst:155
msgid "``cmb_size_mb=UINT32`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:156
msgid ""
"This adds a Controller Memory Buffer of the given size at offset zero in BAR "
"2."
msgstr ""

#: ../../../system/devices/nvme.rst:159
msgid "``legacy-cmb`` (default: ``off``)"
msgstr ""

#: ../../../system/devices/nvme.rst:160
msgid ""
"By default, the device uses the \"v1.4 scheme\" for the Controller Memory "
"Buffer support (i.e, the CMB is initially disabled and must be explicitly "
"enabled by the host). Set this to ``on`` to behave as a v1.3 device wrt. the "
"CMB."
msgstr ""

#: ../../../system/devices/nvme.rst:166
msgid "Simple Copy"
msgstr ""

#: ../../../system/devices/nvme.rst:168
msgid ""
"The device includes support for TP 4065 (\"Simple Copy Command\"). A number "
"of additional ``nvme-ns`` device parameters may be used to control the Copy "
"command limits:"
msgstr ""

#: ../../../system/devices/nvme.rst:172
msgid "``mssrl=UINT16`` (default: ``128``)"
msgstr ""

#: ../../../system/devices/nvme.rst:173
msgid ""
"Set the Maximum Single Source Range Length (``MSSRL``). This is the maximum "
"number of logical blocks that may be specified in each source range."
msgstr ""

#: ../../../system/devices/nvme.rst:176
msgid "``mcl=UINT32`` (default: ``128``)"
msgstr ""

#: ../../../system/devices/nvme.rst:177
msgid ""
"Set the Maximum Copy Length (``MCL``). This is the maximum number of logical "
"blocks that may be specified in a Copy command (the total for all source "
"ranges)."
msgstr ""

#: ../../../system/devices/nvme.rst:181
msgid "``msrc=UINT8`` (default: ``127``)"
msgstr ""

#: ../../../system/devices/nvme.rst:182
msgid ""
"Set the Maximum Source Range Count (``MSRC``). This is the maximum number of "
"source ranges that may be used in a Copy command. This is a 0's based value."
msgstr ""

#: ../../../system/devices/nvme.rst:186
msgid "Zoned Namespaces"
msgstr ""

#: ../../../system/devices/nvme.rst:188
msgid ""
"A namespaces may be \"Zoned\" as defined by TP 4053 (\"Zoned Namespaces\"). "
"Set ``zoned=on`` on an ``nvme-ns`` device to configure it as a zoned "
"namespace."
msgstr ""

#: ../../../system/devices/nvme.rst:191
msgid "The namespace may be configured with additional parameters"
msgstr ""

#: ../../../system/devices/nvme.rst:193
msgid "``zoned.zone_size=SIZE`` (default: ``128MiB``)"
msgstr ""

#: ../../../system/devices/nvme.rst:194
msgid "Define the zone size (``ZSZE``)."
msgstr ""

#: ../../../system/devices/nvme.rst:196
msgid "``zoned.zone_capacity=SIZE`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:197
msgid ""
"Define the zone capacity (``ZCAP``). If left at the default (``0``), the "
"zone capacity will equal the zone size."
msgstr ""

#: ../../../system/devices/nvme.rst:200
msgid "``zoned.descr_ext_size=UINT32`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:201
msgid ""
"Set the Zone Descriptor Extension Size (``ZDES``). Must be a multiple of 64 "
"bytes."
msgstr ""

#: ../../../system/devices/nvme.rst:204
msgid "``zoned.cross_read=BOOL`` (default: ``off``)"
msgstr ""

#: ../../../system/devices/nvme.rst:205
msgid "Set to ``on`` to allow reads to cross zone boundaries."
msgstr ""

#: ../../../system/devices/nvme.rst:207
msgid "``zoned.max_active=UINT32`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:208
msgid ""
"Set the maximum number of active resources (``MAR``). The default (``0``) "
"allows all zones to be active."
msgstr ""

#: ../../../system/devices/nvme.rst:211
msgid "``zoned.max_open=UINT32`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:212
msgid ""
"Set the maximum number of open resources (``MOR``). The default (``0``) "
"allows all zones to be open. If ``zoned.max_active`` is specified, this "
"value must be less than or equal to that."
msgstr ""

#: ../../../system/devices/nvme.rst:216
msgid "``zoned.zasl=UINT8`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:217
msgid ""
"Set the maximum data transfer size for the Zone Append command. Like "
"``mdts``, the value is specified as a power of two (2^n) and is in units of "
"the minimum memory page size (CAP.MPSMIN). The default value (``0``) has "
"this property inherit the ``mdts`` value."
msgstr ""

#: ../../../system/devices/nvme.rst:223
msgid "Flexible Data Placement"
msgstr ""

#: ../../../system/devices/nvme.rst:225
msgid ""
"The device may be configured to support TP4146 (\"Flexible Data Placement\") "
"by configuring it (``fdp=on``) on the subsystem::"
msgstr ""

#: ../../../system/devices/nvme.rst:228
msgid "-device nvme-subsys,id=nvme-subsys-0,nqn=subsys0,fdp=on,fdp.nruh=16"
msgstr ""

#: ../../../system/devices/nvme.rst:230
msgid ""
"The subsystem emulates a single Endurance Group, on which Flexible Data "
"Placement will be supported. Also note that the device emulation deviates "
"slightly from the specification, by always enabling the \"FDP Mode\" feature "
"on the controller if the subsystems is configured for Flexible Data "
"Placement."
msgstr ""

#: ../../../system/devices/nvme.rst:235
msgid ""
"Enabling Flexible Data Placement on the subsyste enables the following "
"parameters:"
msgstr ""

#: ../../../system/devices/nvme.rst:238
msgid "``fdp.nrg`` (default: ``1``)"
msgstr ""

#: ../../../system/devices/nvme.rst:239
msgid "Set the number of Reclaim Groups."
msgstr ""

#: ../../../system/devices/nvme.rst:241
msgid "``fdp.nruh`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:242
msgid ""
"Set the number of Reclaim Unit Handles. This is a mandatory parameter and "
"must be non-zero."
msgstr ""

#: ../../../system/devices/nvme.rst:245
msgid "``fdp.runs`` (default: ``96M``)"
msgstr ""

#: ../../../system/devices/nvme.rst:246
msgid "Set the Reclaim Unit Nominal Size. Defaults to 96 MiB."
msgstr ""

#: ../../../system/devices/nvme.rst:248
msgid "Namespaces within this subsystem may requests Reclaim Unit Handles::"
msgstr ""

#: ../../../system/devices/nvme.rst:250
msgid "-device nvme-ns,drive=nvm-1,fdp.ruhs=RUHLIST"
msgstr ""

#: ../../../system/devices/nvme.rst:252
msgid ""
"The ``RUHLIST`` is a semicolon separated list (i.e. ``0;1;2;3``) and may "
"include ranges (i.e. ``0;8-15``). If no reclaim unit handle list is "
"specified, the controller will assign the controller-specified reclaim unit "
"handle to placement handle identifier 0."
msgstr ""

#: ../../../system/devices/nvme.rst:258
msgid "Metadata"
msgstr ""

#: ../../../system/devices/nvme.rst:260
msgid ""
"The virtual namespace device supports LBA metadata in the form separate "
"metadata (``MPTR``-based) and extended LBAs."
msgstr ""

#: ../../../system/devices/nvme.rst:263
msgid "``ms=UINT16`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:264
msgid "Defines the number of metadata bytes per LBA."
msgstr ""

#: ../../../system/devices/nvme.rst:266
msgid "``mset=UINT8`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:267
msgid "Set to ``1`` to enable extended LBAs."
msgstr ""

#: ../../../system/devices/nvme.rst:270
msgid "End-to-End Data Protection"
msgstr ""

#: ../../../system/devices/nvme.rst:272
msgid ""
"The virtual namespace device supports DIF- and DIX-based protection "
"information (depending on ``mset``)."
msgstr ""

#: ../../../system/devices/nvme.rst:275
msgid "``pi=UINT8`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:276
msgid ""
"Enable protection information of the specified type (type ``1``, ``2`` or "
"``3``)."
msgstr ""

#: ../../../system/devices/nvme.rst:279
msgid "``pil=UINT8`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:280
msgid ""
"Controls the location of the protection information within the metadata. Set "
"to ``1`` to transfer protection information as the first bytes of metadata. "
"Otherwise, the protection information is transferred as the last bytes of "
"metadata."
msgstr ""

#: ../../../system/devices/nvme.rst:285
msgid "``pif=UINT8`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:286
msgid ""
"By default, the namespace device uses 16 bit guard protection information "
"format (``pif=0``). Set to ``2`` to enable 64 bit guard protection "
"information format. This requires at least 16 bytes of metadata. Note that "
"``pif=1`` (32 bit guards) is currently not supported."
msgstr ""

#: ../../../system/devices/nvme.rst:292
msgid "Virtualization Enhancements and SR-IOV (Experimental Support)"
msgstr ""

#: ../../../system/devices/nvme.rst:294
msgid ""
"The ``nvme`` device supports Single Root I/O Virtualization and Sharing "
"along with Virtualization Enhancements. The controller has to be linked to "
"an NVM Subsystem device (``nvme-subsys``) for use with SR-IOV."
msgstr ""

#: ../../../system/devices/nvme.rst:298
msgid ""
"A number of parameters are present (**please note, that they may be subject "
"to change**):"
msgstr ""

#: ../../../system/devices/nvme.rst:301
msgid "``sriov_max_vfs`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:302
msgid ""
"Indicates the maximum number of PCIe virtual functions supported by the "
"controller. Specifying a non-zero value enables reporting of both SR-IOV and "
"ARI (Alternative Routing-ID Interpretation) capabilities by the NVMe device. "
"Virtual function controllers will not report SR-IOV."
msgstr ""

#: ../../../system/devices/nvme.rst:307
msgid "``sriov_vq_flexible``"
msgstr ""

#: ../../../system/devices/nvme.rst:308
msgid ""
"Indicates the total number of flexible queue resources assignable to all the "
"secondary controllers. Implicitly sets the number of primary controller's "
"private resources to ``(max_ioqpairs - sriov_vq_flexible)``."
msgstr ""

#: ../../../system/devices/nvme.rst:312
msgid "``sriov_vi_flexible``"
msgstr ""

#: ../../../system/devices/nvme.rst:313
msgid ""
"Indicates the total number of flexible interrupt resources assignable to all "
"the secondary controllers. Implicitly sets the number of primary "
"controller's private resources to ``(msix_qsize - sriov_vi_flexible)``."
msgstr ""

#: ../../../system/devices/nvme.rst:317
msgid "``sriov_max_vi_per_vf`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:318
msgid ""
"Indicates the maximum number of virtual interrupt resources assignable to a "
"secondary controller. The default ``0`` resolves to ``(sriov_vi_flexible / "
"sriov_max_vfs)``"
msgstr ""

#: ../../../system/devices/nvme.rst:322
msgid "``sriov_max_vq_per_vf`` (default: ``0``)"
msgstr ""

#: ../../../system/devices/nvme.rst:323
msgid ""
"Indicates the maximum number of virtual queue resources assignable to a "
"secondary controller. The default ``0`` resolves to ``(sriov_vq_flexible / "
"sriov_max_vfs)``"
msgstr ""

#: ../../../system/devices/nvme.rst:327
msgid ""
"The simplest possible invocation enables the capability to set up one VF "
"controller and assign an admin queue, an IO queue, and a MSI-X interrupt."
msgstr ""

#: ../../../system/devices/nvme.rst:330
msgid ""
"-device nvme-subsys,id=subsys0\n"
"-device nvme,serial=deadbeef,subsys=subsys0,sriov_max_vfs=1,\n"
" sriov_vq_flexible=2,sriov_vi_flexible=1"
msgstr ""

#: ../../../system/devices/nvme.rst:336
msgid ""
"The minimum steps required to configure a functional NVMe secondary "
"controller are:"
msgstr ""

#: ../../../system/devices/nvme.rst:339
msgid "unbind flexible resources from the primary controller"
msgstr ""

#: ../../../system/devices/nvme.rst:341
msgid ""
" nvme virt-mgmt /dev/nvme0 -c 0 -r 1 -a 1 -n 0\n"
" nvme virt-mgmt /dev/nvme0 -c 0 -r 0 -a 1 -n 0\n"
"\n"
"* perform a Function Level Reset on the primary controller to actually\n"
"  release the resources"
msgstr ""

#: ../../../system/devices/nvme.rst:349
msgid ""
" echo 1 > /sys/bus/pci/devices/0000:01:00.0/reset\n"
"\n"
"* enable VF"
msgstr ""

#: ../../../system/devices/nvme.rst:355
msgid ""
" echo 1 > /sys/bus/pci/devices/0000:01:00.0/sriov_numvfs\n"
"\n"
"* assign the flexible resources to the VF and set it ONLINE"
msgstr ""

#: ../../../system/devices/nvme.rst:361
msgid ""
" nvme virt-mgmt /dev/nvme0 -c 1 -r 1 -a 8 -n 1\n"
" nvme virt-mgmt /dev/nvme0 -c 1 -r 0 -a 8 -n 2\n"
" nvme virt-mgmt /dev/nvme0 -c 1 -r 0 -a 9 -n 0\n"
"\n"
"* bind the NVMe driver to the VF"
msgstr ""

#: ../../../system/devices/nvme.rst:369
msgid "echo 0000:01:00.1 > /sys/bus/pci/drivers/nvme/bind"
msgstr ""
