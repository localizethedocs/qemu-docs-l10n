

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QEMU QMP Reference Manual &mdash; QEMU 10.1.2 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=7ab3649f" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=197ba1a6" />

  
    <link rel="shortcut icon" href="../_static/qemu_32x32.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/qemu-docs-l10n/interop/qemu-qmp-ref.html" />
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=9bc2384b"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=beaddf03"></script>
      <script src="../_static/custom.js?v=2ab9f71d"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="QEMU Storage Daemon QMP Reference Manual" href="qemu-storage-daemon-qmp-ref.html" />
    <link rel="prev" title="QEMU Guest Agent Protocol Reference" href="qemu-ga-ref.html" />
 
<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #802400" >

          
          
          <a href="../index.html" class="icon icon-home">
            QEMU
              <img src="../_static/qemu_128x128.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About QEMU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">System Emulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Mode Emulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">System Emulation Management and Interoperability</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="barrier.html">Barrier client protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="bitmaps.html">Dirty Bitmaps and Incremental Backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="dbus.html">D-Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="dbus-vmstate.html">D-Bus VMState</a></li>
<li class="toctree-l2"><a class="reference internal" href="dbus-display.html">D-Bus display</a></li>
<li class="toctree-l2"><a class="reference internal" href="live-block-operations.html">Live Block Device Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nbd.html">QEMU NBD protocol support</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallels.html">Parallels Expandable Image File Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="prl-xml.html">Parallels Disk Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="qcow2.html">Qcow2 Image File Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="qed_spec.html">QED Image File Format Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="pr-helper.html">Persistent reservation helper protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="qmp-spec.html">QEMU Machine Protocol Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="qemu-ga.html">QEMU Guest Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="qemu-ga-ref.html">QEMU Guest Agent Protocol Reference</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">QEMU QMP Reference Manual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qmp-errors">QMP errors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-error.QapiErrorClass"><code class="docutils literal notranslate"><span class="pre">QapiErrorClass</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#common-data-types">Common data types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.IoOperationType"><code class="docutils literal notranslate"><span class="pre">IoOperationType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.OnOffAuto"><code class="docutils literal notranslate"><span class="pre">OnOffAuto</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.OnOffSplit"><code class="docutils literal notranslate"><span class="pre">OnOffSplit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#alternate-QMP-common.StrOrNull"><code class="docutils literal notranslate"><span class="pre">StrOrNull</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.OffAutoPCIBAR"><code class="docutils literal notranslate"><span class="pre">OffAutoPCIBAR</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.PCIELinkSpeed"><code class="docutils literal notranslate"><span class="pre">PCIELinkSpeed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.PCIELinkWidth"><code class="docutils literal notranslate"><span class="pre">PCIELinkWidth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.HostMemPolicy"><code class="docutils literal notranslate"><span class="pre">HostMemPolicy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.NetFilterDirection"><code class="docutils literal notranslate"><span class="pre">NetFilterDirection</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.GrabToggleKeys"><code class="docutils literal notranslate"><span class="pre">GrabToggleKeys</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-common.HumanReadableText"><code class="docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-common.EndianMode"><code class="docutils literal notranslate"><span class="pre">EndianMode</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#socket-data-types">Socket data types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-sockets.NetworkAddressFamily"><code class="docutils literal notranslate"><span class="pre">NetworkAddressFamily</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.InetSocketAddressBase"><code class="docutils literal notranslate"><span class="pre">InetSocketAddressBase</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.InetSocketAddress"><code class="docutils literal notranslate"><span class="pre">InetSocketAddress</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.UnixSocketAddress"><code class="docutils literal notranslate"><span class="pre">UnixSocketAddress</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.VsockSocketAddress"><code class="docutils literal notranslate"><span class="pre">VsockSocketAddress</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.FdSocketAddress"><code class="docutils literal notranslate"><span class="pre">FdSocketAddress</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.InetSocketAddressWrapper"><code class="docutils literal notranslate"><span class="pre">InetSocketAddressWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.UnixSocketAddressWrapper"><code class="docutils literal notranslate"><span class="pre">UnixSocketAddressWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.VsockSocketAddressWrapper"><code class="docutils literal notranslate"><span class="pre">VsockSocketAddressWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.FdSocketAddressWrapper"><code class="docutils literal notranslate"><span class="pre">FdSocketAddressWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.SocketAddressLegacy"><code class="docutils literal notranslate"><span class="pre">SocketAddressLegacy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-sockets.SocketAddressType"><code class="docutils literal notranslate"><span class="pre">SocketAddressType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-sockets.SocketAddress"><code class="docutils literal notranslate"><span class="pre">SocketAddress</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#vm-run-state">VM run state</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.RunState"><code class="docutils literal notranslate"><span class="pre">RunState</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.ShutdownCause"><code class="docutils literal notranslate"><span class="pre">ShutdownCause</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-run-state.StatusInfo"><code class="docutils literal notranslate"><span class="pre">StatusInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-run-state.query-status"><code class="docutils literal notranslate"><span class="pre">query-status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.SHUTDOWN"><code class="docutils literal notranslate"><span class="pre">SHUTDOWN</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.POWERDOWN"><code class="docutils literal notranslate"><span class="pre">POWERDOWN</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.RESET"><code class="docutils literal notranslate"><span class="pre">RESET</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.STOP"><code class="docutils literal notranslate"><span class="pre">STOP</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.RESUME"><code class="docutils literal notranslate"><span class="pre">RESUME</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.SUSPEND"><code class="docutils literal notranslate"><span class="pre">SUSPEND</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.SUSPEND_DISK"><code class="docutils literal notranslate"><span class="pre">SUSPEND_DISK</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.WAKEUP"><code class="docutils literal notranslate"><span class="pre">WAKEUP</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.WATCHDOG"><code class="docutils literal notranslate"><span class="pre">WATCHDOG</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.WatchdogAction"><code class="docutils literal notranslate"><span class="pre">WatchdogAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.RebootAction"><code class="docutils literal notranslate"><span class="pre">RebootAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.ShutdownAction"><code class="docutils literal notranslate"><span class="pre">ShutdownAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.PanicAction"><code class="docutils literal notranslate"><span class="pre">PanicAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-run-state.watchdog-set-action"><code class="docutils literal notranslate"><span class="pre">watchdog-set-action</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-run-state.set-action"><code class="docutils literal notranslate"><span class="pre">set-action</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.GUEST_PANICKED"><code class="docutils literal notranslate"><span class="pre">GUEST_PANICKED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.GUEST_CRASHLOADED"><code class="docutils literal notranslate"><span class="pre">GUEST_CRASHLOADED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.GUEST_PVSHUTDOWN"><code class="docutils literal notranslate"><span class="pre">GUEST_PVSHUTDOWN</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.GuestPanicAction"><code class="docutils literal notranslate"><span class="pre">GuestPanicAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.GuestPanicInformationType"><code class="docutils literal notranslate"><span class="pre">GuestPanicInformationType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-run-state.GuestPanicInformation"><code class="docutils literal notranslate"><span class="pre">GuestPanicInformation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-run-state.GuestPanicInformationHyperV"><code class="docutils literal notranslate"><span class="pre">GuestPanicInformationHyperV</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.S390CrashReason"><code class="docutils literal notranslate"><span class="pre">S390CrashReason</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-run-state.GuestPanicInformationS390"><code class="docutils literal notranslate"><span class="pre">GuestPanicInformationS390</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-run-state.GuestPanicInformationTdx"><code class="docutils literal notranslate"><span class="pre">GuestPanicInformationTdx</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-run-state.MEMORY_FAILURE"><code class="docutils literal notranslate"><span class="pre">MEMORY_FAILURE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.MemoryFailureRecipient"><code class="docutils literal notranslate"><span class="pre">MemoryFailureRecipient</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.MemoryFailureAction"><code class="docutils literal notranslate"><span class="pre">MemoryFailureAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-run-state.MemoryFailureFlags"><code class="docutils literal notranslate"><span class="pre">MemoryFailureFlags</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-run-state.NotifyVmexitOption"><code class="docutils literal notranslate"><span class="pre">NotifyVmexitOption</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cryptography">Cryptography</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoTLSCredsEndpoint"><code class="docutils literal notranslate"><span class="pre">QCryptoTLSCredsEndpoint</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoSecretFormat"><code class="docutils literal notranslate"><span class="pre">QCryptoSecretFormat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoHashAlgo"><code class="docutils literal notranslate"><span class="pre">QCryptoHashAlgo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoCipherAlgo"><code class="docutils literal notranslate"><span class="pre">QCryptoCipherAlgo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoCipherMode"><code class="docutils literal notranslate"><span class="pre">QCryptoCipherMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoIVGenAlgo"><code class="docutils literal notranslate"><span class="pre">QCryptoIVGenAlgo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoBlockFormat"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockFormat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsBase"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockOptionsBase</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsQCow"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockOptionsQCow</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsLUKS"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockOptionsLUKS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockCreateOptionsLUKS"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockCreateOptionsLUKS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOpenOptions"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockOpenOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockCreateOptions"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockCreateOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfoBase"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockInfoBase</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfoLUKSSlot"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockInfoLUKSSlot</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfoLUKS"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockInfoLUKS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfo"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoBlockLUKSKeyslotState"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockLUKSKeyslotState</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockAmendOptionsLUKS"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockAmendOptionsLUKS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockAmendOptions"><code class="docutils literal notranslate"><span class="pre">QCryptoBlockAmendOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.SecretCommonProperties"><code class="docutils literal notranslate"><span class="pre">SecretCommonProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.SecretProperties"><code class="docutils literal notranslate"><span class="pre">SecretProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.SecretKeyringProperties"><code class="docutils literal notranslate"><span class="pre">SecretKeyringProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.TlsCredsProperties"><code class="docutils literal notranslate"><span class="pre">TlsCredsProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.TlsCredsAnonProperties"><code class="docutils literal notranslate"><span class="pre">TlsCredsAnonProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.TlsCredsPskProperties"><code class="docutils literal notranslate"><span class="pre">TlsCredsPskProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.TlsCredsX509Properties"><code class="docutils literal notranslate"><span class="pre">TlsCredsX509Properties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoAkCipherAlgo"><code class="docutils literal notranslate"><span class="pre">QCryptoAkCipherAlgo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoAkCipherKeyType"><code class="docutils literal notranslate"><span class="pre">QCryptoAkCipherKeyType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-crypto.QCryptoRSAPaddingAlgo"><code class="docutils literal notranslate"><span class="pre">QCryptoRSAPaddingAlgo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoAkCipherOptionsRSA"><code class="docutils literal notranslate"><span class="pre">QCryptoAkCipherOptionsRSA</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-crypto.QCryptoAkCipherOptions"><code class="docutils literal notranslate"><span class="pre">QCryptoAkCipherOptions</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#background-jobs">Background jobs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-job.JobType"><code class="docutils literal notranslate"><span class="pre">JobType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-job.JobStatus"><code class="docutils literal notranslate"><span class="pre">JobStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-job.JobVerb"><code class="docutils literal notranslate"><span class="pre">JobVerb</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-job.JOB_STATUS_CHANGE"><code class="docutils literal notranslate"><span class="pre">JOB_STATUS_CHANGE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-job.job-pause"><code class="docutils literal notranslate"><span class="pre">job-pause</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-job.job-resume"><code class="docutils literal notranslate"><span class="pre">job-resume</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-job.job-cancel"><code class="docutils literal notranslate"><span class="pre">job-cancel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-job.job-complete"><code class="docutils literal notranslate"><span class="pre">job-complete</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-job.job-dismiss"><code class="docutils literal notranslate"><span class="pre">job-dismiss</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-job.job-finalize"><code class="docutils literal notranslate"><span class="pre">job-finalize</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-job.JobInfo"><code class="docutils literal notranslate"><span class="pre">JobInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-job.query-jobs"><code class="docutils literal notranslate"><span class="pre">query-jobs</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#accelerators">Accelerators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-accelerator.KvmInfo"><code class="docutils literal notranslate"><span class="pre">KvmInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-accelerator.query-kvm"><code class="docutils literal notranslate"><span class="pre">query-kvm</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-accelerator.x-accel-stats"><code class="docutils literal notranslate"><span class="pre">x-accel-stats</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#block-devices">Block devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#block-core-vm-unrelated">Block core (VM unrelated)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-block-stuff-vm-related">Additional block stuff (VM related)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#block-device-exports">Block device exports</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#character-devices">Character devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevInfo"><code class="docutils literal notranslate"><span class="pre">ChardevInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-char.query-chardev"><code class="docutils literal notranslate"><span class="pre">query-chardev</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevBackendInfo"><code class="docutils literal notranslate"><span class="pre">ChardevBackendInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-char.query-chardev-backends"><code class="docutils literal notranslate"><span class="pre">query-chardev-backends</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-char.DataFormat"><code class="docutils literal notranslate"><span class="pre">DataFormat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-char.ringbuf-write"><code class="docutils literal notranslate"><span class="pre">ringbuf-write</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-char.ringbuf-read"><code class="docutils literal notranslate"><span class="pre">ringbuf-read</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevCommon"><code class="docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevFile"><code class="docutils literal notranslate"><span class="pre">ChardevFile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevHostdev"><code class="docutils literal notranslate"><span class="pre">ChardevHostdev</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevSocket"><code class="docutils literal notranslate"><span class="pre">ChardevSocket</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevUdp"><code class="docutils literal notranslate"><span class="pre">ChardevUdp</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevMux"><code class="docutils literal notranslate"><span class="pre">ChardevMux</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevHub"><code class="docutils literal notranslate"><span class="pre">ChardevHub</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevStdio"><code class="docutils literal notranslate"><span class="pre">ChardevStdio</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevSpiceChannel"><code class="docutils literal notranslate"><span class="pre">ChardevSpiceChannel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevSpicePort"><code class="docutils literal notranslate"><span class="pre">ChardevSpicePort</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevDBus"><code class="docutils literal notranslate"><span class="pre">ChardevDBus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevVC"><code class="docutils literal notranslate"><span class="pre">ChardevVC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevRingbuf"><code class="docutils literal notranslate"><span class="pre">ChardevRingbuf</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevQemuVDAgent"><code class="docutils literal notranslate"><span class="pre">ChardevQemuVDAgent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevPty"><code class="docutils literal notranslate"><span class="pre">ChardevPty</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-char.ChardevBackendKind"><code class="docutils literal notranslate"><span class="pre">ChardevBackendKind</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevFileWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevFileWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevHostdevWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevHostdevWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevSocketWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevSocketWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevUdpWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevUdpWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevCommonWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevCommonWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevMuxWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevMuxWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevHubWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevHubWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevStdioWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevStdioWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevSpiceChannelWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevSpiceChannelWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevSpicePortWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevSpicePortWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevQemuVDAgentWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevQemuVDAgentWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevDBusWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevDBusWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevVCWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevVCWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevRingbufWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevRingbufWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevPtyWrapper"><code class="docutils literal notranslate"><span class="pre">ChardevPtyWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevBackend"><code class="docutils literal notranslate"><span class="pre">ChardevBackend</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-char.ChardevReturn"><code class="docutils literal notranslate"><span class="pre">ChardevReturn</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-char.chardev-add"><code class="docutils literal notranslate"><span class="pre">chardev-add</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-char.chardev-change"><code class="docutils literal notranslate"><span class="pre">chardev-change</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-char.chardev-remove"><code class="docutils literal notranslate"><span class="pre">chardev-remove</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-char.chardev-send-break"><code class="docutils literal notranslate"><span class="pre">chardev-send-break</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-char.VSERPORT_CHANGE"><code class="docutils literal notranslate"><span class="pre">VSERPORT_CHANGE</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dump-guest-memory">Dump guest memory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-dump.DumpGuestMemoryFormat"><code class="docutils literal notranslate"><span class="pre">DumpGuestMemoryFormat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-dump.dump-guest-memory"><code class="docutils literal notranslate"><span class="pre">dump-guest-memory</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-dump.DumpStatus"><code class="docutils literal notranslate"><span class="pre">DumpStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-dump.DumpQueryResult"><code class="docutils literal notranslate"><span class="pre">DumpQueryResult</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-dump.query-dump"><code class="docutils literal notranslate"><span class="pre">query-dump</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-dump.DUMP_COMPLETED"><code class="docutils literal notranslate"><span class="pre">DUMP_COMPLETED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-dump.DumpGuestMemoryCapability"><code class="docutils literal notranslate"><span class="pre">DumpGuestMemoryCapability</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-dump.query-dump-guest-memory-capability"><code class="docutils literal notranslate"><span class="pre">query-dump-guest-memory-capability</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#net-devices">Net devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-net.set_link"><code class="docutils literal notranslate"><span class="pre">set_link</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-net.netdev_add"><code class="docutils literal notranslate"><span class="pre">netdev_add</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-net.netdev_del"><code class="docutils literal notranslate"><span class="pre">netdev_del</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetLegacyNicOptions"><code class="docutils literal notranslate"><span class="pre">NetLegacyNicOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.String"><code class="docutils literal notranslate"><span class="pre">String</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetDevPasstOptions"><code class="docutils literal notranslate"><span class="pre">NetDevPasstOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevUserOptions"><code class="docutils literal notranslate"><span class="pre">NetdevUserOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevTapOptions"><code class="docutils literal notranslate"><span class="pre">NetdevTapOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevSocketOptions"><code class="docutils literal notranslate"><span class="pre">NetdevSocketOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevL2TPv3Options"><code class="docutils literal notranslate"><span class="pre">NetdevL2TPv3Options</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevVdeOptions"><code class="docutils literal notranslate"><span class="pre">NetdevVdeOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevBridgeOptions"><code class="docutils literal notranslate"><span class="pre">NetdevBridgeOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevHubPortOptions"><code class="docutils literal notranslate"><span class="pre">NetdevHubPortOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevNetmapOptions"><code class="docutils literal notranslate"><span class="pre">NetdevNetmapOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-net.AFXDPMode"><code class="docutils literal notranslate"><span class="pre">AFXDPMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevAFXDPOptions"><code class="docutils literal notranslate"><span class="pre">NetdevAFXDPOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevVhostUserOptions"><code class="docutils literal notranslate"><span class="pre">NetdevVhostUserOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevVhostVDPAOptions"><code class="docutils literal notranslate"><span class="pre">NetdevVhostVDPAOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevVmnetHostOptions"><code class="docutils literal notranslate"><span class="pre">NetdevVmnetHostOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevVmnetSharedOptions"><code class="docutils literal notranslate"><span class="pre">NetdevVmnetSharedOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevVmnetBridgedOptions"><code class="docutils literal notranslate"><span class="pre">NetdevVmnetBridgedOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevStreamOptions"><code class="docutils literal notranslate"><span class="pre">NetdevStreamOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.NetdevDgramOptions"><code class="docutils literal notranslate"><span class="pre">NetdevDgramOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-net.NetClientDriver"><code class="docutils literal notranslate"><span class="pre">NetClientDriver</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.Netdev"><code class="docutils literal notranslate"><span class="pre">Netdev</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-net.RxState"><code class="docutils literal notranslate"><span class="pre">RxState</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.RxFilterInfo"><code class="docutils literal notranslate"><span class="pre">RxFilterInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-net.query-rx-filter"><code class="docutils literal notranslate"><span class="pre">query-rx-filter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-net.NIC_RX_FILTER_CHANGED"><code class="docutils literal notranslate"><span class="pre">NIC_RX_FILTER_CHANGED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-net.AnnounceParameters"><code class="docutils literal notranslate"><span class="pre">AnnounceParameters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-net.announce-self"><code class="docutils literal notranslate"><span class="pre">announce-self</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-net.FAILOVER_NEGOTIATED"><code class="docutils literal notranslate"><span class="pre">FAILOVER_NEGOTIATED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-net.NETDEV_STREAM_CONNECTED"><code class="docutils literal notranslate"><span class="pre">NETDEV_STREAM_CONNECTED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-net.NETDEV_STREAM_DISCONNECTED"><code class="docutils literal notranslate"><span class="pre">NETDEV_STREAM_DISCONNECTED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-net.NETDEV_VHOST_USER_CONNECTED"><code class="docutils literal notranslate"><span class="pre">NETDEV_VHOST_USER_CONNECTED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-net.NETDEV_VHOST_USER_DISCONNECTED"><code class="docutils literal notranslate"><span class="pre">NETDEV_VHOST_USER_DISCONNECTED</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ebpf-objects">eBPF Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ebpf.EbpfObject"><code class="docutils literal notranslate"><span class="pre">EbpfObject</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ebpf.EbpfProgramID"><code class="docutils literal notranslate"><span class="pre">EbpfProgramID</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ebpf.request-ebpf"><code class="docutils literal notranslate"><span class="pre">request-ebpf</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rocker-switch-device">Rocker switch device</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-rocker.RockerSwitch"><code class="docutils literal notranslate"><span class="pre">RockerSwitch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-rocker.query-rocker"><code class="docutils literal notranslate"><span class="pre">query-rocker</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-rocker.RockerPortDuplex"><code class="docutils literal notranslate"><span class="pre">RockerPortDuplex</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-rocker.RockerPortAutoneg"><code class="docutils literal notranslate"><span class="pre">RockerPortAutoneg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-rocker.RockerPort"><code class="docutils literal notranslate"><span class="pre">RockerPort</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-rocker.query-rocker-ports"><code class="docutils literal notranslate"><span class="pre">query-rocker-ports</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaFlowKey"><code class="docutils literal notranslate"><span class="pre">RockerOfDpaFlowKey</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaFlowMask"><code class="docutils literal notranslate"><span class="pre">RockerOfDpaFlowMask</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaFlowAction"><code class="docutils literal notranslate"><span class="pre">RockerOfDpaFlowAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaFlow"><code class="docutils literal notranslate"><span class="pre">RockerOfDpaFlow</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-rocker.query-rocker-of-dpa-flows"><code class="docutils literal notranslate"><span class="pre">query-rocker-of-dpa-flows</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaGroup"><code class="docutils literal notranslate"><span class="pre">RockerOfDpaGroup</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-rocker.query-rocker-of-dpa-groups"><code class="docutils literal notranslate"><span class="pre">query-rocker-of-dpa-groups</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tpm-trusted-platform-module-devices">TPM (trusted platform module) devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-tpm.TpmModel"><code class="docutils literal notranslate"><span class="pre">TpmModel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-tpm.query-tpm-models"><code class="docutils literal notranslate"><span class="pre">query-tpm-models</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-tpm.TpmType"><code class="docutils literal notranslate"><span class="pre">TpmType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-tpm.query-tpm-types"><code class="docutils literal notranslate"><span class="pre">query-tpm-types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-tpm.TPMPassthroughOptions"><code class="docutils literal notranslate"><span class="pre">TPMPassthroughOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-tpm.TPMEmulatorOptions"><code class="docutils literal notranslate"><span class="pre">TPMEmulatorOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-tpm.TPMPassthroughOptionsWrapper"><code class="docutils literal notranslate"><span class="pre">TPMPassthroughOptionsWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-tpm.TPMEmulatorOptionsWrapper"><code class="docutils literal notranslate"><span class="pre">TPMEmulatorOptionsWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-tpm.TpmTypeOptions"><code class="docutils literal notranslate"><span class="pre">TpmTypeOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-tpm.TPMInfo"><code class="docutils literal notranslate"><span class="pre">TPMInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-tpm.query-tpm"><code class="docutils literal notranslate"><span class="pre">query-tpm</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remote-desktop">Remote desktop</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.DisplayProtocol"><code class="docutils literal notranslate"><span class="pre">DisplayProtocol</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.SetPasswordAction"><code class="docutils literal notranslate"><span class="pre">SetPasswordAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.SetPasswordOptions"><code class="docutils literal notranslate"><span class="pre">SetPasswordOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.SetPasswordOptionsVnc"><code class="docutils literal notranslate"><span class="pre">SetPasswordOptionsVnc</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.set_password"><code class="docutils literal notranslate"><span class="pre">set_password</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.ExpirePasswordOptions"><code class="docutils literal notranslate"><span class="pre">ExpirePasswordOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.ExpirePasswordOptionsVnc"><code class="docutils literal notranslate"><span class="pre">ExpirePasswordOptionsVnc</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.expire_password"><code class="docutils literal notranslate"><span class="pre">expire_password</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.ImageFormat"><code class="docutils literal notranslate"><span class="pre">ImageFormat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.screendump"><code class="docutils literal notranslate"><span class="pre">screendump</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#spice">Spice</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vnc">VNC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#input">Input</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.MouseInfo"><code class="docutils literal notranslate"><span class="pre">MouseInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.query-mice"><code class="docutils literal notranslate"><span class="pre">query-mice</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.QKeyCode"><code class="docutils literal notranslate"><span class="pre">QKeyCode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.KeyValueKind"><code class="docutils literal notranslate"><span class="pre">KeyValueKind</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.IntWrapper"><code class="docutils literal notranslate"><span class="pre">IntWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.QKeyCodeWrapper"><code class="docutils literal notranslate"><span class="pre">QKeyCodeWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.KeyValue"><code class="docutils literal notranslate"><span class="pre">KeyValue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.send-key"><code class="docutils literal notranslate"><span class="pre">send-key</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.InputButton"><code class="docutils literal notranslate"><span class="pre">InputButton</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.InputAxis"><code class="docutils literal notranslate"><span class="pre">InputAxis</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.InputMultiTouchType"><code class="docutils literal notranslate"><span class="pre">InputMultiTouchType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputKeyEvent"><code class="docutils literal notranslate"><span class="pre">InputKeyEvent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputBtnEvent"><code class="docutils literal notranslate"><span class="pre">InputBtnEvent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputMoveEvent"><code class="docutils literal notranslate"><span class="pre">InputMoveEvent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputMultiTouchEvent"><code class="docutils literal notranslate"><span class="pre">InputMultiTouchEvent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.InputEventKind"><code class="docutils literal notranslate"><span class="pre">InputEventKind</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputKeyEventWrapper"><code class="docutils literal notranslate"><span class="pre">InputKeyEventWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputBtnEventWrapper"><code class="docutils literal notranslate"><span class="pre">InputBtnEventWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputMoveEventWrapper"><code class="docutils literal notranslate"><span class="pre">InputMoveEventWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputMultiTouchEventWrapper"><code class="docutils literal notranslate"><span class="pre">InputMultiTouchEventWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.InputEvent"><code class="docutils literal notranslate"><span class="pre">InputEvent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.input-send-event"><code class="docutils literal notranslate"><span class="pre">input-send-event</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayGTK"><code class="docutils literal notranslate"><span class="pre">DisplayGTK</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayEGLHeadless"><code class="docutils literal notranslate"><span class="pre">DisplayEGLHeadless</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayDBus"><code class="docutils literal notranslate"><span class="pre">DisplayDBus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.DisplayGLMode"><code class="docutils literal notranslate"><span class="pre">DisplayGLMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayCurses"><code class="docutils literal notranslate"><span class="pre">DisplayCurses</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayCocoa"><code class="docutils literal notranslate"><span class="pre">DisplayCocoa</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.HotKeyMod"><code class="docutils literal notranslate"><span class="pre">HotKeyMod</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplaySDL"><code class="docutils literal notranslate"><span class="pre">DisplaySDL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.DisplayType"><code class="docutils literal notranslate"><span class="pre">DisplayType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayOptions"><code class="docutils literal notranslate"><span class="pre">DisplayOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.query-display-options"><code class="docutils literal notranslate"><span class="pre">query-display-options</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.DisplayReloadType"><code class="docutils literal notranslate"><span class="pre">DisplayReloadType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayReloadOptionsVNC"><code class="docutils literal notranslate"><span class="pre">DisplayReloadOptionsVNC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayReloadOptions"><code class="docutils literal notranslate"><span class="pre">DisplayReloadOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.display-reload"><code class="docutils literal notranslate"><span class="pre">display-reload</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-ui.DisplayUpdateType"><code class="docutils literal notranslate"><span class="pre">DisplayUpdateType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayUpdateOptionsVNC"><code class="docutils literal notranslate"><span class="pre">DisplayUpdateOptionsVNC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-ui.DisplayUpdateOptions"><code class="docutils literal notranslate"><span class="pre">DisplayUpdateOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.display-update"><code class="docutils literal notranslate"><span class="pre">display-update</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-ui.client_migrate_info"><code class="docutils literal notranslate"><span class="pre">client_migrate_info</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#user-authorization">User authorization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-authz.QAuthZListPolicy"><code class="docutils literal notranslate"><span class="pre">QAuthZListPolicy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-authz.QAuthZListFormat"><code class="docutils literal notranslate"><span class="pre">QAuthZListFormat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-authz.QAuthZListRule"><code class="docutils literal notranslate"><span class="pre">QAuthZListRule</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-authz.AuthZListProperties"><code class="docutils literal notranslate"><span class="pre">AuthZListProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-authz.AuthZListFileProperties"><code class="docutils literal notranslate"><span class="pre">AuthZListFileProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-authz.AuthZPAMProperties"><code class="docutils literal notranslate"><span class="pre">AuthZPAMProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-authz.AuthZSimpleProperties"><code class="docutils literal notranslate"><span class="pre">AuthZSimpleProperties</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#migration">Migration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrationStats"><code class="docutils literal notranslate"><span class="pre">MigrationStats</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.XBZRLECacheStats"><code class="docutils literal notranslate"><span class="pre">XBZRLECacheStats</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.CompressionStats"><code class="docutils literal notranslate"><span class="pre">CompressionStats</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.MigrationStatus"><code class="docutils literal notranslate"><span class="pre">MigrationStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.VfioStats"><code class="docutils literal notranslate"><span class="pre">VfioStats</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrationInfo"><code class="docutils literal notranslate"><span class="pre">MigrationInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.query-migrate"><code class="docutils literal notranslate"><span class="pre">query-migrate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.MigrationCapability"><code class="docutils literal notranslate"><span class="pre">MigrationCapability</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrationCapabilityStatus"><code class="docutils literal notranslate"><span class="pre">MigrationCapabilityStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate-set-capabilities"><code class="docutils literal notranslate"><span class="pre">migrate-set-capabilities</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.query-migrate-capabilities"><code class="docutils literal notranslate"><span class="pre">query-migrate-capabilities</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.MultiFDCompression"><code class="docutils literal notranslate"><span class="pre">MultiFDCompression</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.MigMode"><code class="docutils literal notranslate"><span class="pre">MigMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.ZeroPageDetection"><code class="docutils literal notranslate"><span class="pre">ZeroPageDetection</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.BitmapMigrationBitmapAliasTransform"><code class="docutils literal notranslate"><span class="pre">BitmapMigrationBitmapAliasTransform</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.BitmapMigrationBitmapAlias"><code class="docutils literal notranslate"><span class="pre">BitmapMigrationBitmapAlias</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.BitmapMigrationNodeAlias"><code class="docutils literal notranslate"><span class="pre">BitmapMigrationNodeAlias</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.MigrationParameter"><code class="docutils literal notranslate"><span class="pre">MigrationParameter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrateSetParameters"><code class="docutils literal notranslate"><span class="pre">MigrateSetParameters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate-set-parameters"><code class="docutils literal notranslate"><span class="pre">migrate-set-parameters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrationParameters"><code class="docutils literal notranslate"><span class="pre">MigrationParameters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.query-migrate-parameters"><code class="docutils literal notranslate"><span class="pre">query-migrate-parameters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate-start-postcopy"><code class="docutils literal notranslate"><span class="pre">migrate-start-postcopy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-migration.MIGRATION"><code class="docutils literal notranslate"><span class="pre">MIGRATION</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-migration.MIGRATION_PASS"><code class="docutils literal notranslate"><span class="pre">MIGRATION_PASS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.COLOMessage"><code class="docutils literal notranslate"><span class="pre">COLOMessage</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.COLOMode"><code class="docutils literal notranslate"><span class="pre">COLOMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.FailoverStatus"><code class="docutils literal notranslate"><span class="pre">FailoverStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-migration.COLO_EXIT"><code class="docutils literal notranslate"><span class="pre">COLO_EXIT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.COLOExitReason"><code class="docutils literal notranslate"><span class="pre">COLOExitReason</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.x-colo-lost-heartbeat"><code class="docutils literal notranslate"><span class="pre">x-colo-lost-heartbeat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate_cancel"><code class="docutils literal notranslate"><span class="pre">migrate_cancel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate-continue"><code class="docutils literal notranslate"><span class="pre">migrate-continue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.MigrationAddressType"><code class="docutils literal notranslate"><span class="pre">MigrationAddressType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.FileMigrationArgs"><code class="docutils literal notranslate"><span class="pre">FileMigrationArgs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrationExecCommand"><code class="docutils literal notranslate"><span class="pre">MigrationExecCommand</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrationAddress"><code class="docutils literal notranslate"><span class="pre">MigrationAddress</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.MigrationChannelType"><code class="docutils literal notranslate"><span class="pre">MigrationChannelType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrationChannel"><code class="docutils literal notranslate"><span class="pre">MigrationChannel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate"><code class="docutils literal notranslate"><span class="pre">migrate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate-incoming"><code class="docutils literal notranslate"><span class="pre">migrate-incoming</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.xen-save-devices-state"><code class="docutils literal notranslate"><span class="pre">xen-save-devices-state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.xen-set-global-dirty-log"><code class="docutils literal notranslate"><span class="pre">xen-set-global-dirty-log</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.xen-load-devices-state"><code class="docutils literal notranslate"><span class="pre">xen-load-devices-state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.xen-set-replication"><code class="docutils literal notranslate"><span class="pre">xen-set-replication</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.ReplicationStatus"><code class="docutils literal notranslate"><span class="pre">ReplicationStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.query-xen-replication-status"><code class="docutils literal notranslate"><span class="pre">query-xen-replication-status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.xen-colo-do-checkpoint"><code class="docutils literal notranslate"><span class="pre">xen-colo-do-checkpoint</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.COLOStatus"><code class="docutils literal notranslate"><span class="pre">COLOStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.query-colo-status"><code class="docutils literal notranslate"><span class="pre">query-colo-status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate-recover"><code class="docutils literal notranslate"><span class="pre">migrate-recover</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.migrate-pause"><code class="docutils literal notranslate"><span class="pre">migrate-pause</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-migration.UNPLUG_PRIMARY"><code class="docutils literal notranslate"><span class="pre">UNPLUG_PRIMARY</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.DirtyRateVcpu"><code class="docutils literal notranslate"><span class="pre">DirtyRateVcpu</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.DirtyRateStatus"><code class="docutils literal notranslate"><span class="pre">DirtyRateStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.DirtyRateMeasureMode"><code class="docutils literal notranslate"><span class="pre">DirtyRateMeasureMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-migration.TimeUnit"><code class="docutils literal notranslate"><span class="pre">TimeUnit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.DirtyRateInfo"><code class="docutils literal notranslate"><span class="pre">DirtyRateInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.calc-dirty-rate"><code class="docutils literal notranslate"><span class="pre">calc-dirty-rate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.query-dirty-rate"><code class="docutils literal notranslate"><span class="pre">query-dirty-rate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.DirtyLimitInfo"><code class="docutils literal notranslate"><span class="pre">DirtyLimitInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.set-vcpu-dirty-limit"><code class="docutils literal notranslate"><span class="pre">set-vcpu-dirty-limit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.cancel-vcpu-dirty-limit"><code class="docutils literal notranslate"><span class="pre">cancel-vcpu-dirty-limit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.query-vcpu-dirty-limit"><code class="docutils literal notranslate"><span class="pre">query-vcpu-dirty-limit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-migration.MigrationThreadInfo"><code class="docutils literal notranslate"><span class="pre">MigrationThreadInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.query-migrationthreads"><code class="docutils literal notranslate"><span class="pre">query-migrationthreads</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.snapshot-save"><code class="docutils literal notranslate"><span class="pre">snapshot-save</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.snapshot-load"><code class="docutils literal notranslate"><span class="pre">snapshot-load</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-migration.snapshot-delete"><code class="docutils literal notranslate"><span class="pre">snapshot-delete</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#transactions">Transactions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.Abort"><code class="docutils literal notranslate"><span class="pre">Abort</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-transaction.ActionCompletionMode"><code class="docutils literal notranslate"><span class="pre">ActionCompletionMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-transaction.TransactionActionKind"><code class="docutils literal notranslate"><span class="pre">TransactionActionKind</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.AbortWrapper"><code class="docutils literal notranslate"><span class="pre">AbortWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapAddWrapper"><code class="docutils literal notranslate"><span class="pre">BlockDirtyBitmapAddWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapWrapper"><code class="docutils literal notranslate"><span class="pre">BlockDirtyBitmapWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapMergeWrapper"><code class="docutils literal notranslate"><span class="pre">BlockDirtyBitmapMergeWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.BlockdevBackupWrapper"><code class="docutils literal notranslate"><span class="pre">BlockdevBackupWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.BlockdevSnapshotWrapper"><code class="docutils literal notranslate"><span class="pre">BlockdevSnapshotWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.BlockdevSnapshotInternalWrapper"><code class="docutils literal notranslate"><span class="pre">BlockdevSnapshotInternalWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.BlockdevSnapshotSyncWrapper"><code class="docutils literal notranslate"><span class="pre">BlockdevSnapshotSyncWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.DriveBackupWrapper"><code class="docutils literal notranslate"><span class="pre">DriveBackupWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.TransactionAction"><code class="docutils literal notranslate"><span class="pre">TransactionAction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-transaction.TransactionProperties"><code class="docutils literal notranslate"><span class="pre">TransactionProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-transaction.transaction"><code class="docutils literal notranslate"><span class="pre">transaction</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tracing">Tracing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-trace.TraceEventState"><code class="docutils literal notranslate"><span class="pre">TraceEventState</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-trace.TraceEventInfo"><code class="docutils literal notranslate"><span class="pre">TraceEventInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-trace.trace-event-get-state"><code class="docutils literal notranslate"><span class="pre">trace-event-get-state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-trace.trace-event-set-state"><code class="docutils literal notranslate"><span class="pre">trace-event-set-state</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compatibility-policy">Compatibility policy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-compat.CompatPolicyInput"><code class="docutils literal notranslate"><span class="pre">CompatPolicyInput</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-compat.CompatPolicyOutput"><code class="docutils literal notranslate"><span class="pre">CompatPolicyOutput</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-compat.CompatPolicy"><code class="docutils literal notranslate"><span class="pre">CompatPolicy</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#qmp-monitor-control">QMP monitor control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-control.qmp_capabilities"><code class="docutils literal notranslate"><span class="pre">qmp_capabilities</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-control.QMPCapability"><code class="docutils literal notranslate"><span class="pre">QMPCapability</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-control.VersionTriple"><code class="docutils literal notranslate"><span class="pre">VersionTriple</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-control.VersionInfo"><code class="docutils literal notranslate"><span class="pre">VersionInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-control.query-version"><code class="docutils literal notranslate"><span class="pre">query-version</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-control.CommandInfo"><code class="docutils literal notranslate"><span class="pre">CommandInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-control.query-commands"><code class="docutils literal notranslate"><span class="pre">query-commands</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-control.quit"><code class="docutils literal notranslate"><span class="pre">quit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-control.MonitorMode"><code class="docutils literal notranslate"><span class="pre">MonitorMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-control.MonitorOptions"><code class="docutils literal notranslate"><span class="pre">MonitorOptions</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#qmp-introspection">QMP introspection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-introspect.query-qmp-schema"><code class="docutils literal notranslate"><span class="pre">query-qmp-schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-introspect.SchemaMetaType"><code class="docutils literal notranslate"><span class="pre">SchemaMetaType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfo"><code class="docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoBuiltin"><code class="docutils literal notranslate"><span class="pre">SchemaInfoBuiltin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-introspect.JSONType"><code class="docutils literal notranslate"><span class="pre">JSONType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoEnum"><code class="docutils literal notranslate"><span class="pre">SchemaInfoEnum</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoEnumMember"><code class="docutils literal notranslate"><span class="pre">SchemaInfoEnumMember</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoArray"><code class="docutils literal notranslate"><span class="pre">SchemaInfoArray</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoObject"><code class="docutils literal notranslate"><span class="pre">SchemaInfoObject</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoObjectMember"><code class="docutils literal notranslate"><span class="pre">SchemaInfoObjectMember</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoObjectVariant"><code class="docutils literal notranslate"><span class="pre">SchemaInfoObjectVariant</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoAlternate"><code class="docutils literal notranslate"><span class="pre">SchemaInfoAlternate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoAlternateMember"><code class="docutils literal notranslate"><span class="pre">SchemaInfoAlternateMember</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoCommand"><code class="docutils literal notranslate"><span class="pre">SchemaInfoCommand</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-introspect.SchemaInfoEvent"><code class="docutils literal notranslate"><span class="pre">SchemaInfoEvent</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#qemu-object-model-qom">QEMU Object Model (QOM)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.ObjectPropertyInfo"><code class="docutils literal notranslate"><span class="pre">ObjectPropertyInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.ObjectPropertyValue"><code class="docutils literal notranslate"><span class="pre">ObjectPropertyValue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.ObjectPropertiesValues"><code class="docutils literal notranslate"><span class="pre">ObjectPropertiesValues</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qom.qom-list"><code class="docutils literal notranslate"><span class="pre">qom-list</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qom.qom-get"><code class="docutils literal notranslate"><span class="pre">qom-get</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qom.qom-list-get"><code class="docutils literal notranslate"><span class="pre">qom-list-get</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qom.qom-set"><code class="docutils literal notranslate"><span class="pre">qom-set</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.ObjectTypeInfo"><code class="docutils literal notranslate"><span class="pre">ObjectTypeInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qom.qom-list-types"><code class="docutils literal notranslate"><span class="pre">qom-list-types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qom.qom-list-properties"><code class="docutils literal notranslate"><span class="pre">qom-list-properties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.CanHostSocketcanProperties"><code class="docutils literal notranslate"><span class="pre">CanHostSocketcanProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.ColoCompareProperties"><code class="docutils literal notranslate"><span class="pre">ColoCompareProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.CryptodevBackendProperties"><code class="docutils literal notranslate"><span class="pre">CryptodevBackendProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.CryptodevVhostUserProperties"><code class="docutils literal notranslate"><span class="pre">CryptodevVhostUserProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.DBusVMStateProperties"><code class="docutils literal notranslate"><span class="pre">DBusVMStateProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-qom.NetfilterInsert"><code class="docutils literal notranslate"><span class="pre">NetfilterInsert</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.NetfilterProperties"><code class="docutils literal notranslate"><span class="pre">NetfilterProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.FilterBufferProperties"><code class="docutils literal notranslate"><span class="pre">FilterBufferProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.FilterDumpProperties"><code class="docutils literal notranslate"><span class="pre">FilterDumpProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.FilterMirrorProperties"><code class="docutils literal notranslate"><span class="pre">FilterMirrorProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.FilterRedirectorProperties"><code class="docutils literal notranslate"><span class="pre">FilterRedirectorProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.FilterRewriterProperties"><code class="docutils literal notranslate"><span class="pre">FilterRewriterProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.InputBarrierProperties"><code class="docutils literal notranslate"><span class="pre">InputBarrierProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.InputLinuxProperties"><code class="docutils literal notranslate"><span class="pre">InputLinuxProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.EventLoopBaseProperties"><code class="docutils literal notranslate"><span class="pre">EventLoopBaseProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.IothreadProperties"><code class="docutils literal notranslate"><span class="pre">IothreadProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.MainLoopProperties"><code class="docutils literal notranslate"><span class="pre">MainLoopProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.MemoryBackendProperties"><code class="docutils literal notranslate"><span class="pre">MemoryBackendProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.MemoryBackendFileProperties"><code class="docutils literal notranslate"><span class="pre">MemoryBackendFileProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.MemoryBackendMemfdProperties"><code class="docutils literal notranslate"><span class="pre">MemoryBackendMemfdProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.MemoryBackendShmProperties"><code class="docutils literal notranslate"><span class="pre">MemoryBackendShmProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.MemoryBackendEpcProperties"><code class="docutils literal notranslate"><span class="pre">MemoryBackendEpcProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.PrManagerHelperProperties"><code class="docutils literal notranslate"><span class="pre">PrManagerHelperProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.QtestProperties"><code class="docutils literal notranslate"><span class="pre">QtestProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.RemoteObjectProperties"><code class="docutils literal notranslate"><span class="pre">RemoteObjectProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.VfioUserServerProperties"><code class="docutils literal notranslate"><span class="pre">VfioUserServerProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.IOMMUFDProperties"><code class="docutils literal notranslate"><span class="pre">IOMMUFDProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.AcpiGenericInitiatorProperties"><code class="docutils literal notranslate"><span class="pre">AcpiGenericInitiatorProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.AcpiGenericPortProperties"><code class="docutils literal notranslate"><span class="pre">AcpiGenericPortProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.RngProperties"><code class="docutils literal notranslate"><span class="pre">RngProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.RngEgdProperties"><code class="docutils literal notranslate"><span class="pre">RngEgdProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.RngRandomProperties"><code class="docutils literal notranslate"><span class="pre">RngRandomProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.IgvmCfgProperties"><code class="docutils literal notranslate"><span class="pre">IgvmCfgProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.SevCommonProperties"><code class="docutils literal notranslate"><span class="pre">SevCommonProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.SevGuestProperties"><code class="docutils literal notranslate"><span class="pre">SevGuestProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.SevSnpGuestProperties"><code class="docutils literal notranslate"><span class="pre">SevSnpGuestProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.TdxGuestProperties"><code class="docutils literal notranslate"><span class="pre">TdxGuestProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.ThreadContextProperties"><code class="docutils literal notranslate"><span class="pre">ThreadContextProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-qom.ObjectType"><code class="docutils literal notranslate"><span class="pre">ObjectType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-qom.ObjectOptions"><code class="docutils literal notranslate"><span class="pre">ObjectOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qom.object-add"><code class="docutils literal notranslate"><span class="pre">object-add</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qom.object-del"><code class="docutils literal notranslate"><span class="pre">object-del</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#device-infrastructure-qdev">Device infrastructure (qdev)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qdev.device-list-properties"><code class="docutils literal notranslate"><span class="pre">device-list-properties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qdev.device_add"><code class="docutils literal notranslate"><span class="pre">device_add</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qdev.device_del"><code class="docutils literal notranslate"><span class="pre">device_del</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-qdev.DEVICE_DELETED"><code class="docutils literal notranslate"><span class="pre">DEVICE_DELETED</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-qdev.DEVICE_UNPLUG_GUEST_ERROR"><code class="docutils literal notranslate"><span class="pre">DEVICE_UNPLUG_GUEST_ERROR</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-qdev.device-sync-config"><code class="docutils literal notranslate"><span class="pre">device-sync-config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#common-machine-types">Common machine types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine-common.S390CpuEntitlement"><code class="docutils literal notranslate"><span class="pre">S390CpuEntitlement</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine-common.CpuTopologyLevel"><code class="docutils literal notranslate"><span class="pre">CpuTopologyLevel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine-common.CacheLevelAndType"><code class="docutils literal notranslate"><span class="pre">CacheLevelAndType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine-common.SmpCacheProperties"><code class="docutils literal notranslate"><span class="pre">SmpCacheProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine-common.SmpCachePropertiesWrapper"><code class="docutils literal notranslate"><span class="pre">SmpCachePropertiesWrapper</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#machines">Machines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.SysEmuTarget"><code class="docutils literal notranslate"><span class="pre">SysEmuTarget</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.S390CpuState"><code class="docutils literal notranslate"><span class="pre">S390CpuState</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CpuInfoS390"><code class="docutils literal notranslate"><span class="pre">CpuInfoS390</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CpuInfoFast"><code class="docutils literal notranslate"><span class="pre">CpuInfoFast</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-cpus-fast"><code class="docutils literal notranslate"><span class="pre">query-cpus-fast</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CompatProperty"><code class="docutils literal notranslate"><span class="pre">CompatProperty</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.MachineInfo"><code class="docutils literal notranslate"><span class="pre">MachineInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-machines"><code class="docutils literal notranslate"><span class="pre">query-machines</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CurrentMachineParams"><code class="docutils literal notranslate"><span class="pre">CurrentMachineParams</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-current-machine"><code class="docutils literal notranslate"><span class="pre">query-current-machine</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.QemuTargetInfo"><code class="docutils literal notranslate"><span class="pre">QemuTargetInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-target"><code class="docutils literal notranslate"><span class="pre">query-target</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.UuidInfo"><code class="docutils literal notranslate"><span class="pre">UuidInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-uuid"><code class="docutils literal notranslate"><span class="pre">query-uuid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.GuidInfo"><code class="docutils literal notranslate"><span class="pre">GuidInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-vm-generation-id"><code class="docutils literal notranslate"><span class="pre">query-vm-generation-id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.system_reset"><code class="docutils literal notranslate"><span class="pre">system_reset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.system_powerdown"><code class="docutils literal notranslate"><span class="pre">system_powerdown</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.system_wakeup"><code class="docutils literal notranslate"><span class="pre">system_wakeup</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.LostTickPolicy"><code class="docutils literal notranslate"><span class="pre">LostTickPolicy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.inject-nmi"><code class="docutils literal notranslate"><span class="pre">inject-nmi</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.NumaOptionsType"><code class="docutils literal notranslate"><span class="pre">NumaOptionsType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.NumaOptions"><code class="docutils literal notranslate"><span class="pre">NumaOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.NumaNodeOptions"><code class="docutils literal notranslate"><span class="pre">NumaNodeOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.NumaDistOptions"><code class="docutils literal notranslate"><span class="pre">NumaDistOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CXLFixedMemoryWindowOptions"><code class="docutils literal notranslate"><span class="pre">CXLFixedMemoryWindowOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CXLFMWProperties"><code class="docutils literal notranslate"><span class="pre">CXLFMWProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.X86CPURegister32"><code class="docutils literal notranslate"><span class="pre">X86CPURegister32</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.X86CPUFeatureWordInfo"><code class="docutils literal notranslate"><span class="pre">X86CPUFeatureWordInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.DummyForceArrays"><code class="docutils literal notranslate"><span class="pre">DummyForceArrays</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.NumaCpuOptions"><code class="docutils literal notranslate"><span class="pre">NumaCpuOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.HmatLBMemoryHierarchy"><code class="docutils literal notranslate"><span class="pre">HmatLBMemoryHierarchy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.HmatLBDataType"><code class="docutils literal notranslate"><span class="pre">HmatLBDataType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.NumaHmatLBOptions"><code class="docutils literal notranslate"><span class="pre">NumaHmatLBOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.HmatCacheAssociativity"><code class="docutils literal notranslate"><span class="pre">HmatCacheAssociativity</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.HmatCacheWritePolicy"><code class="docutils literal notranslate"><span class="pre">HmatCacheWritePolicy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.NumaHmatCacheOptions"><code class="docutils literal notranslate"><span class="pre">NumaHmatCacheOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.memsave"><code class="docutils literal notranslate"><span class="pre">memsave</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.pmemsave"><code class="docutils literal notranslate"><span class="pre">pmemsave</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.Memdev"><code class="docutils literal notranslate"><span class="pre">Memdev</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-memdev"><code class="docutils literal notranslate"><span class="pre">query-memdev</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CpuInstanceProperties"><code class="docutils literal notranslate"><span class="pre">CpuInstanceProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.HotpluggableCPU"><code class="docutils literal notranslate"><span class="pre">HotpluggableCPU</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-hotpluggable-cpus"><code class="docutils literal notranslate"><span class="pre">query-hotpluggable-cpus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.set-numa-node"><code class="docutils literal notranslate"><span class="pre">set-numa-node</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.balloon"><code class="docutils literal notranslate"><span class="pre">balloon</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.BalloonInfo"><code class="docutils literal notranslate"><span class="pre">BalloonInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-balloon"><code class="docutils literal notranslate"><span class="pre">query-balloon</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-machine.BALLOON_CHANGE"><code class="docutils literal notranslate"><span class="pre">BALLOON_CHANGE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.HvBalloonInfo"><code class="docutils literal notranslate"><span class="pre">HvBalloonInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-hv-balloon-status-report"><code class="docutils literal notranslate"><span class="pre">query-hv-balloon-status-report</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-machine.HV_BALLOON_STATUS_REPORT"><code class="docutils literal notranslate"><span class="pre">HV_BALLOON_STATUS_REPORT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.MemoryInfo"><code class="docutils literal notranslate"><span class="pre">MemoryInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-memory-size-summary"><code class="docutils literal notranslate"><span class="pre">query-memory-size-summary</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.PCDIMMDeviceInfo"><code class="docutils literal notranslate"><span class="pre">PCDIMMDeviceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.VirtioPMEMDeviceInfo"><code class="docutils literal notranslate"><span class="pre">VirtioPMEMDeviceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.VirtioMEMDeviceInfo"><code class="docutils literal notranslate"><span class="pre">VirtioMEMDeviceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.SgxEPCDeviceInfo"><code class="docutils literal notranslate"><span class="pre">SgxEPCDeviceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.HvBalloonDeviceInfo"><code class="docutils literal notranslate"><span class="pre">HvBalloonDeviceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.MemoryDeviceInfoKind"><code class="docutils literal notranslate"><span class="pre">MemoryDeviceInfoKind</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.PCDIMMDeviceInfoWrapper"><code class="docutils literal notranslate"><span class="pre">PCDIMMDeviceInfoWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.VirtioPMEMDeviceInfoWrapper"><code class="docutils literal notranslate"><span class="pre">VirtioPMEMDeviceInfoWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.VirtioMEMDeviceInfoWrapper"><code class="docutils literal notranslate"><span class="pre">VirtioMEMDeviceInfoWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.SgxEPCDeviceInfoWrapper"><code class="docutils literal notranslate"><span class="pre">SgxEPCDeviceInfoWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.HvBalloonDeviceInfoWrapper"><code class="docutils literal notranslate"><span class="pre">HvBalloonDeviceInfoWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.MemoryDeviceInfo"><code class="docutils literal notranslate"><span class="pre">MemoryDeviceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.SgxEPC"><code class="docutils literal notranslate"><span class="pre">SgxEPC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.SgxEPCProperties"><code class="docutils literal notranslate"><span class="pre">SgxEPCProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-memory-devices"><code class="docutils literal notranslate"><span class="pre">query-memory-devices</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-machine.MEMORY_DEVICE_SIZE_CHANGE"><code class="docutils literal notranslate"><span class="pre">MEMORY_DEVICE_SIZE_CHANGE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.BootConfiguration"><code class="docutils literal notranslate"><span class="pre">BootConfiguration</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.SMPConfiguration"><code class="docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.x-query-irq"><code class="docutils literal notranslate"><span class="pre">x-query-irq</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.x-query-jit"><code class="docutils literal notranslate"><span class="pre">x-query-jit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.x-query-numa"><code class="docutils literal notranslate"><span class="pre">x-query-numa</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.x-query-ramblock"><code class="docutils literal notranslate"><span class="pre">x-query-ramblock</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.x-query-roms"><code class="docutils literal notranslate"><span class="pre">x-query-roms</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.x-query-usb"><code class="docutils literal notranslate"><span class="pre">x-query-usb</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.SmbiosEntryPointType"><code class="docutils literal notranslate"><span class="pre">SmbiosEntryPointType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.MemorySizeConfiguration"><code class="docutils literal notranslate"><span class="pre">MemorySizeConfiguration</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.dumpdtb"><code class="docutils literal notranslate"><span class="pre">dumpdtb</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.x-query-interrupt-controllers"><code class="docutils literal notranslate"><span class="pre">x-query-interrupt-controllers</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.dump-skeys"><code class="docutils literal notranslate"><span class="pre">dump-skeys</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CpuModelInfo"><code class="docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.CpuModelExpansionType"><code class="docutils literal notranslate"><span class="pre">CpuModelExpansionType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine.CpuModelCompareResult"><code class="docutils literal notranslate"><span class="pre">CpuModelCompareResult</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CpuModelBaselineInfo"><code class="docutils literal notranslate"><span class="pre">CpuModelBaselineInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CpuModelCompareInfo"><code class="docutils literal notranslate"><span class="pre">CpuModelCompareInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-cpu-model-comparison"><code class="docutils literal notranslate"><span class="pre">query-cpu-model-comparison</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-cpu-model-baseline"><code class="docutils literal notranslate"><span class="pre">query-cpu-model-baseline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CpuModelExpansionInfo"><code class="docutils literal notranslate"><span class="pre">CpuModelExpansionInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-cpu-model-expansion"><code class="docutils literal notranslate"><span class="pre">query-cpu-model-expansion</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine.CpuDefinitionInfo"><code class="docutils literal notranslate"><span class="pre">CpuDefinitionInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine.query-cpu-definitions"><code class="docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-machine-s390x.S390CpuPolarization"><code class="docutils literal notranslate"><span class="pre">S390CpuPolarization</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine-s390x.set-cpu-topology"><code class="docutils literal notranslate"><span class="pre">set-cpu-topology</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-machine-s390x.CPU_POLARIZATION_CHANGE"><code class="docutils literal notranslate"><span class="pre">CPU_POLARIZATION_CHANGE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-machine-s390x.CpuPolarizationInfo"><code class="docutils literal notranslate"><span class="pre">CpuPolarizationInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-machine-s390x.query-s390x-cpu-polarization"><code class="docutils literal notranslate"><span class="pre">query-s390x-cpu-polarization</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#record-replay">Record/replay</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-replay.ReplayMode"><code class="docutils literal notranslate"><span class="pre">ReplayMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-replay.ReplayInfo"><code class="docutils literal notranslate"><span class="pre">ReplayInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-replay.query-replay"><code class="docutils literal notranslate"><span class="pre">query-replay</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-replay.replay-break"><code class="docutils literal notranslate"><span class="pre">replay-break</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-replay.replay-delete-break"><code class="docutils literal notranslate"><span class="pre">replay-delete-break</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-replay.replay-seek"><code class="docutils literal notranslate"><span class="pre">replay-seek</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#yank-feature">Yank feature</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-yank.YankInstanceType"><code class="docutils literal notranslate"><span class="pre">YankInstanceType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-yank.YankInstanceBlockNode"><code class="docutils literal notranslate"><span class="pre">YankInstanceBlockNode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-yank.YankInstanceChardev"><code class="docutils literal notranslate"><span class="pre">YankInstanceChardev</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-yank.YankInstance"><code class="docutils literal notranslate"><span class="pre">YankInstance</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-yank.yank"><code class="docutils literal notranslate"><span class="pre">yank</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-yank.query-yank"><code class="docutils literal notranslate"><span class="pre">query-yank</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#miscellanea">Miscellanea</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.add_client"><code class="docutils literal notranslate"><span class="pre">add_client</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc.NameInfo"><code class="docutils literal notranslate"><span class="pre">NameInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.query-name"><code class="docutils literal notranslate"><span class="pre">query-name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc.IOThreadInfo"><code class="docutils literal notranslate"><span class="pre">IOThreadInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.query-iothreads"><code class="docutils literal notranslate"><span class="pre">query-iothreads</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.stop"><code class="docutils literal notranslate"><span class="pre">stop</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.cont"><code class="docutils literal notranslate"><span class="pre">cont</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.x-exit-preconfig"><code class="docutils literal notranslate"><span class="pre">x-exit-preconfig</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.human-monitor-command"><code class="docutils literal notranslate"><span class="pre">human-monitor-command</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.getfd"><code class="docutils literal notranslate"><span class="pre">getfd</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.get-win32-socket"><code class="docutils literal notranslate"><span class="pre">get-win32-socket</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.closefd"><code class="docutils literal notranslate"><span class="pre">closefd</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc.AddfdInfo"><code class="docutils literal notranslate"><span class="pre">AddfdInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.add-fd"><code class="docutils literal notranslate"><span class="pre">add-fd</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.remove-fd"><code class="docutils literal notranslate"><span class="pre">remove-fd</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc.FdsetFdInfo"><code class="docutils literal notranslate"><span class="pre">FdsetFdInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc.FdsetInfo"><code class="docutils literal notranslate"><span class="pre">FdsetInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.query-fdsets"><code class="docutils literal notranslate"><span class="pre">query-fdsets</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-misc.CommandLineParameterType"><code class="docutils literal notranslate"><span class="pre">CommandLineParameterType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc.CommandLineParameterInfo"><code class="docutils literal notranslate"><span class="pre">CommandLineParameterInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc.CommandLineOptionInfo"><code class="docutils literal notranslate"><span class="pre">CommandLineOptionInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc.query-command-line-options"><code class="docutils literal notranslate"><span class="pre">query-command-line-options</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-misc.RTC_CHANGE"><code class="docutils literal notranslate"><span class="pre">RTC_CHANGE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-misc.VFU_CLIENT_HANGUP"><code class="docutils literal notranslate"><span class="pre">VFU_CLIENT_HANGUP</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-arm.GICCapability"><code class="docutils literal notranslate"><span class="pre">GICCapability</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-arm.query-gic-capabilities"><code class="docutils literal notranslate"><span class="pre">query-gic-capabilities</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.rtc-reset-reinjection"><code class="docutils literal notranslate"><span class="pre">rtc-reset-reinjection</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-misc-i386.SevState"><code class="docutils literal notranslate"><span class="pre">SevState</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-misc-i386.SevGuestType"><code class="docutils literal notranslate"><span class="pre">SevGuestType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.SevGuestInfo"><code class="docutils literal notranslate"><span class="pre">SevGuestInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.SevSnpGuestInfo"><code class="docutils literal notranslate"><span class="pre">SevSnpGuestInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.SevInfo"><code class="docutils literal notranslate"><span class="pre">SevInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.query-sev"><code class="docutils literal notranslate"><span class="pre">query-sev</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.SevLaunchMeasureInfo"><code class="docutils literal notranslate"><span class="pre">SevLaunchMeasureInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.query-sev-launch-measure"><code class="docutils literal notranslate"><span class="pre">query-sev-launch-measure</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.SevCapability"><code class="docutils literal notranslate"><span class="pre">SevCapability</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.query-sev-capabilities"><code class="docutils literal notranslate"><span class="pre">query-sev-capabilities</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.sev-inject-launch-secret"><code class="docutils literal notranslate"><span class="pre">sev-inject-launch-secret</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.SevAttestationReport"><code class="docutils literal notranslate"><span class="pre">SevAttestationReport</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.query-sev-attestation-report"><code class="docutils literal notranslate"><span class="pre">query-sev-attestation-report</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.SgxEpcSection"><code class="docutils literal notranslate"><span class="pre">SgxEpcSection</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.SgxInfo"><code class="docutils literal notranslate"><span class="pre">SgxInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.query-sgx"><code class="docutils literal notranslate"><span class="pre">query-sgx</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.query-sgx-capabilities"><code class="docutils literal notranslate"><span class="pre">query-sgx-capabilities</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-misc-i386.EvtchnPortType"><code class="docutils literal notranslate"><span class="pre">EvtchnPortType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-misc-i386.EvtchnInfo"><code class="docutils literal notranslate"><span class="pre">EvtchnInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.xen-event-list"><code class="docutils literal notranslate"><span class="pre">xen-event-list</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-misc-i386.xen-event-inject"><code class="docutils literal notranslate"><span class="pre">xen-event-inject</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#audio">Audio</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevGenericOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevGenericOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevDBusOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevDBusOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevAlsaPerDirectionOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevAlsaPerDirectionOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevAlsaOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevAlsaOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevSndioOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevSndioOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevCoreaudioPerDirectionOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevCoreaudioPerDirectionOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevCoreaudioOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevCoreaudioOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevDsoundOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevDsoundOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevJackPerDirectionOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevJackPerDirectionOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevJackOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevJackOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevOssPerDirectionOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevOssPerDirectionOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevOssOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevOssOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevPaPerDirectionOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevPaPerDirectionOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevPaOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevPaOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevPipewirePerDirectionOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevPipewirePerDirectionOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevPipewireOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevPipewireOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevSdlPerDirectionOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevSdlPerDirectionOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevSdlOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevSdlOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.AudiodevWavOptions"><code class="docutils literal notranslate"><span class="pre">AudiodevWavOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-audio.AudioFormat"><code class="docutils literal notranslate"><span class="pre">AudioFormat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-audio.AudiodevDriver"><code class="docutils literal notranslate"><span class="pre">AudiodevDriver</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-audio.Audiodev"><code class="docutils literal notranslate"><span class="pre">Audiodev</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-audio.query-audiodevs"><code class="docutils literal notranslate"><span class="pre">query-audiodevs</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#acpi">ACPI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-acpi.AcpiTableOptions"><code class="docutils literal notranslate"><span class="pre">AcpiTableOptions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-acpi.ACPISlotType"><code class="docutils literal notranslate"><span class="pre">ACPISlotType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-acpi.ACPIOSTInfo"><code class="docutils literal notranslate"><span class="pre">ACPIOSTInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-acpi.query-acpi-ospm-status"><code class="docutils literal notranslate"><span class="pre">query-acpi-ospm-status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-acpi.ACPI_DEVICE_OST"><code class="docutils literal notranslate"><span class="pre">ACPI_DEVICE_OST</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pci">PCI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-pci.PciMemoryRange"><code class="docutils literal notranslate"><span class="pre">PciMemoryRange</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-pci.PciMemoryRegion"><code class="docutils literal notranslate"><span class="pre">PciMemoryRegion</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-pci.PciBusInfo"><code class="docutils literal notranslate"><span class="pre">PciBusInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-pci.PciBridgeInfo"><code class="docutils literal notranslate"><span class="pre">PciBridgeInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-pci.PciDeviceClass"><code class="docutils literal notranslate"><span class="pre">PciDeviceClass</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-pci.PciDeviceId"><code class="docutils literal notranslate"><span class="pre">PciDeviceId</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-pci.PciDeviceInfo"><code class="docutils literal notranslate"><span class="pre">PciDeviceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-pci.PciInfo"><code class="docutils literal notranslate"><span class="pre">PciInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-pci.query-pci"><code class="docutils literal notranslate"><span class="pre">query-pci</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#statistics">Statistics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-stats.StatsType"><code class="docutils literal notranslate"><span class="pre">StatsType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-stats.StatsUnit"><code class="docutils literal notranslate"><span class="pre">StatsUnit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-stats.StatsProvider"><code class="docutils literal notranslate"><span class="pre">StatsProvider</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-stats.StatsTarget"><code class="docutils literal notranslate"><span class="pre">StatsTarget</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-stats.StatsRequest"><code class="docutils literal notranslate"><span class="pre">StatsRequest</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-stats.StatsVCPUFilter"><code class="docutils literal notranslate"><span class="pre">StatsVCPUFilter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-stats.StatsFilter"><code class="docutils literal notranslate"><span class="pre">StatsFilter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#alternate-QMP-stats.StatsValue"><code class="docutils literal notranslate"><span class="pre">StatsValue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-stats.Stats"><code class="docutils literal notranslate"><span class="pre">Stats</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-stats.StatsResult"><code class="docutils literal notranslate"><span class="pre">StatsResult</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-stats.query-stats"><code class="docutils literal notranslate"><span class="pre">query-stats</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-stats.StatsSchemaValue"><code class="docutils literal notranslate"><span class="pre">StatsSchemaValue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-stats.StatsSchema"><code class="docutils literal notranslate"><span class="pre">StatsSchema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-stats.query-stats-schemas"><code class="docutils literal notranslate"><span class="pre">query-stats-schemas</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#virtio-devices">Virtio devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtioInfo"><code class="docutils literal notranslate"><span class="pre">VirtioInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-virtio.x-query-virtio"><code class="docutils literal notranslate"><span class="pre">x-query-virtio</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VhostStatus"><code class="docutils literal notranslate"><span class="pre">VhostStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtioStatus"><code class="docutils literal notranslate"><span class="pre">VirtioStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-virtio.x-query-virtio-status"><code class="docutils literal notranslate"><span class="pre">x-query-virtio-status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceStatus"><code class="docutils literal notranslate"><span class="pre">VirtioDeviceStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VhostDeviceProtocols"><code class="docutils literal notranslate"><span class="pre">VhostDeviceProtocols</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceFeatures"><code class="docutils literal notranslate"><span class="pre">VirtioDeviceFeatures</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtQueueStatus"><code class="docutils literal notranslate"><span class="pre">VirtQueueStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-virtio.x-query-virtio-queue-status"><code class="docutils literal notranslate"><span class="pre">x-query-virtio-queue-status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtVhostQueueStatus"><code class="docutils literal notranslate"><span class="pre">VirtVhostQueueStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-virtio.x-query-virtio-vhost-queue-status"><code class="docutils literal notranslate"><span class="pre">x-query-virtio-vhost-queue-status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtioRingDesc"><code class="docutils literal notranslate"><span class="pre">VirtioRingDesc</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtioRingAvail"><code class="docutils literal notranslate"><span class="pre">VirtioRingAvail</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtioRingUsed"><code class="docutils literal notranslate"><span class="pre">VirtioRingUsed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtioQueueElement"><code class="docutils literal notranslate"><span class="pre">VirtioQueueElement</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-virtio.x-query-virtio-queue-element"><code class="docutils literal notranslate"><span class="pre">x-query-virtio-queue-element</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.IOThreadVirtQueueMapping"><code class="docutils literal notranslate"><span class="pre">IOThreadVirtQueueMapping</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.VirtIOGPUOutput"><code class="docutils literal notranslate"><span class="pre">VirtIOGPUOutput</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-virtio.DummyVirtioForceArrays"><code class="docutils literal notranslate"><span class="pre">DummyVirtioForceArrays</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-virtio.GranuleMode"><code class="docutils literal notranslate"><span class="pre">GranuleMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-virtio.VMAppleVirtioBlkVariant"><code class="docutils literal notranslate"><span class="pre">VMAppleVirtioBlkVariant</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#vfio-devices">VFIO devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-vfio.QapiVfioMigrationState"><code class="docutils literal notranslate"><span class="pre">QapiVfioMigrationState</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-QMP-vfio.VFIO_MIGRATION"><code class="docutils literal notranslate"><span class="pre">VFIO_MIGRATION</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cryptography-devices">Cryptography devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-cryptodev.QCryptodevBackendAlgoType"><code class="docutils literal notranslate"><span class="pre">QCryptodevBackendAlgoType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-cryptodev.QCryptodevBackendServiceType"><code class="docutils literal notranslate"><span class="pre">QCryptodevBackendServiceType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-cryptodev.QCryptodevBackendType"><code class="docutils literal notranslate"><span class="pre">QCryptodevBackendType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-cryptodev.QCryptodevBackendClient"><code class="docutils literal notranslate"><span class="pre">QCryptodevBackendClient</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-cryptodev.QCryptodevInfo"><code class="docutils literal notranslate"><span class="pre">QCryptodevInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cryptodev.query-cryptodev"><code class="docutils literal notranslate"><span class="pre">query-cryptodev</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cxl-devices">CXL devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-cxl.CxlEventLog"><code class="docutils literal notranslate"><span class="pre">CxlEventLog</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cxl.cxl-inject-general-media-event"><code class="docutils literal notranslate"><span class="pre">cxl-inject-general-media-event</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cxl.cxl-inject-dram-event"><code class="docutils literal notranslate"><span class="pre">cxl-inject-dram-event</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cxl.cxl-inject-memory-module-event"><code class="docutils literal notranslate"><span class="pre">cxl-inject-memory-module-event</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cxl.cxl-inject-poison"><code class="docutils literal notranslate"><span class="pre">cxl-inject-poison</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-cxl.CxlUncorErrorType"><code class="docutils literal notranslate"><span class="pre">CxlUncorErrorType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-cxl.CXLUncorErrorRecord"><code class="docutils literal notranslate"><span class="pre">CXLUncorErrorRecord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cxl.cxl-inject-uncorrectable-errors"><code class="docutils literal notranslate"><span class="pre">cxl-inject-uncorrectable-errors</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-cxl.CxlCorErrorType"><code class="docutils literal notranslate"><span class="pre">CxlCorErrorType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cxl.cxl-inject-correctable-error"><code class="docutils literal notranslate"><span class="pre">cxl-inject-correctable-error</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-cxl.CxlDynamicCapacityExtent"><code class="docutils literal notranslate"><span class="pre">CxlDynamicCapacityExtent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-cxl.CxlExtentSelectionPolicy"><code class="docutils literal notranslate"><span class="pre">CxlExtentSelectionPolicy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cxl.cxl-add-dynamic-capacity"><code class="docutils literal notranslate"><span class="pre">cxl-add-dynamic-capacity</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enum-QMP-cxl.CxlExtentRemovalPolicy"><code class="docutils literal notranslate"><span class="pre">CxlExtentRemovalPolicy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-QMP-cxl.cxl-release-dynamic-capacity"><code class="docutils literal notranslate"><span class="pre">cxl-release-dynamic-capacity</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uefi-variable-store">UEFI Variable Store</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-uefi.UefiVariable"><code class="docutils literal notranslate"><span class="pre">UefiVariable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-QMP-uefi.UefiVarStore"><code class="docutils literal notranslate"><span class="pre">UefiVarStore</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="qemu-storage-daemon-qmp-ref.html">QEMU Storage Daemon QMP Reference Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfio-user.html">vfio-user Protocol Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhost-user.html">Vhost-user Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhost-user-gpu.html">Vhost-user-gpu Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhost-vdpa.html">Vhost-vdpa Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="virtio-balloon-stats.html">Virtio balloon memory statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="vnc-ledstate-pseudo-encoding.html">VNC LED state Pseudo-encoding</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../specs/index.html">System Emulation Guest Hardware Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devel/index.html">Developer Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单"  style="background: #802400" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QEMU</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">System Emulation Management and Interoperability</a></li>
      <li class="breadcrumb-item active">QEMU QMP Reference Manual</li>
      <li class="wy-breadcrumbs-aside">
            <a href="https://gitlab.com/qemu-project/qemu/-/blob/master/docs/interop/qemu-qmp-ref.rst">查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="qemu-qmp-reference-manual">
<span id="qmp-ref"></span><h1>QEMU QMP Reference Manual<a class="headerlink" href="#qemu-qmp-reference-manual" title="Link to this heading"></a></h1>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id3">Introduction</a></p></li>
<li><p><a class="reference internal" href="#qmp-errors" id="id4">QMP errors</a></p></li>
<li><p><a class="reference internal" href="#common-data-types" id="id5">Common data types</a></p></li>
<li><p><a class="reference internal" href="#socket-data-types" id="id6">Socket data types</a></p></li>
<li><p><a class="reference internal" href="#vm-run-state" id="id7">VM run state</a></p></li>
<li><p><a class="reference internal" href="#cryptography" id="id8">Cryptography</a></p></li>
<li><p><a class="reference internal" href="#background-jobs" id="id9">Background jobs</a></p></li>
<li><p><a class="reference internal" href="#accelerators" id="id10">Accelerators</a></p></li>
<li><p><a class="reference internal" href="#block-devices" id="id11">Block devices</a></p>
<ul>
<li><p><a class="reference internal" href="#block-core-vm-unrelated" id="id12">Block core (VM unrelated)</a></p></li>
<li><p><a class="reference internal" href="#additional-block-stuff-vm-related" id="id13">Additional block stuff (VM related)</a></p></li>
<li><p><a class="reference internal" href="#block-device-exports" id="id14">Block device exports</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#character-devices" id="id15">Character devices</a></p></li>
<li><p><a class="reference internal" href="#dump-guest-memory" id="id16">Dump guest memory</a></p></li>
<li><p><a class="reference internal" href="#net-devices" id="id17">Net devices</a></p></li>
<li><p><a class="reference internal" href="#ebpf-objects" id="id18">eBPF Objects</a></p></li>
<li><p><a class="reference internal" href="#rocker-switch-device" id="id19">Rocker switch device</a></p></li>
<li><p><a class="reference internal" href="#tpm-trusted-platform-module-devices" id="id20">TPM (trusted platform module) devices</a></p></li>
<li><p><a class="reference internal" href="#remote-desktop" id="id21">Remote desktop</a></p>
<ul>
<li><p><a class="reference internal" href="#spice" id="id22">Spice</a></p></li>
<li><p><a class="reference internal" href="#vnc" id="id23">VNC</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#input" id="id24">Input</a></p></li>
<li><p><a class="reference internal" href="#user-authorization" id="id25">User authorization</a></p></li>
<li><p><a class="reference internal" href="#migration" id="id26">Migration</a></p></li>
<li><p><a class="reference internal" href="#transactions" id="id27">Transactions</a></p></li>
<li><p><a class="reference internal" href="#tracing" id="id28">Tracing</a></p></li>
<li><p><a class="reference internal" href="#compatibility-policy" id="id29">Compatibility policy</a></p></li>
<li><p><a class="reference internal" href="#qmp-monitor-control" id="id30">QMP monitor control</a></p></li>
<li><p><a class="reference internal" href="#qmp-introspection" id="id31">QMP introspection</a></p></li>
<li><p><a class="reference internal" href="#qemu-object-model-qom" id="id32">QEMU Object Model (QOM)</a></p></li>
<li><p><a class="reference internal" href="#device-infrastructure-qdev" id="id33">Device infrastructure (qdev)</a></p></li>
<li><p><a class="reference internal" href="#common-machine-types" id="id34">Common machine types</a></p></li>
<li><p><a class="reference internal" href="#machines" id="id35">Machines</a></p></li>
<li><p><a class="reference internal" href="#record-replay" id="id36">Record/replay</a></p></li>
<li><p><a class="reference internal" href="#yank-feature" id="id37">Yank feature</a></p></li>
<li><p><a class="reference internal" href="#miscellanea" id="id38">Miscellanea</a></p></li>
<li><p><a class="reference internal" href="#audio" id="id39">Audio</a></p></li>
<li><p><a class="reference internal" href="#acpi" id="id40">ACPI</a></p></li>
<li><p><a class="reference internal" href="#pci" id="id41">PCI</a></p></li>
<li><p><a class="reference internal" href="#statistics" id="id42">Statistics</a></p></li>
<li><p><a class="reference internal" href="#virtio-devices" id="id43">Virtio devices</a></p></li>
<li><p><a class="reference internal" href="#vfio-devices" id="id44">VFIO devices</a></p></li>
<li><p><a class="reference internal" href="#cryptography-devices" id="id45">Cryptography devices</a></p></li>
<li><p><a class="reference internal" href="#cxl-devices" id="id46">CXL devices</a></p></li>
<li><p><a class="reference internal" href="#uefi-variable-store" id="id47">UEFI Variable Store</a></p></li>
</ul>
</nav>
<section id="introduction">
<span id="module-QMP-qapi-schema"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>This manual describes the commands and events supported by the QEMU
Monitor Protocol (QMP).</p>
<p>For locating a particular item, please see the <a class="reference internal" href="../qapi-qmp-index.html"><span class="std std-ref">QMP Index</span></a>.</p>
<p>The following notation is used in examples:</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="cm">... text sent by client (commands) ...</span>
<span class="gp">&lt;- </span><span class="cm">... text sent by server (command responses and events) ...</span>
</pre></div>
</div>
</div>
<p>Example text is formatted for readability.  However, in real
protocol usage, its commonly emitted as a single line.</p>
<p>Please refer to the
<a class="reference internal" href="qmp-spec.html"><span class="doc">QEMU Machine Protocol Specification</span></a>
for the general format of commands, responses, and events.</p>
</section>
<section id="qmp-errors">
<span id="module-QMP-error"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">QMP errors</a><a class="headerlink" href="#qmp-errors" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-error.QapiErrorClass">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QapiErrorClass</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#enum-QMP-error.QapiErrorClass" title="Link to this definition"></a></dt>
<dd><p>QEMU error classes</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>GenericError</strong> -- this is used for errors that don't require a specific
error class.  This should be the default case for most errors</p></li>
<li><p><strong>CommandNotFound</strong> -- the requested command has not been found</p></li>
<li><p><strong>DeviceNotActive</strong> -- a device has failed to be become active</p></li>
<li><p><strong>DeviceNotFound</strong> -- the requested device has not been found</p></li>
<li><p><strong>KVMMissingCap</strong> -- the requested operation can't be fulfilled because a
required KVM capability is missing</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="common-data-types">
<span id="module-QMP-common"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Common data types</a><a class="headerlink" href="#common-data-types" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.IoOperationType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IoOperationType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-common.IoOperationType" title="Link to this definition"></a></dt>
<dd><p>An enumeration of the I/O operation types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>read</strong> -- read operation</p></li>
<li><p><strong>write</strong> -- write operation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.OnOffAuto">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OnOffAuto</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.2)</span></span><a class="headerlink" href="#enum-QMP-common.OnOffAuto" title="Link to this definition"></a></dt>
<dd><p>An enumeration of three options: on, off, and auto</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auto</strong> -- QEMU selects the value between on and off</p></li>
<li><p><strong>on</strong> -- Enabled</p></li>
<li><p><strong>off</strong> -- Disabled</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.OnOffSplit">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OnOffSplit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-common.OnOffSplit" title="Link to this definition"></a></dt>
<dd><p>An enumeration of three values: on, off, and split</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>on</strong> -- Enabled</p></li>
<li><p><strong>off</strong> -- Disabled</p></li>
<li><p><strong>split</strong> -- Mixed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi alternate">
<dt class="sig sig-object qapi" id="alternate-QMP-common.StrOrNull">
<em class="property"><span class="k"><span class="pre">Alternate</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StrOrNull</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#alternate-QMP-common.StrOrNull" title="Link to this definition"></a></dt>
<dd><p>This is a string value or the explicit lack of a string (null
pointer in C).  Intended for cases when 'optional absent' already
has a different meaning.</p>
<dl class="field-list simple">
<dt class="field-odd">Alternatives<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the string value</p></li>
<li><p><strong>n</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">null</span></code></span>) -- no string value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.OffAutoPCIBAR">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OffAutoPCIBAR</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-common.OffAutoPCIBAR" title="Link to this definition"></a></dt>
<dd><p>An enumeration of options for specifying a PCI BAR</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>off</strong> -- The specified feature is disabled</p></li>
<li><p><strong>auto</strong> -- The PCI BAR for the feature is automatically selected</p></li>
<li><p><strong>bar0</strong> -- PCI BAR0 is used for the feature</p></li>
<li><p><strong>bar1</strong> -- PCI BAR1 is used for the feature</p></li>
<li><p><strong>bar2</strong> -- PCI BAR2 is used for the feature</p></li>
<li><p><strong>bar3</strong> -- PCI BAR3 is used for the feature</p></li>
<li><p><strong>bar4</strong> -- PCI BAR4 is used for the feature</p></li>
<li><p><strong>bar5</strong> -- PCI BAR5 is used for the feature</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.PCIELinkSpeed">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PCIELinkSpeed</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-common.PCIELinkSpeed" title="Link to this definition"></a></dt>
<dd><p>An enumeration of PCIe link speeds in units of GT/s</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>2_5</strong> -- 2.5GT/s</p></li>
<li><p><strong>5</strong> -- 5.0GT/s</p></li>
<li><p><strong>8</strong> -- 8.0GT/s</p></li>
<li><p><strong>16</strong> -- 16.0GT/s</p></li>
<li><p><strong>32</strong> -- 32.0GT/s (since 9.0)</p></li>
<li><p><strong>64</strong> -- 64.0GT/s (since 9.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.PCIELinkWidth">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PCIELinkWidth</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-common.PCIELinkWidth" title="Link to this definition"></a></dt>
<dd><p>An enumeration of PCIe link width</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>1</strong> -- x1</p></li>
<li><p><strong>2</strong> -- x2</p></li>
<li><p><strong>4</strong> -- x4</p></li>
<li><p><strong>8</strong> -- x8</p></li>
<li><p><strong>12</strong> -- x12</p></li>
<li><p><strong>16</strong> -- x16</p></li>
<li><p><strong>32</strong> -- x32</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.HostMemPolicy">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HostMemPolicy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-common.HostMemPolicy" title="Link to this definition"></a></dt>
<dd><p>Host memory policy types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default</strong> -- restore default policy, remove any nondefault policy</p></li>
<li><p><strong>preferred</strong> -- set the preferred host nodes for allocation</p></li>
<li><p><strong>bind</strong> -- a strict policy that restricts memory allocation to the host
nodes specified</p></li>
<li><p><strong>interleave</strong> -- memory allocations are interleaved across the set of
host nodes specified</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.NetFilterDirection">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetFilterDirection</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#enum-QMP-common.NetFilterDirection" title="Link to this definition"></a></dt>
<dd><p>Indicates whether a netfilter is attached to a netdev's transmit
queue or receive queue or both.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>all</strong> -- the filter is attached both to the receive and the transmit
queue of the netdev (default).</p></li>
<li><p><strong>rx</strong> -- the filter is attached to the receive queue of the netdev,
where it will receive packets sent to the netdev.</p></li>
<li><p><strong>tx</strong> -- the filter is attached to the transmit queue of the netdev,
where it will receive packets sent by the netdev.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.GrabToggleKeys">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GrabToggleKeys</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-common.GrabToggleKeys" title="Link to this definition"></a></dt>
<dd><p>Key combinations to toggle input-linux between host and guest.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctrl-ctrl</strong> -- left and right control key</p></li>
<li><p><strong>alt-alt</strong> -- left and right alt key</p></li>
<li><p><strong>shift-shift</strong> -- left and right shift key</p></li>
<li><p><strong>meta-meta</strong> -- left and right meta key</p></li>
<li><p><strong>scrolllock</strong> -- scroll lock key</p></li>
<li><p><strong>ctrl-scrolllock</strong> -- either control key and scroll lock key</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-common.HumanReadableText">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HumanReadableText</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-common.HumanReadableText" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>human-readable-text</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Formatted output intended for humans.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-common.EndianMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EndianMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#enum-QMP-common.EndianMode" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unspecified</strong> -- Endianness not specified</p></li>
<li><p><strong>little</strong> -- Little endianness</p></li>
<li><p><strong>big</strong> -- Big endianness</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="socket-data-types">
<span id="module-QMP-sockets"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">Socket data types</a><a class="headerlink" href="#socket-data-types" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-sockets.NetworkAddressFamily">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetworkAddressFamily</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-sockets.NetworkAddressFamily" title="Link to this definition"></a></dt>
<dd><p>The network address family</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipv4</strong> -- IPV4 family</p></li>
<li><p><strong>ipv6</strong> -- IPV6 family</p></li>
<li><p><strong>unix</strong> -- unix socket</p></li>
<li><p><strong>vsock</strong> -- vsock family (since 2.8)</p></li>
<li><p><strong>unknown</strong> -- otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.InetSocketAddressBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InetSocketAddressBase</span></span><a class="headerlink" href="#object-QMP-sockets.InetSocketAddressBase" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- host part of the address</p></li>
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- port part of the address</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.InetSocketAddress">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InetSocketAddress</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-sockets.InetSocketAddress" title="Link to this definition"></a></dt>
<dd><p>Captures a socket address or address range in the Internet
namespace.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numeric</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if the host/port are guaranteed to be numeric, false
if name resolution should be attempted.  Defaults to false.
(Since 2.9)</p></li>
<li><p><strong>to</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- If present, this is range of possible addresses, with port
between <code class="docutils literal notranslate"><span class="pre">port</span></code> and <code class="docutils literal notranslate"><span class="pre">to</span></code>.</p></li>
<li><p><strong>ipv4</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to accept IPv4 addresses, default try both IPv4 and
IPv6</p></li>
<li><p><strong>ipv6</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to accept IPv6 addresses, default try both IPv4 and
IPv6</p></li>
<li><p><strong>keep-alive</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable keep-alive when connecting to/listening on this socket.
(Since 4.2, not supported for listening sockets until 10.1)</p></li>
<li><p><strong>keep-alive-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of keep-alive packets sent before the connection is
closed.  Only supported for TCP sockets on systems where TCP_KEEPCNT
socket option is defined (this includes Linux, Windows, macOS, FreeBSD,
but not OpenBSD).  When set to 0, system setting is used.  (Since 10.1)</p></li>
<li><p><strong>keep-alive-idle</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- time in seconds the connection needs to be idle before
sending a keepalive packet.  Only supported for TCP sockets on systems
where TCP_KEEPIDLE socket option is defined (this includes Linux,
Windows, macOS, FreeBSD, but not OpenBSD).  When set to 0, system setting
is used.  (Since 10.1)</p></li>
<li><p><strong>keep-alive-interval</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- time in seconds between keep-alive packets.  Only
supported for TCP sockets on systems where TCP_KEEPINTVL is defined (this
includes Linux, Windows, macOS, FreeBSD, but not OpenBSD).  When set to
0, system setting is used.  (Since 10.1)</p></li>
<li><p><strong>mptcp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable multi-path TCP.  (Since 6.1)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-sockets.InetSocketAddressBase" title="QMP:sockets.InetSocketAddressBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InetSocketAddressBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.UnixSocketAddress">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UnixSocketAddress</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-sockets.UnixSocketAddress" title="Link to this definition"></a></dt>
<dd><p>Captures a socket address in the local (&quot;Unix socket&quot;) namespace.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- filesystem path to use</p></li>
<li><p><strong>abstract</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, this is a Linux abstract socket address.  <code class="docutils literal notranslate"><span class="pre">path</span></code>
will be prefixed by a null byte, and optionally padded with null
bytes.  Defaults to false.  (Since 5.1)</p></li>
<li><p><strong>tight</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if false, pad an abstract socket address with enough null
bytes to make it fill struct sockaddr_un member sun_path.
Defaults to true.  (Since 5.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.VsockSocketAddress">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VsockSocketAddress</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-sockets.VsockSocketAddress" title="Link to this definition"></a></dt>
<dd><p>Captures a socket address in the vsock namespace.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- unique host identifier</p></li>
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- port</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>String types are used to allow for possible future
hostname or service resolution support.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.FdSocketAddress">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FdSocketAddress</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-sockets.FdSocketAddress" title="Link to this definition"></a></dt>
<dd><p>A file descriptor name or number.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- decimal is for file descriptor number, otherwise it's a file
descriptor name.  Named file descriptors are permitted in
monitor commands, in combination with the <a class="reference internal" href="#command-QMP-misc.getfd" title="QMP:misc.getfd"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">getfd</span></code></a> command.
Decimal file descriptors are permitted at startup or other
contexts where no monitor context is active.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.InetSocketAddressWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InetSocketAddressWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-sockets.InetSocketAddressWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-sockets.InetSocketAddress" title="QMP:sockets.InetSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InetSocketAddress</span></code></a></span>) -- internet domain socket address</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.UnixSocketAddressWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UnixSocketAddressWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-sockets.UnixSocketAddressWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-sockets.UnixSocketAddress" title="QMP:sockets.UnixSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">UnixSocketAddress</span></code></a></span>) -- UNIX domain socket address</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.VsockSocketAddressWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VsockSocketAddressWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-sockets.VsockSocketAddressWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-sockets.VsockSocketAddress" title="QMP:sockets.VsockSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VsockSocketAddress</span></code></a></span>) -- VSOCK domain socket address</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.FdSocketAddressWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FdSocketAddressWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-sockets.FdSocketAddressWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-sockets.FdSocketAddress" title="QMP:sockets.FdSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FdSocketAddress</span></code></a></span>) -- file descriptor name or number</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.SocketAddressLegacy">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SocketAddressLegacy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-sockets.SocketAddressLegacy" title="Link to this definition"></a></dt>
<dd><p>Captures the address of a socket, which could also be a named file
descriptor</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-sockets.SocketAddressType" title="QMP:sockets.SocketAddressType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddressType</span></code></a></span>) -- Transport type</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">inet</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.InetSocketAddressWrapper" title="QMP:sockets.InetSocketAddressWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InetSocketAddressWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">unix</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.UnixSocketAddressWrapper" title="QMP:sockets.UnixSocketAddressWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">UnixSocketAddressWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vsock</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.VsockSocketAddressWrapper" title="QMP:sockets.VsockSocketAddressWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VsockSocketAddressWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">fd</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.FdSocketAddressWrapper" title="QMP:sockets.FdSocketAddressWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FdSocketAddressWrapper</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-sockets.SocketAddressType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SocketAddressType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-sockets.SocketAddressType" title="Link to this definition"></a></dt>
<dd><p>Available <a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SocketAddress</span></code></a> types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inet</strong> -- Internet address</p></li>
<li><p><strong>unix</strong> -- Unix domain socket</p></li>
<li><p><strong>vsock</strong> -- VMCI address</p></li>
<li><p><strong>fd</strong> -- Socket file descriptor</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-sockets.SocketAddress">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SocketAddress</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-sockets.SocketAddress" title="Link to this definition"></a></dt>
<dd><p>Captures the address of a socket, which could also be a socket file
descriptor</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-sockets.SocketAddressType" title="QMP:sockets.SocketAddressType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddressType</span></code></a></span>) -- Transport type</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">inet</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.InetSocketAddress" title="QMP:sockets.InetSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InetSocketAddress</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">unix</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.UnixSocketAddress" title="QMP:sockets.UnixSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">UnixSocketAddress</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vsock</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.VsockSocketAddress" title="QMP:sockets.VsockSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VsockSocketAddress</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">fd</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.FdSocketAddress" title="QMP:sockets.FdSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FdSocketAddress</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="vm-run-state">
<span id="module-QMP-run-state"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">VM run state</a><a class="headerlink" href="#vm-run-state" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.RunState">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RunState</span></span><a class="headerlink" href="#enum-QMP-run-state.RunState" title="Link to this definition"></a></dt>
<dd><p>An enumeration of VM run states.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>debug</strong> -- QEMU is running on a debugger</p></li>
<li><p><strong>finish-migrate</strong> -- guest is paused to finish the migration process</p></li>
<li><p><strong>inmigrate</strong> -- guest is paused waiting for an incoming migration.  Note
that this state does not tell whether the machine will start at
the end of the migration.  This depends on the command-line -S
option and any invocation of <a class="reference internal" href="#command-QMP-misc.stop" title="QMP:misc.stop"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">stop</span></code></a> or <a class="reference internal" href="#command-QMP-misc.cont" title="QMP:misc.cont"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">cont</span></code></a> that has happened
since QEMU was started.</p></li>
<li><p><strong>internal-error</strong> -- An internal error that prevents further guest
execution has occurred</p></li>
<li><p><strong>io-error</strong> -- the last IOP has failed and the device is configured to
pause on I/O errors</p></li>
<li><p><strong>paused</strong> -- guest has been paused via the 'stop' command</p></li>
<li><p><strong>postmigrate</strong> -- guest is paused following a successful 'migrate'</p></li>
<li><p><strong>prelaunch</strong> -- QEMU was started with -S and guest has not started</p></li>
<li><p><strong>restore-vm</strong> -- guest is paused to restore VM state</p></li>
<li><p><strong>running</strong> -- guest is actively running</p></li>
<li><p><strong>save-vm</strong> -- guest is paused to save the VM state</p></li>
<li><p><strong>shutdown</strong> -- guest is shut down (and -no-shutdown is in use)</p></li>
<li><p><strong>suspended</strong> -- guest is suspended (ACPI S3)</p></li>
<li><p><strong>watchdog</strong> -- the watchdog action is configured to pause and has been
triggered</p></li>
<li><p><strong>guest-panicked</strong> -- guest has been panicked as a result of guest OS
panic</p></li>
<li><p><strong>colo</strong> -- guest is paused to save/restore VM state under colo
checkpoint, VM can not get into this state unless colo
capability is enabled for migration.  (since 2.8)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.ShutdownCause">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ShutdownCause</span></span><a class="headerlink" href="#enum-QMP-run-state.ShutdownCause" title="Link to this definition"></a></dt>
<dd><p>An enumeration of reasons for a shutdown.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- No shutdown request pending</p></li>
<li><p><strong>host-error</strong> -- An error prevents further use of guest</p></li>
<li><p><strong>host-qmp-quit</strong> -- Reaction to the QMP command <a class="reference internal" href="#command-QMP-control.quit" title="QMP:control.quit"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">quit</span></code></a></p></li>
<li><p><strong>host-qmp-system-reset</strong> -- Reaction to the QMP command <a class="reference internal" href="#command-QMP-machine.system_reset" title="QMP:machine.system_reset"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">system_reset</span></code></a></p></li>
<li><p><strong>host-signal</strong> -- Reaction to a signal, such as SIGINT</p></li>
<li><p><strong>host-ui</strong> -- Reaction to a UI event, like window close</p></li>
<li><p><strong>guest-shutdown</strong> -- Guest shutdown/suspend request, via ACPI or other
hardware-specific means</p></li>
<li><p><strong>guest-reset</strong> -- Guest reset request, and command line turns that into
a shutdown</p></li>
<li><p><strong>guest-panic</strong> -- Guest panicked, and command line turns that into a
shutdown</p></li>
<li><p><strong>subsystem-reset</strong> -- Partial guest reset that does not trigger QMP
events and ignores --no-reboot.  This is useful for sanitizing
hypercalls on s390 that are used during kexec/kdump/boot</p></li>
<li><p><strong>snapshot-load</strong> -- A snapshot is being loaded by the record &amp; replay
subsystem.  This value is used only within QEMU.  It doesn't
occur in QMP.  (since 7.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-run-state.StatusInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatusInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-run-state.StatusInfo" title="Link to this definition"></a></dt>
<dd><p>Information about VM run state</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>running</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if all VCPUs are runnable, false if not runnable</p></li>
<li><p><strong>status</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.RunState" title="QMP:run-state.RunState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RunState</span></code></a></span>) -- the virtual machine <a class="reference internal" href="#enum-QMP-run-state.RunState" title="QMP:run-state.RunState"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">RunState</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-run-state.query-status">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-status</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-run-state.query-status" title="Link to this definition"></a></dt>
<dd><p>Query the run status of the VM</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-run-state.StatusInfo" title="QMP:run-state.StatusInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatusInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-status&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;running&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.SHUTDOWN">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SHUTDOWN</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.12)</span></span><a class="headerlink" href="#event-QMP-run-state.SHUTDOWN" title="Link to this definition"></a></dt>
<dd><p>Emitted when the virtual machine has shut down, indicating that QEMU
is about to exit.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guest</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- If true, the shutdown was triggered by a guest request (such
as a guest-initiated ACPI shutdown request or other
hardware-specific action) rather than a host request (such as
sending QEMU a SIGINT).  (since 2.10)</p></li>
<li><p><strong>reason</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.ShutdownCause" title="QMP:run-state.ShutdownCause"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ShutdownCause</span></code></a></span>) -- The <a class="reference internal" href="#enum-QMP-run-state.ShutdownCause" title="QMP:run-state.ShutdownCause"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">ShutdownCause</span></code></a> which resulted in the <a class="reference internal" href="#event-QMP-run-state.SHUTDOWN" title="QMP:run-state.SHUTDOWN"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">SHUTDOWN</span></code></a>.
(since 4.0)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If the command-line option <code class="docutils literal notranslate"><span class="pre">-no-shutdown</span></code> has been
specified, QEMU will not exit, and a <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a> event will eventually
follow the <a class="reference internal" href="#event-QMP-run-state.SHUTDOWN" title="QMP:run-state.SHUTDOWN"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">SHUTDOWN</span></code></a> event.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SHUTDOWN&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;guest&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;guest-shutdown&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267040730</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">682951</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.POWERDOWN">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">POWERDOWN</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.12)</span></span><a class="headerlink" href="#event-QMP-run-state.POWERDOWN" title="Link to this definition"></a></dt>
<dd><p>Emitted when the virtual machine is powered down through the power
control system, such as via ACPI.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;POWERDOWN&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267040730</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">682951</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.RESET">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RESET</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.12)</span></span><a class="headerlink" href="#event-QMP-run-state.RESET" title="Link to this definition"></a></dt>
<dd><p>Emitted when the virtual machine is reset</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guest</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- If true, the reset was triggered by a guest request (such as
a guest-initiated ACPI reboot request or other hardware-specific
action) rather than a host request (such as the QMP command
<a class="reference internal" href="#command-QMP-machine.system_reset" title="QMP:machine.system_reset"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">system_reset</span></code></a>).  (since 2.10)</p></li>
<li><p><strong>reason</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.ShutdownCause" title="QMP:run-state.ShutdownCause"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ShutdownCause</span></code></a></span>) -- The <a class="reference internal" href="#enum-QMP-run-state.ShutdownCause" title="QMP:run-state.ShutdownCause"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">ShutdownCause</span></code></a> of the <a class="reference internal" href="#event-QMP-run-state.RESET" title="QMP:run-state.RESET"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">RESET</span></code></a>.  (since 4.0)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;RESET&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;guest&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;guest-reset&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267041653</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">9518</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.STOP">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">STOP</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.12)</span></span><a class="headerlink" href="#event-QMP-run-state.STOP" title="Link to this definition"></a></dt>
<dd><p>Emitted when the virtual machine is stopped</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;STOP&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267041730</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">281295</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.RESUME">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RESUME</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.12)</span></span><a class="headerlink" href="#event-QMP-run-state.RESUME" title="Link to this definition"></a></dt>
<dd><p>Emitted when the virtual machine resumes execution</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;RESUME&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1271770767</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">582542</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.SUSPEND">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SUSPEND</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#event-QMP-run-state.SUSPEND" title="Link to this definition"></a></dt>
<dd><p>Emitted when guest enters a hardware suspension state, for example,
S3 state, which is sometimes called standby state</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SUSPEND&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1344456160</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">309119</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.SUSPEND_DISK">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SUSPEND_DISK</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#event-QMP-run-state.SUSPEND_DISK" title="Link to this definition"></a></dt>
<dd><p>Emitted when guest enters a hardware suspension state with data
saved on disk, for example, S4 state, which is sometimes called
hibernate state</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>QEMU shuts down (similar to event <a class="reference internal" href="#event-QMP-run-state.SHUTDOWN" title="QMP:run-state.SHUTDOWN"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">SHUTDOWN</span></code></a>) when entering
this state.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SUSPEND_DISK&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1344456160</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">309119</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.WAKEUP">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">WAKEUP</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#event-QMP-run-state.WAKEUP" title="Link to this definition"></a></dt>
<dd><p>Emitted when the guest has woken up from suspend state and is
running</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;WAKEUP&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1344522075</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">745528</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.WATCHDOG">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">WATCHDOG</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.13)</span></span><a class="headerlink" href="#event-QMP-run-state.WATCHDOG" title="Link to this definition"></a></dt>
<dd><p>Emitted when the watchdog device's timer is expired</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.WatchdogAction" title="QMP:run-state.WatchdogAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">WatchdogAction</span></code></a></span>) -- action that has been taken</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If action is &quot;reset&quot;, &quot;shutdown&quot;, or &quot;pause&quot; the <a class="reference internal" href="#event-QMP-run-state.WATCHDOG" title="QMP:run-state.WATCHDOG"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">WATCHDOG</span></code></a>
event is followed respectively by the <a class="reference internal" href="#event-QMP-run-state.RESET" title="QMP:run-state.RESET"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">RESET</span></code></a>, <a class="reference internal" href="#event-QMP-run-state.SHUTDOWN" title="QMP:run-state.SHUTDOWN"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">SHUTDOWN</span></code></a>, or <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a>
events.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;WATCHDOG&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;reset&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267061043</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">959568</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.WatchdogAction">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">WatchdogAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-run-state.WatchdogAction" title="Link to this definition"></a></dt>
<dd><p>An enumeration of the actions taken when the watchdog device's timer
is expired</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reset</strong> -- system resets</p></li>
<li><p><strong>shutdown</strong> -- system shutdown, note that it is similar to <code class="docutils literal notranslate"><span class="pre">powerdown</span></code>,
which tries to set to system status and notify guest</p></li>
<li><p><strong>poweroff</strong> -- system poweroff, the emulator program exits</p></li>
<li><p><strong>pause</strong> -- system pauses, similar to <code class="docutils literal notranslate"><span class="pre">stop</span></code></p></li>
<li><p><strong>debug</strong> -- system enters debug state</p></li>
<li><p><strong>none</strong> -- nothing is done</p></li>
<li><p><strong>inject-nmi</strong> -- a non-maskable interrupt is injected into the first
VCPU (all VCPUS on x86) (since 2.4)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.RebootAction">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RebootAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#enum-QMP-run-state.RebootAction" title="Link to this definition"></a></dt>
<dd><p>Possible QEMU actions upon guest reboot</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reset</strong> -- Reset the VM</p></li>
<li><p><strong>shutdown</strong> -- Shutdown the VM and exit, according to the shutdown
action</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.ShutdownAction">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ShutdownAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#enum-QMP-run-state.ShutdownAction" title="Link to this definition"></a></dt>
<dd><p>Possible QEMU actions upon guest shutdown</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>poweroff</strong> -- Shutdown the VM and exit</p></li>
<li><p><strong>pause</strong> -- pause the VM</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.PanicAction">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PanicAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#enum-QMP-run-state.PanicAction" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- Continue VM execution</p></li>
<li><p><strong>pause</strong> -- Pause the VM</p></li>
<li><p><strong>shutdown</strong> -- Shutdown the VM and exit, according to the shutdown
action</p></li>
<li><p><strong>exit-failure</strong> -- Shutdown the VM and exit with nonzero status
(since 7.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-run-state.watchdog-set-action">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">watchdog-set-action</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#command-QMP-run-state.watchdog-set-action" title="Link to this definition"></a></dt>
<dd><p>Set watchdog action.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.WatchdogAction" title="QMP:run-state.WatchdogAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">WatchdogAction</span></code></a></span>) -- <a class="reference internal" href="#enum-QMP-run-state.WatchdogAction" title="QMP:run-state.WatchdogAction"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">WatchdogAction</span></code></a> action taken when watchdog timer expires.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;watchdog-set-action&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inject-nmi&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-run-state.set-action">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set-action</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#command-QMP-run-state.set-action" title="Link to this definition"></a></dt>
<dd><p>Set the actions that will be taken by the emulator in response to
guest events.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reboot</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.RebootAction" title="QMP:run-state.RebootAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RebootAction</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#enum-QMP-run-state.RebootAction" title="QMP:run-state.RebootAction"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">RebootAction</span></code></a> action taken on guest reboot.</p></li>
<li><p><strong>shutdown</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.ShutdownAction" title="QMP:run-state.ShutdownAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ShutdownAction</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#enum-QMP-run-state.ShutdownAction" title="QMP:run-state.ShutdownAction"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">ShutdownAction</span></code></a> action taken on guest shutdown.</p></li>
<li><p><strong>panic</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.PanicAction" title="QMP:run-state.PanicAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PanicAction</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#enum-QMP-run-state.PanicAction" title="QMP:run-state.PanicAction"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">PanicAction</span></code></a> action taken on guest panic.</p></li>
<li><p><strong>watchdog</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.WatchdogAction" title="QMP:run-state.WatchdogAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">WatchdogAction</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#enum-QMP-run-state.WatchdogAction" title="QMP:run-state.WatchdogAction"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">WatchdogAction</span></code></a> action taken when watchdog timer expires.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;set-action&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;reboot&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shutdown&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;shutdown&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pause&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;panic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pause&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;watchdog&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inject-nmi&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.GUEST_PANICKED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GUEST_PANICKED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#event-QMP-run-state.GUEST_PANICKED" title="Link to this definition"></a></dt>
<dd><p>Emitted when guest OS panic is detected</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.GuestPanicAction" title="QMP:run-state.GuestPanicAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuestPanicAction</span></code></a></span>) -- action that has been taken, currently always &quot;pause&quot;</p></li>
<li><p><strong>info</strong> (<span><a class="reference internal" href="#object-QMP-run-state.GuestPanicInformation" title="QMP:run-state.GuestPanicInformation"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuestPanicInformation</span></code></a>, <em>optional</em></span>) -- information about a panic (since 2.9)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GUEST_PANICKED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pause&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1648245231</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">900001</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.GUEST_CRASHLOADED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GUEST_CRASHLOADED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#event-QMP-run-state.GUEST_CRASHLOADED" title="Link to this definition"></a></dt>
<dd><p>Emitted when guest OS crash loaded is detected</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.GuestPanicAction" title="QMP:run-state.GuestPanicAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuestPanicAction</span></code></a></span>) -- action that has been taken, currently always &quot;run&quot;</p></li>
<li><p><strong>info</strong> (<span><a class="reference internal" href="#object-QMP-run-state.GuestPanicInformation" title="QMP:run-state.GuestPanicInformation"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuestPanicInformation</span></code></a>, <em>optional</em></span>) -- information about a panic</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GUEST_CRASHLOADED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;run&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1648245259</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">893771</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.GUEST_PVSHUTDOWN">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GUEST_PVSHUTDOWN</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#event-QMP-run-state.GUEST_PVSHUTDOWN" title="Link to this definition"></a></dt>
<dd><p>Emitted when guest submits a shutdown request via pvpanic interface</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GUEST_PVSHUTDOWN&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1648245259</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">893771</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.GuestPanicAction">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GuestPanicAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-run-state.GuestPanicAction" title="Link to this definition"></a></dt>
<dd><p>An enumeration of the actions taken when guest OS panic is detected</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pause</strong> -- system pauses</p></li>
<li><p><strong>poweroff</strong> -- system powers off (since 2.8)</p></li>
<li><p><strong>run</strong> -- system continues to run (since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.GuestPanicInformationType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GuestPanicInformationType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-run-state.GuestPanicInformationType" title="Link to this definition"></a></dt>
<dd><p>An enumeration of the guest panic information types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hyper-v</strong> -- hyper-v guest panic information type</p></li>
<li><p><strong>s390</strong> -- s390 guest panic information type (Since: 2.12)</p></li>
<li><p><strong>tdx</strong> -- tdx guest panic information type (Since: 10.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-run-state.GuestPanicInformation">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GuestPanicInformation</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-run-state.GuestPanicInformation" title="Link to this definition"></a></dt>
<dd><p>Information about a guest panic</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.GuestPanicInformationType" title="QMP:run-state.GuestPanicInformationType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuestPanicInformationType</span></code></a></span>) -- Crash type that defines the hypervisor specific information</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">hyper-v</span></code>: The members of <a class="reference internal" href="#object-QMP-run-state.GuestPanicInformationHyperV" title="QMP:run-state.GuestPanicInformationHyperV"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuestPanicInformationHyperV</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">s390</span></code>: The members of <a class="reference internal" href="#object-QMP-run-state.GuestPanicInformationS390" title="QMP:run-state.GuestPanicInformationS390"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuestPanicInformationS390</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">tdx</span></code>: The members of <a class="reference internal" href="#object-QMP-run-state.GuestPanicInformationTdx" title="QMP:run-state.GuestPanicInformationTdx"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuestPanicInformationTdx</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-run-state.GuestPanicInformationHyperV">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GuestPanicInformationHyperV</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-run-state.GuestPanicInformationHyperV" title="Link to this definition"></a></dt>
<dd><p>Hyper-V specific guest panic information (HV crash MSRs)</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg1</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- for Windows, <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a> code for the guest crash.  For Linux,
an error code.</p></li>
<li><p><strong>arg2</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- for Windows, first argument of the <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a>.  For Linux, the
guest OS ID, which has the kernel version in bits 16-47 and
0x8100 in bits 48-63.</p></li>
<li><p><strong>arg3</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- for Windows, second argument of the <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a>.  For Linux, the
program counter of the guest.</p></li>
<li><p><strong>arg4</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- for Windows, third argument of the <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a>.  For Linux, the
RAX register (x86) or the stack pointer (aarch64) of the guest.</p></li>
<li><p><strong>arg5</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- for Windows, fourth argument of the <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a>.  For x86 Linux, the
stack pointer of the guest.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.S390CrashReason">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">S390CrashReason</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-run-state.S390CrashReason" title="Link to this definition"></a></dt>
<dd><p>Reason why the CPU is in a crashed state.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unknown</strong> -- no crash reason was set</p></li>
<li><p><strong>disabled-wait</strong> -- the CPU has entered a disabled wait state</p></li>
<li><p><strong>extint-loop</strong> -- clock comparator or cpu timer interrupt with new PSW
enabled for external interrupts</p></li>
<li><p><strong>pgmint-loop</strong> -- program interrupt with BAD new PSW</p></li>
<li><p><strong>opint-loop</strong> -- operation exception interrupt with invalid code at the
program interrupt new PSW</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-run-state.GuestPanicInformationS390">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GuestPanicInformationS390</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-run-state.GuestPanicInformationS390" title="Link to this definition"></a></dt>
<dd><p>S390 specific guest panic information (PSW)</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- core id of the CPU that crashed</p></li>
<li><p><strong>psw-mask</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- control fields of guest PSW</p></li>
<li><p><strong>psw-addr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- guest instruction address</p></li>
<li><p><strong>reason</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.S390CrashReason" title="QMP:run-state.S390CrashReason"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">S390CrashReason</span></code></a></span>) -- guest crash reason</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-run-state.GuestPanicInformationTdx">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GuestPanicInformationTdx</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.1)</span></span><a class="headerlink" href="#object-QMP-run-state.GuestPanicInformationTdx" title="Link to this definition"></a></dt>
<dd><p>TDX Guest panic information specific to TDX, as specified in the
&quot;Guest-Hypervisor Communication Interface (GHCI) Specification&quot;,
section TDG.VP.VMCALL&lt;ReportFatalError&gt;.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>error-code</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- TD-specific error code</p></li>
<li><p><strong>message</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Human-readable error message provided by the guest. Not
to be trusted.</p></li>
<li><p><strong>gpa</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- guest-physical address of a page that contains more verbose
error information, as zero-terminated string.  Present when the
&quot;GPA valid&quot; bit (bit 63) is set in <code class="docutils literal notranslate"><span class="pre">error-code</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-run-state.MEMORY_FAILURE">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MEMORY_FAILURE</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#event-QMP-run-state.MEMORY_FAILURE" title="Link to this definition"></a></dt>
<dd><p>Emitted when a memory failure occurs on host side.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>recipient</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.MemoryFailureRecipient" title="QMP:run-state.MemoryFailureRecipient"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryFailureRecipient</span></code></a></span>) -- recipient is defined as <a class="reference internal" href="#enum-QMP-run-state.MemoryFailureRecipient" title="QMP:run-state.MemoryFailureRecipient"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">MemoryFailureRecipient</span></code></a>.</p></li>
<li><p><strong>action</strong> (<span><a class="reference internal" href="#enum-QMP-run-state.MemoryFailureAction" title="QMP:run-state.MemoryFailureAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryFailureAction</span></code></a></span>) -- action that has been taken.</p></li>
<li><p><strong>flags</strong> (<span><a class="reference internal" href="#object-QMP-run-state.MemoryFailureFlags" title="QMP:run-state.MemoryFailureFlags"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryFailureFlags</span></code></a></span>) -- flags for <a class="reference internal" href="#enum-QMP-run-state.MemoryFailureAction" title="QMP:run-state.MemoryFailureAction"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">MemoryFailureAction</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEMORY_FAILURE&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;recipient&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hypervisor&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fatal&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;action-required&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                          </span><span class="nt">&quot;recursive&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267061043</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">959568</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.MemoryFailureRecipient">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryFailureRecipient</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#enum-QMP-run-state.MemoryFailureRecipient" title="Link to this definition"></a></dt>
<dd><p>Hardware memory failure occurs, handled by recipient.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hypervisor</strong> -- memory failure at QEMU process address space.  (none
guest memory, but used by QEMU itself).</p></li>
<li><p><strong>guest</strong> -- memory failure at guest memory,</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.MemoryFailureAction">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryFailureAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#enum-QMP-run-state.MemoryFailureAction" title="Link to this definition"></a></dt>
<dd><p>Actions taken by QEMU in response to a hardware memory failure.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ignore</strong> -- the memory failure could be ignored.  This will only be the
case for action-optional failures.</p></li>
<li><p><strong>inject</strong> -- memory failure occurred in guest memory, the guest enabled
MCE handling mechanism, and QEMU could inject the MCE into the
guest successfully.</p></li>
<li><p><strong>fatal</strong> -- the failure is unrecoverable.  This occurs for
action-required failures if the recipient is the hypervisor;
QEMU will exit.</p></li>
<li><p><strong>reset</strong> -- the failure is unrecoverable but confined to the guest.
This occurs if the recipient is a guest guest which is not ready
to handle memory failures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-run-state.MemoryFailureFlags">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryFailureFlags</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-run-state.MemoryFailureFlags" title="Link to this definition"></a></dt>
<dd><p>Additional information on memory failures.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action-required</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether a memory failure event is action-required
or action-optional (e.g. a failure during memory scrub).</p></li>
<li><p><strong>recursive</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether the failure occurred while the previous failure
was still in progress.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-run-state.NotifyVmexitOption">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NotifyVmexitOption</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#enum-QMP-run-state.NotifyVmexitOption" title="Link to this definition"></a></dt>
<dd><p>An enumeration of the options specified when enabling notify VM exit</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run</strong> -- enable the feature, do nothing and continue if the notify VM
exit happens.</p></li>
<li><p><strong>internal-error</strong> -- enable the feature, raise a internal error if the
notify VM exit happens.</p></li>
<li><p><strong>disable</strong> -- disable the feature.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="cryptography">
<span id="module-QMP-crypto"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">Cryptography</a><a class="headerlink" href="#cryptography" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoTLSCredsEndpoint">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoTLSCredsEndpoint</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoTLSCredsEndpoint" title="Link to this definition"></a></dt>
<dd><p>The type of network endpoint that will be using the credentials.
Most types of credential require different setup / structures
depending on whether they will be used in a server versus a client.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- the network endpoint is acting as the client</p></li>
<li><p><strong>server</strong> -- the network endpoint is acting as the server</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoSecretFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoSecretFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoSecretFormat" title="Link to this definition"></a></dt>
<dd><p>The data format that the secret is provided in</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw</strong> -- raw bytes.  When encoded in JSON only valid UTF-8 sequences
can be used</p></li>
<li><p><strong>base64</strong> -- arbitrary base64 encoded binary data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoHashAlgo">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoHashAlgo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoHashAlgo" title="Link to this definition"></a></dt>
<dd><p>The supported algorithms for computing content digests</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md5</strong> -- MD5.  Should not be used in any new code, legacy compat only</p></li>
<li><p><strong>sha1</strong> -- SHA-1.  Should not be used in any new code, legacy compat only</p></li>
<li><p><strong>sha224</strong> -- SHA-224.  (since 2.7)</p></li>
<li><p><strong>sha256</strong> -- SHA-256.  Current recommended strong hash.</p></li>
<li><p><strong>sha384</strong> -- SHA-384.  (since 2.7)</p></li>
<li><p><strong>sha512</strong> -- SHA-512.  (since 2.7)</p></li>
<li><p><strong>ripemd160</strong> -- RIPEMD-160.  (since 2.7)</p></li>
<li><p><strong>sm3</strong> -- SM3.  (since 9.2.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoCipherAlgo">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoCipherAlgo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoCipherAlgo" title="Link to this definition"></a></dt>
<dd><p>The supported algorithms for content encryption ciphers</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aes-128</strong> -- AES with 128 bit / 16 byte keys</p></li>
<li><p><strong>aes-192</strong> -- AES with 192 bit / 24 byte keys</p></li>
<li><p><strong>aes-256</strong> -- AES with 256 bit / 32 byte keys</p></li>
<li><p><strong>des</strong> -- DES with 56 bit / 8 byte keys.  Do not use except in VNC.
(since 6.1)</p></li>
<li><p><strong>3des</strong> -- 3DES(EDE) with 192 bit / 24 byte keys (since 2.9)</p></li>
<li><p><strong>cast5-128</strong> -- Cast5 with 128 bit / 16 byte keys</p></li>
<li><p><strong>serpent-128</strong> -- Serpent with 128 bit / 16 byte keys</p></li>
<li><p><strong>serpent-192</strong> -- Serpent with 192 bit / 24 byte keys</p></li>
<li><p><strong>serpent-256</strong> -- Serpent with 256 bit / 32 byte keys</p></li>
<li><p><strong>twofish-128</strong> -- Twofish with 128 bit / 16 byte keys</p></li>
<li><p><strong>twofish-192</strong> -- Twofish with 192 bit / 24 byte keys</p></li>
<li><p><strong>twofish-256</strong> -- Twofish with 256 bit / 32 byte keys</p></li>
<li><p><strong>sm4</strong> -- SM4 with 128 bit / 16 byte keys (since 9.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoCipherMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoCipherMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoCipherMode" title="Link to this definition"></a></dt>
<dd><p>The supported modes for content encryption ciphers</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ecb</strong> -- Electronic Code Book</p></li>
<li><p><strong>cbc</strong> -- Cipher Block Chaining</p></li>
<li><p><strong>xts</strong> -- XEX with tweaked code book and ciphertext stealing</p></li>
<li><p><strong>ctr</strong> -- Counter (Since 2.8)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoIVGenAlgo">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoIVGenAlgo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoIVGenAlgo" title="Link to this definition"></a></dt>
<dd><p>The supported algorithms for generating initialization vectors for
full disk encryption.  The 'plain' generator should not be used for
disks with sector numbers larger than 2^32, except where
compatibility with pre-existing Linux dm-crypt volumes is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plain</strong> -- 64-bit sector number truncated to 32-bits</p></li>
<li><p><strong>plain64</strong> -- 64-bit sector number</p></li>
<li><p><strong>essiv</strong> -- 64-bit sector number encrypted with a hash of the encryption
key</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoBlockFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoBlockFormat" title="Link to this definition"></a></dt>
<dd><p>The supported full disk encryption formats</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qcow</strong> -- QCow/QCow2 built-in AES-CBC encryption.  Use only for
liberating data from old images.</p></li>
<li><p><strong>luks</strong> -- LUKS encryption format.  Recommended for new images</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockOptionsBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockOptionsBase</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockOptionsBase" title="Link to this definition"></a></dt>
<dd><p>The common options that apply to all full disk encryption formats</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoBlockFormat" title="QMP:crypto.QCryptoBlockFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockFormat</span></code></a></span>) -- the encryption format</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockOptionsQCow">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockOptionsQCow</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockOptionsQCow" title="Link to this definition"></a></dt>
<dd><p>The options that apply to QCow/QCow2 AES-CBC encryption format</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the ID of a QCryptoSecret object providing the
decryption key.  Mandatory except when probing image for
metadata only.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockOptionsLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockOptionsLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockOptionsLUKS" title="Link to this definition"></a></dt>
<dd><p>The options that apply to LUKS encryption format</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the ID of a QCryptoSecret object providing the
decryption key.  Mandatory except when probing image for
metadata only.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockCreateOptionsLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockCreateOptionsLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockCreateOptionsLUKS" title="Link to this definition"></a></dt>
<dd><p>The options that apply to LUKS encryption format initialization</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cipher-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoCipherAlgo" title="QMP:crypto.QCryptoCipherAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoCipherAlgo</span></code></a>, <em>optional</em></span>) -- the cipher algorithm for data encryption.  Currently
defaults to 'aes-256'.</p></li>
<li><p><strong>cipher-mode</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoCipherMode" title="QMP:crypto.QCryptoCipherMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoCipherMode</span></code></a>, <em>optional</em></span>) -- the cipher mode for data encryption.  Currently
defaults to 'xts'</p></li>
<li><p><strong>ivgen-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoIVGenAlgo" title="QMP:crypto.QCryptoIVGenAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoIVGenAlgo</span></code></a>, <em>optional</em></span>) -- the initialization vector generator.  Currently defaults
to 'plain64'</p></li>
<li><p><strong>ivgen-hash-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoHashAlgo" title="QMP:crypto.QCryptoHashAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoHashAlgo</span></code></a>, <em>optional</em></span>) -- the initialization vector generator hash.
Currently defaults to 'sha256'</p></li>
<li><p><strong>hash-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoHashAlgo" title="QMP:crypto.QCryptoHashAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoHashAlgo</span></code></a>, <em>optional</em></span>) -- the master key hash algorithm.  Currently defaults to
'sha256'</p></li>
<li><p><strong>iter-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of milliseconds to spend in PBKDF passphrase
processing.  Currently defaults to 2000.  (since 2.8)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsLUKS" title="QMP:crypto.QCryptoBlockOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockOpenOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockOpenOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockOpenOptions" title="Link to this definition"></a></dt>
<dd><p>The options that are available for all encryption formats when
opening an existing volume</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsBase" title="QMP:crypto.QCryptoBlockOptionsBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsBase</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">qcow</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsQCow" title="QMP:crypto.QCryptoBlockOptionsQCow"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsQCow</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsLUKS" title="QMP:crypto.QCryptoBlockOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockCreateOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockCreateOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockCreateOptions" title="Link to this definition"></a></dt>
<dd><p>The options that are available for all encryption formats when
initializing a new volume</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsBase" title="QMP:crypto.QCryptoBlockOptionsBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsBase</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">qcow</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsQCow" title="QMP:crypto.QCryptoBlockOptionsQCow"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsQCow</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockCreateOptionsLUKS" title="QMP:crypto.QCryptoBlockCreateOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockCreateOptionsLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockInfoBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockInfoBase</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockInfoBase" title="Link to this definition"></a></dt>
<dd><p>The common information that applies to all full disk encryption
formats</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoBlockFormat" title="QMP:crypto.QCryptoBlockFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockFormat</span></code></a></span>) -- the encryption format</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockInfoLUKSSlot">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockInfoLUKSSlot</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockInfoLUKSSlot" title="Link to this definition"></a></dt>
<dd><p>Information about the LUKS block encryption key slot options</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>active</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether the key slot is currently in use</p></li>
<li><p><strong>key-offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- offset to the key material in bytes</p></li>
<li><p><strong>iters</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of PBKDF2 iterations for key material</p></li>
<li><p><strong>stripes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of stripes for splitting key material</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockInfoLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockInfoLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockInfoLUKS" title="Link to this definition"></a></dt>
<dd><p>Information about the LUKS block encryption options</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cipher-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoCipherAlgo" title="QMP:crypto.QCryptoCipherAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoCipherAlgo</span></code></a></span>) -- the cipher algorithm for data encryption</p></li>
<li><p><strong>cipher-mode</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoCipherMode" title="QMP:crypto.QCryptoCipherMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoCipherMode</span></code></a></span>) -- the cipher mode for data encryption</p></li>
<li><p><strong>ivgen-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoIVGenAlgo" title="QMP:crypto.QCryptoIVGenAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoIVGenAlgo</span></code></a></span>) -- the initialization vector generator</p></li>
<li><p><strong>ivgen-hash-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoHashAlgo" title="QMP:crypto.QCryptoHashAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoHashAlgo</span></code></a>, <em>optional</em></span>) -- the initialization vector generator hash</p></li>
<li><p><strong>hash-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoHashAlgo" title="QMP:crypto.QCryptoHashAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoHashAlgo</span></code></a></span>) -- the master key hash algorithm</p></li>
<li><p><strong>detached-header</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether the LUKS header is detached (Since 9.0)</p></li>
<li><p><strong>payload-offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- offset to the payload data in bytes</p></li>
<li><p><strong>master-key-iters</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of PBKDF2 iterations for key material</p></li>
<li><p><strong>uuid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- unique identifier for the volume</p></li>
<li><p><strong>slots</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfoLUKSSlot" title="QMP:crypto.QCryptoBlockInfoLUKSSlot"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockInfoLUKSSlot</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- information about each key slot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockInfo" title="Link to this definition"></a></dt>
<dd><p>Information about the block encryption options</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfoBase" title="QMP:crypto.QCryptoBlockInfoBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockInfoBase</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfoLUKS" title="QMP:crypto.QCryptoBlockInfoLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockInfoLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoBlockLUKSKeyslotState">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockLUKSKeyslotState</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoBlockLUKSKeyslotState" title="Link to this definition"></a></dt>
<dd><p>Defines state of keyslots that are affected by the update</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>active</strong> -- The slots contain the given password and marked as active</p></li>
<li><p><strong>inactive</strong> -- The slots are erased (contain garbage) and marked as
inactive</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockAmendOptionsLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockAmendOptionsLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockAmendOptionsLUKS" title="Link to this definition"></a></dt>
<dd><p>This struct defines the update parameters that activate/de-activate
set of keyslots</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoBlockLUKSKeyslotState" title="QMP:crypto.QCryptoBlockLUKSKeyslotState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockLUKSKeyslotState</span></code></a></span>) -- the desired state of the keyslots</p></li>
<li><p><strong>new-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The ID of a QCryptoSecret object providing the password
to be written into added active keyslots</p></li>
<li><p><strong>old-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Optional (for deactivation only).  If given will
deactivate all keyslots that match password located in
QCryptoSecret with this ID</p></li>
<li><p><strong>iter-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Optional (for activation only).  Number of milliseconds to
spend in PBKDF passphrase processing for the newly activated
keyslot.  Currently defaults to 2000.</p></li>
<li><p><strong>keyslot</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- <p>Optional.  ID of the keyslot to activate/deactivate.  For
keyslot activation, keyslot should not be active already (this
is unsafe to update an active keyslot), but possible if 'force'
parameter is given.  If keyslot is not given, first free keyslot
will be written.</p>
<p>For keyslot deactivation, this parameter specifies the exact
keyslot to deactivate</p>
</p></li>
<li><p><strong>secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Optional.  The ID of a QCryptoSecret object providing the
password to use to retrieve current master key.  Defaults to the
same secret that was used to open the image</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoBlockAmendOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoBlockAmendOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoBlockAmendOptions" title="Link to this definition"></a></dt>
<dd><p>The options that are available for all encryption formats when
amending encryption settings</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsBase" title="QMP:crypto.QCryptoBlockOptionsBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsBase</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockAmendOptionsLUKS" title="QMP:crypto.QCryptoBlockAmendOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockAmendOptionsLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.SecretCommonProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SecretCommonProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-crypto.SecretCommonProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for objects of classes derived from secret-common.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoSecretFormat" title="QMP:crypto.QCryptoSecretFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoSecretFormat</span></code></a>, <em>optional</em></span>) -- the data format that the secret is provided in
(default: raw)</p></li>
<li><p><strong>keyid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of another secret that should be used to decrypt
the provided data.  If not present, the data is assumed to be
unencrypted.</p></li>
<li><p><strong>iv</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the random initialization vector used for encryption of this
particular secret.  Should be a base64 encrypted string of the
16-byte IV.  Mandatory if <code class="docutils literal notranslate"><span class="pre">keyid</span></code> is given.  Ignored if <code class="docutils literal notranslate"><span class="pre">keyid</span></code> is
absent.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.SecretProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SecretProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-crypto.SecretProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for secret objects.</p>
<p>Either <code class="docutils literal notranslate"><span class="pre">data</span></code> or <code class="docutils literal notranslate"><span class="pre">file</span></code> must be provided, but not both.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the associated with the secret from</p></li>
<li><p><strong>file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the filename to load the data associated with the secret from</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.SecretCommonProperties" title="QMP:crypto.SecretCommonProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SecretCommonProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.SecretKeyringProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SecretKeyringProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-crypto.SecretKeyringProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SECRET_KEYRING</span></code></div>
</div>
<p>Properties for secret_keyring objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serial</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- serial number that identifies a key to get from the kernel</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.SecretCommonProperties" title="QMP:crypto.SecretCommonProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SecretCommonProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.TlsCredsProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TlsCredsProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-crypto.TlsCredsProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for objects of classes derived from tls-creds.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verify-peer</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true the peer credentials will be verified once the
handshake is completed.  This is a no-op for anonymous
credentials.  (default: true)</p></li>
<li><p><strong>dir</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the path of the directory that contains the credential files</p></li>
<li><p><strong>endpoint</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoTLSCredsEndpoint" title="QMP:crypto.QCryptoTLSCredsEndpoint"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoTLSCredsEndpoint</span></code></a>, <em>optional</em></span>) -- whether the QEMU network backend that uses the
credentials will be acting as a client or as a server
(default: client)</p></li>
<li><p><strong>priority</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- a gnutls priority string as described at
<a class="reference external" href="https://gnutls.org/manual/html_node/Priority-Strings.html">https://gnutls.org/manual/html_node/Priority-Strings.html</a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.TlsCredsAnonProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TlsCredsAnonProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-crypto.TlsCredsAnonProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for tls-creds-anon objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.TlsCredsProperties" title="QMP:crypto.TlsCredsProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TlsCredsProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.TlsCredsPskProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TlsCredsPskProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#object-QMP-crypto.TlsCredsPskProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for tls-creds-psk objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the username which will be sent to the server.  For
clients only.  If absent, &quot;qemu&quot; is sent and the property will
read back as an empty string.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.TlsCredsProperties" title="QMP:crypto.TlsCredsProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TlsCredsProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.TlsCredsX509Properties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TlsCredsX509Properties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-crypto.TlsCredsX509Properties" title="Link to this definition"></a></dt>
<dd><p>Properties for tls-creds-x509 objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sanity-check</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, perform some sanity checks before using the
credentials (default: true)</p></li>
<li><p><strong>passwordid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- For the server-key.pem and client-key.pem files which
contain sensitive private keys, it is possible to use an
encrypted version by providing the <code class="docutils literal notranslate"><span class="pre">passwordid</span></code> parameter.  This
provides the ID of a previously created secret object containing
the password for decryption.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.TlsCredsProperties" title="QMP:crypto.TlsCredsProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TlsCredsProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoAkCipherAlgo">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoAkCipherAlgo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoAkCipherAlgo" title="Link to this definition"></a></dt>
<dd><p>The supported algorithms for asymmetric encryption ciphers</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rsa</strong> -- RSA algorithm</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoAkCipherKeyType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoAkCipherKeyType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoAkCipherKeyType" title="Link to this definition"></a></dt>
<dd><p>The type of asymmetric keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>public</strong> -- public key</p></li>
<li><p><strong>private</strong> -- private key</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-crypto.QCryptoRSAPaddingAlgo">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoRSAPaddingAlgo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-crypto.QCryptoRSAPaddingAlgo" title="Link to this definition"></a></dt>
<dd><p>The padding algorithm for RSA.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw</strong> -- no padding used</p></li>
<li><p><strong>pkcs1</strong> -- pkcs1#v1.5</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoAkCipherOptionsRSA">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoAkCipherOptionsRSA</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoAkCipherOptionsRSA" title="Link to this definition"></a></dt>
<dd><p>Specific parameters for RSA algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hash-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoHashAlgo" title="QMP:crypto.QCryptoHashAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoHashAlgo</span></code></a></span>) -- <a class="reference internal" href="#enum-QMP-crypto.QCryptoHashAlgo" title="QMP:crypto.QCryptoHashAlgo"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">QCryptoHashAlgo</span></code></a></p></li>
<li><p><strong>padding-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoRSAPaddingAlgo" title="QMP:crypto.QCryptoRSAPaddingAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoRSAPaddingAlgo</span></code></a></span>) -- <a class="reference internal" href="#enum-QMP-crypto.QCryptoRSAPaddingAlgo" title="QMP:crypto.QCryptoRSAPaddingAlgo"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">QCryptoRSAPaddingAlgo</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-crypto.QCryptoAkCipherOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptoAkCipherOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-crypto.QCryptoAkCipherOptions" title="Link to this definition"></a></dt>
<dd><p>The options that are available for all asymmetric key algorithms
when creating a new QCryptoAkCipher.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoAkCipherAlgo" title="QMP:crypto.QCryptoAkCipherAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoAkCipherAlgo</span></code></a></span>) -- encryption cipher algorithm</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">alg</span></code> is <code class="docutils literal notranslate"><span class="pre">rsa</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoAkCipherOptionsRSA" title="QMP:crypto.QCryptoAkCipherOptionsRSA"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoAkCipherOptionsRSA</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="background-jobs">
<span id="module-QMP-job"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">Background jobs</a><a class="headerlink" href="#background-jobs" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-job.JobType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JobType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#enum-QMP-job.JobType" title="Link to this definition"></a></dt>
<dd><p>Type of a background job.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>commit</strong> -- block commit job type, see <a class="reference internal" href="#command-QMP-block-core.block-commit" title="QMP:block-core.block-commit"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-commit</span></code></a></p></li>
<li><p><strong>stream</strong> -- block stream job type, see <a class="reference internal" href="#command-QMP-block-core.block-stream" title="QMP:block-core.block-stream"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-stream</span></code></a></p></li>
<li><p><strong>mirror</strong> -- drive mirror job type, see <a class="reference internal" href="#command-QMP-block-core.drive-mirror" title="QMP:block-core.drive-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-mirror</span></code></a></p></li>
<li><p><strong>backup</strong> -- drive backup job type, see <a class="reference internal" href="#command-QMP-block-core.drive-backup" title="QMP:block-core.drive-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-backup</span></code></a></p></li>
<li><p><strong>create</strong> -- image creation job type, see <a class="reference internal" href="#command-QMP-block-core.blockdev-create" title="QMP:block-core.blockdev-create"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-create</span></code></a> (since 3.0)</p></li>
<li><p><strong>amend</strong> -- image options amend job type, see <a class="reference internal" href="#command-QMP-block-core.x-blockdev-amend" title="QMP:block-core.x-blockdev-amend"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">x-blockdev-amend</span></code></a>
(since 5.1)</p></li>
<li><p><strong>snapshot-load</strong> -- snapshot load job type, see <a class="reference internal" href="#command-QMP-migration.snapshot-load" title="QMP:migration.snapshot-load"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">snapshot-load</span></code></a>
(since 6.0)</p></li>
<li><p><strong>snapshot-save</strong> -- snapshot save job type, see <a class="reference internal" href="#command-QMP-migration.snapshot-save" title="QMP:migration.snapshot-save"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">snapshot-save</span></code></a>
(since 6.0)</p></li>
<li><p><strong>snapshot-delete</strong> -- snapshot delete job type, see <a class="reference internal" href="#command-QMP-migration.snapshot-delete" title="QMP:migration.snapshot-delete"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">snapshot-delete</span></code></a>
(since 6.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-job.JobStatus">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JobStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-job.JobStatus" title="Link to this definition"></a></dt>
<dd><p>Indicates the present state of a given job in its lifetime.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>undefined</strong> -- Erroneous, default state.  Should not ever be visible.</p></li>
<li><p><strong>created</strong> -- The job has been created, but not yet started.</p></li>
<li><p><strong>running</strong> -- The job is currently running.</p></li>
<li><p><strong>paused</strong> -- The job is running, but paused.  The pause may be requested
by either the QMP user or by internal processes.</p></li>
<li><p><strong>ready</strong> -- The job is running, but is ready for the user to signal
completion.  This is used for long-running jobs like mirror that
are designed to run indefinitely.</p></li>
<li><p><strong>standby</strong> -- The job is ready, but paused.  This is nearly identical to
<code class="docutils literal notranslate"><span class="pre">paused</span></code>.  The job may return to <code class="docutils literal notranslate"><span class="pre">ready</span></code> or otherwise be canceled.</p></li>
<li><p><strong>waiting</strong> -- The job is waiting for other jobs in the transaction to
converge to the waiting state.  This status will likely not be
visible for the last job in a transaction.</p></li>
<li><p><strong>pending</strong> -- The job has finished its work, but has finalization steps
that it needs to make prior to completing.  These changes will
require manual intervention via <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a> if auto-finalize
was set to false.  These pending changes may still fail.</p></li>
<li><p><strong>aborting</strong> -- The job is in the process of being aborted, and will
finish with an error.  The job will afterwards report that it is
<code class="docutils literal notranslate"><span class="pre">concluded</span></code>.  This status may not be visible to the management
process.</p></li>
<li><p><strong>concluded</strong> -- The job has finished all work.  If auto-dismiss was set
to false, the job will remain in this state until it is
dismissed via <a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a>.</p></li>
<li><p><strong>null</strong> -- The job is in the process of being dismantled.  This state
should not ever be visible externally.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-job.JobVerb">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JobVerb</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-job.JobVerb" title="Link to this definition"></a></dt>
<dd><p>Represents command verbs that can be applied to a job.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cancel</strong> -- see <a class="reference internal" href="#command-QMP-job.job-cancel" title="QMP:job.job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-cancel</span></code></a></p></li>
<li><p><strong>pause</strong> -- see <a class="reference internal" href="#command-QMP-job.job-pause" title="QMP:job.job-pause"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-pause</span></code></a></p></li>
<li><p><strong>resume</strong> -- see <a class="reference internal" href="#command-QMP-job.job-resume" title="QMP:job.job-resume"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-resume</span></code></a></p></li>
<li><p><strong>set-speed</strong> -- see <a class="reference internal" href="#command-QMP-block-core.block-job-set-speed" title="QMP:block-core.block-job-set-speed"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-job-set-speed</span></code></a></p></li>
<li><p><strong>complete</strong> -- see <a class="reference internal" href="#command-QMP-job.job-complete" title="QMP:job.job-complete"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-complete</span></code></a></p></li>
<li><p><strong>dismiss</strong> -- see <a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a></p></li>
<li><p><strong>finalize</strong> -- see <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a></p></li>
<li><p><strong>change</strong> -- see <a class="reference internal" href="#command-QMP-block-core.block-job-change" title="QMP:block-core.block-job-change"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-job-change</span></code></a> (since 8.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-job.JOB_STATUS_CHANGE">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JOB_STATUS_CHANGE</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#event-QMP-job.JOB_STATUS_CHANGE" title="Link to this definition"></a></dt>
<dd><p>Emitted when a job transitions to a different status.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier</p></li>
<li><p><strong>status</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobStatus" title="QMP:job.JobStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobStatus</span></code></a></span>) -- The new job status</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-job.job-pause">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">job-pause</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-job.job-pause" title="Link to this definition"></a></dt>
<dd><p>Pause an active job.</p>
<p>This command returns immediately after marking the active job for
pausing.  Pausing an already paused job is an error.</p>
<p>The job will pause as soon as possible, which means transitioning
into the PAUSED state if it was RUNNING, or into STANDBY if it was
READY.  The corresponding <a class="reference internal" href="#event-QMP-job.JOB_STATUS_CHANGE" title="QMP:job.JOB_STATUS_CHANGE"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">JOB_STATUS_CHANGE</span></code></a> event will be emitted.</p>
<p>Cancelling a paused job automatically resumes it.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-job.job-resume">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">job-resume</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-job.job-resume" title="Link to this definition"></a></dt>
<dd><p>Resume a paused job.</p>
<p>This command returns immediately after resuming a paused job.
Resuming an already running job is an error.</p>
<p>This command also clears the error status for block-jobs (stream,
commit, mirror, backup).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-job.job-cancel">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">job-cancel</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-job.job-cancel" title="Link to this definition"></a></dt>
<dd><p>Instruct an active background job to cancel at the next opportunity.
This command returns immediately after marking the active job for
cancellation.</p>
<p>The job will cancel as soon as possible and then emit a
<a class="reference internal" href="#event-QMP-job.JOB_STATUS_CHANGE" title="QMP:job.JOB_STATUS_CHANGE"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">JOB_STATUS_CHANGE</span></code></a> event.  Usually, the status will change to
ABORTING, but it is possible that a job successfully completes (e.g.
because it was almost done and there was no opportunity to cancel
earlier than completing the job) and transitions to PENDING instead.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-job.job-complete">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">job-complete</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-job.job-complete" title="Link to this definition"></a></dt>
<dd><p>Manually trigger completion of an active job in the READY or STANDBY
state.  Completing the job in any other state is an error.</p>
<p>This is supported only for drive mirroring, where it also switches
the device to write to the target path only.  Note that drive
mirroring includes <a class="reference internal" href="#command-QMP-block-core.drive-mirror" title="QMP:block-core.drive-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-mirror</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.blockdev-mirror" title="QMP:block-core.blockdev-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-mirror</span></code></a> and <a class="reference internal" href="#command-QMP-block-core.block-commit" title="QMP:block-core.block-commit"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-commit</span></code></a>
job (only in case of &quot;active commit&quot;, when the node being commited
is used by the guest).  The ability to complete is signaled with a
<a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_READY" title="QMP:block-core.BLOCK_JOB_READY"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_READY</span></code></a> event.</p>
<p>This command completes an active background block operation
synchronously.  The ordering of this command's return with the
<a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_COMPLETED" title="QMP:block-core.BLOCK_JOB_COMPLETED"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_COMPLETED</span></code></a> event is not defined.  Note that if an I/O error
occurs during the processing of this command: 1) the command itself
will fail; 2) the error will be processed according to the
rerror/werror arguments that were specified when starting the
operation.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-job.job-dismiss">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">job-dismiss</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-job.job-dismiss" title="Link to this definition"></a></dt>
<dd><p>Deletes a job that is in the CONCLUDED state.  This command only
needs to be run explicitly for jobs that don't have automatic
dismiss enabled.  In turn, automatic dismiss may be enabled only
for jobs that have <code class="docutils literal notranslate"><span class="pre">auto-dismiss</span></code> option, which are <a class="reference internal" href="#command-QMP-block-core.drive-backup" title="QMP:block-core.drive-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-backup</span></code></a>,
<a class="reference internal" href="#command-QMP-block-core.blockdev-backup" title="QMP:block-core.blockdev-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-backup</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.drive-mirror" title="QMP:block-core.drive-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-mirror</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.blockdev-mirror" title="QMP:block-core.blockdev-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-mirror</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.block-commit" title="QMP:block-core.block-commit"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-commit</span></code></a> and
<a class="reference internal" href="#command-QMP-block-core.block-stream" title="QMP:block-core.block-stream"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-stream</span></code></a>.  <code class="docutils literal notranslate"><span class="pre">auto-dismiss</span></code> is enabled by default for these
jobs.</p>
<p>This command will refuse to operate on any job that has not yet
reached its terminal state, CONCLUDED.  For jobs that make use of
the JOB_READY event, <a class="reference internal" href="#command-QMP-job.job-cancel" title="QMP:job.job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-cancel</span></code></a> or <a class="reference internal" href="#command-QMP-job.job-complete" title="QMP:job.job-complete"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-complete</span></code></a> will still need to
be used as appropriate.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-job.job-finalize">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">job-finalize</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-job.job-finalize" title="Link to this definition"></a></dt>
<dd><p>Instructs all jobs in a transaction (or a single job if it is not
part of any transaction) to finalize any graph changes and do any
necessary cleanup.  This command requires that all involved jobs are
in the PENDING state.</p>
<p>For jobs in a transaction, instructing one job to finalize will
force ALL jobs in the transaction to finalize, so it is only
necessary to instruct a single member job to finalize.</p>
<p>The command is applicable only to jobs which have <code class="docutils literal notranslate"><span class="pre">auto-finalize</span></code> option
and only when this option is set to false.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The identifier of any job in the transaction, or of a job that
is not part of any transaction.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-job.JobInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JobInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#object-QMP-job.JobInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a job.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobType" title="QMP:job.JobType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobType</span></code></a></span>) -- The kind of job that is being performed</p></li>
<li><p><strong>status</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobStatus" title="QMP:job.JobStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobStatus</span></code></a></span>) -- Current job state/status</p></li>
<li><p><strong>current-progress</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Progress made until now.  The unit is arbitrary
and the value can only meaningfully be used for the ratio of
<code class="docutils literal notranslate"><span class="pre">current-progress</span></code> to <code class="docutils literal notranslate"><span class="pre">total-progress</span></code>.  The value is
monotonically increasing.</p></li>
<li><p><strong>total-progress</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Estimated <code class="docutils literal notranslate"><span class="pre">current-progress</span></code> value at the completion
of the job.  This value can arbitrarily change while the job is
running, in both directions.</p></li>
<li><p><strong>error</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- <p>If this field is present, the job failed; if it is still
missing in the CONCLUDED state, this indicates successful
completion.</p>
<p>The value is a human-readable error message to describe the
reason for the job failure.  It should not be parsed by
applications.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-job.query-jobs">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-jobs</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-job.query-jobs" title="Link to this definition"></a></dt>
<dd><p>Return information about jobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-job.JobInfo" title="QMP:job.JobInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list with info for each active job</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="accelerators">
<span id="module-QMP-accelerator"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">Accelerators</a><a class="headerlink" href="#accelerators" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-accelerator.KvmInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KvmInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-accelerator.KvmInfo" title="Link to this definition"></a></dt>
<dd><p>Information about support for KVM acceleration</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if KVM acceleration is active</p></li>
<li><p><strong>present</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if KVM acceleration is built into this executable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-accelerator.query-kvm">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-kvm</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-accelerator.query-kvm" title="Link to this definition"></a></dt>
<dd><p>Return information about KVM acceleration</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-accelerator.KvmInfo" title="QMP:accelerator.KvmInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">KvmInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-kvm&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;present&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-accelerator.x-accel-stats">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-accel-stats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.1)</span></span><a class="headerlink" href="#command-QMP-accelerator.x-accel-stats" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Query accelerator statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-common.HumanReadableText" title="QMP:common.HumanReadableText"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></span> -- accelerator statistics</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="block-devices">
<span id="module-QMP-block"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink">Block devices</a><a class="headerlink" href="#block-devices" title="Link to this heading"></a></h2>
<section id="block-core-vm-unrelated">
<span id="module-QMP-block-core"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">Block core (VM unrelated)</a><a class="headerlink" href="#block-core-vm-unrelated" title="Link to this heading"></a></h3>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.SnapshotInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SnapshotInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-block-core.SnapshotInfo" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- unique snapshot id</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- user chosen name</p></li>
<li><p><strong>vm-state-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- size of the VM state</p></li>
<li><p><strong>date-sec</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- UTC date of the snapshot in seconds</p></li>
<li><p><strong>date-nsec</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- fractional part in nano seconds to be used with date-sec</p></li>
<li><p><strong>vm-clock-sec</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VM clock relative to boot in seconds</p></li>
<li><p><strong>vm-clock-nsec</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- fractional part in nano seconds to be used with
vm-clock-sec</p></li>
<li><p><strong>icount</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Current instruction count.  Appears when execution
record/replay is enabled.  Used for &quot;time-traveling&quot; to match
the moment in the recorded execution with the snapshots.  This
counter may be obtained through <a class="reference internal" href="#command-QMP-replay.query-replay" title="QMP:replay.query-replay"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-replay</span></code></a> command
(since 5.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificQCow2EncryptionBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificQCow2EncryptionBase</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificQCow2EncryptionBase" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevQcow2EncryptionFormat" title="QMP:block-core.BlockdevQcow2EncryptionFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevQcow2EncryptionFormat</span></code></a></span>) -- The encryption format</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificQCow2Encryption">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificQCow2Encryption</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificQCow2Encryption" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificQCow2EncryptionBase" title="QMP:block-core.ImageInfoSpecificQCow2EncryptionBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificQCow2EncryptionBase</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfoLUKS" title="QMP:crypto.QCryptoBlockInfoLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockInfoLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificQCow2">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificQCow2</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificQCow2" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>compat</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- compatibility level</p></li>
<li><p><strong>data-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the filename of the external data file that is stored in
the image and used as a default for opening the image
(since: 4.0)</p></li>
<li><p><strong>data-file-raw</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- True if the external data file must stay valid as a
standalone (read-only) raw image without looking at qcow2
metadata (since: 4.0)</p></li>
<li><p><strong>extended-l2</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if the image has extended L2 entries; only valid
for compat &gt;= 1.1 (since 5.2)</p></li>
<li><p><strong>lazy-refcounts</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- on or off; only valid for compat &gt;= 1.1</p></li>
<li><p><strong>corrupt</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if the image has been marked corrupt; only valid for
compat &gt;= 1.1 (since 2.2)</p></li>
<li><p><strong>refcount-bits</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- width of a refcount entry in bits (since 2.3)</p></li>
<li><p><strong>encrypt</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificQCow2Encryption" title="QMP:block-core.ImageInfoSpecificQCow2Encryption"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificQCow2Encryption</span></code></a>, <em>optional</em></span>) -- details about encryption parameters; only set if image is
encrypted (since 2.10)</p></li>
<li><p><strong>bitmaps</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.Qcow2BitmapInfo" title="QMP:block-core.Qcow2BitmapInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Qcow2BitmapInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- A list of qcow2 bitmap details (since 4.0)</p></li>
<li><p><strong>compression-type</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.Qcow2CompressionType" title="QMP:block-core.Qcow2CompressionType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Qcow2CompressionType</span></code></a></span>) -- the image cluster compression method (since 5.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificVmdk">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificVmdk</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificVmdk" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>create-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The create type of VMDK image</p></li>
<li><p><strong>cid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Content id of image</p></li>
<li><p><strong>parent-cid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Parent VMDK image's cid</p></li>
<li><p><strong>extents</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.VmdkExtentInfo" title="QMP:block-core.VmdkExtentInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VmdkExtentInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of extent files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.VmdkExtentInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VmdkExtentInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-block-core.VmdkExtentInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a VMDK extent file</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of the extent file</p></li>
<li><p><strong>format</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Extent type (e.g. FLAT or SPARSE)</p></li>
<li><p><strong>virtual-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of bytes covered by this extent</p></li>
<li><p><strong>cluster-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Cluster size in bytes (for non-flat extents)</p></li>
<li><p><strong>compressed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether this extent contains compressed data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificRbd">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificRbd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificRbd" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>encryption-format</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.RbdImageEncryptionFormat" title="QMP:block-core.RbdImageEncryptionFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdImageEncryptionFormat</span></code></a>, <em>optional</em></span>) -- Image encryption format. If encryption is enabled for the
image (see encrypted in BlockNodeInfo), this is the actual format in which the
image is accessed. If encryption is not enabled, this is the result of
probing when the image was opened, to give a suggestion which encryption
format could be enabled. Note that probing results can be changed by the
guest by writing a (possibly partial) encryption format header to the
image, so don't treat this information as trusted if the guest is not
trusted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificFile">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificFile</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificFile" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extent-size-hint</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Extent size hint (if available)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.ImageInfoSpecificKind">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificKind</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#enum-QMP-block-core.ImageInfoSpecificKind" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>luks</strong> -- Since 2.7</p></li>
<li><p><strong>rbd</strong> -- Since 6.1</p></li>
<li><p><strong>file</strong> -- Since 8.0</p></li>
<li><p><strong>qcow2</strong> -- Not documented</p></li>
<li><p><strong>vmdk</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificQCow2Wrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificQCow2Wrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificQCow2Wrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificQCow2" title="QMP:block-core.ImageInfoSpecificQCow2"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificQCow2</span></code></a></span>) -- image information specific to QCOW2</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificVmdkWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificVmdkWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificVmdkWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificVmdk" title="QMP:block-core.ImageInfoSpecificVmdk"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificVmdk</span></code></a></span>) -- image information specific to VMDK</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificLUKSWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificLUKSWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificLUKSWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockInfoLUKS" title="QMP:crypto.QCryptoBlockInfoLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockInfoLUKS</span></code></a></span>) -- image information specific to LUKS</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificRbdWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificRbdWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificRbdWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificRbd" title="QMP:block-core.ImageInfoSpecificRbd"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificRbd</span></code></a></span>) -- image information specific to RBD</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecificFileWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecificFileWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecificFileWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificFile" title="QMP:block-core.ImageInfoSpecificFile"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificFile</span></code></a></span>) -- image information specific to files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfoSpecific">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfoSpecific</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfoSpecific" title="Link to this definition"></a></dt>
<dd><p>A discriminated record of image format specific information
structures.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.ImageInfoSpecificKind" title="QMP:block-core.ImageInfoSpecificKind"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificKind</span></code></a></span>) -- block driver name</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">qcow2</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificQCow2Wrapper" title="QMP:block-core.ImageInfoSpecificQCow2Wrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificQCow2Wrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vmdk</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificVmdkWrapper" title="QMP:block-core.ImageInfoSpecificVmdkWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificVmdkWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificLUKSWrapper" title="QMP:block-core.ImageInfoSpecificLUKSWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificLUKSWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">rbd</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificRbdWrapper" title="QMP:block-core.ImageInfoSpecificRbdWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificRbdWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">file</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecificFileWrapper" title="QMP:block-core.ImageInfoSpecificFileWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecificFileWrapper</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockNodeInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockNodeInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockNodeInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a QEMU image file</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the image file</p></li>
<li><p><strong>format</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- format of the image file</p></li>
<li><p><strong>virtual-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- maximum capacity in bytes of the image</p></li>
<li><p><strong>actual-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- actual size on disk in bytes of the image</p></li>
<li><p><strong>dirty-flag</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if image is not cleanly closed</p></li>
<li><p><strong>cluster-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- size of a cluster in bytes</p></li>
<li><p><strong>encrypted</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if the image is encrypted</p></li>
<li><p><strong>compressed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if the image is compressed (Since 1.7)</p></li>
<li><p><strong>backing-filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the backing file</p></li>
<li><p><strong>full-backing-filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- full path of the backing file</p></li>
<li><p><strong>backing-filename-format</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the format of the backing file</p></li>
<li><p><strong>snapshots</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.SnapshotInfo" title="QMP:block-core.SnapshotInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SnapshotInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of VM snapshots</p></li>
<li><p><strong>format-specific</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ImageInfoSpecific" title="QMP:block-core.ImageInfoSpecific"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfoSpecific</span></code></a>, <em>optional</em></span>) -- structure supplying additional format-specific
information (since 1.7)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a QEMU image file, and potentially its backing
image</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backing-image</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ImageInfo" title="QMP:block-core.ImageInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfo</span></code></a>, <em>optional</em></span>) -- info of the backing image</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockNodeInfo" title="QMP:block-core.BlockNodeInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockNodeInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockChildInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockChildInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockChildInfo" title="Link to this definition"></a></dt>
<dd><p>Information about all nodes in the block graph starting at some
node, annotated with information about that node in relation to its
parent.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Child name of the root node in the <a class="reference internal" href="#object-QMP-block-core.BlockGraphInfo" title="QMP:block-core.BlockGraphInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockGraphInfo</span></code></a> struct, in
its role as the child of some undescribed parent node</p></li>
<li><p><strong>info</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockGraphInfo" title="QMP:block-core.BlockGraphInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockGraphInfo</span></code></a></span>) -- Block graph information starting at this node</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockGraphInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockGraphInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockGraphInfo" title="Link to this definition"></a></dt>
<dd><p>Information about all nodes in a block (sub)graph in the form of
<a class="reference internal" href="#object-QMP-block-core.BlockNodeInfo" title="QMP:block-core.BlockNodeInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockNodeInfo</span></code></a> data.  The base <a class="reference internal" href="#object-QMP-block-core.BlockNodeInfo" title="QMP:block-core.BlockNodeInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockNodeInfo</span></code></a> struct contains the
information for the (sub)graph's root node.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>children</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockChildInfo" title="QMP:block-core.BlockChildInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockChildInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Array of links to this node's child nodes' information</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockNodeInfo" title="QMP:block-core.BlockNodeInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockNodeInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ImageCheck">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageCheck</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-block-core.ImageCheck" title="Link to this definition"></a></dt>
<dd><p>Information about a QEMU image file check</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the image file checked</p></li>
<li><p><strong>format</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- format of the image file checked</p></li>
<li><p><strong>check-errors</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of unexpected errors occurred during check</p></li>
<li><p><strong>image-end-offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- offset (in bytes) where the image ends, this
field is present if the driver for the image format supports it</p></li>
<li><p><strong>corruptions</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of corruptions found during the check if any</p></li>
<li><p><strong>leaks</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of leaks found during the check if any</p></li>
<li><p><strong>corruptions-fixed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of corruptions fixed during the check if
any</p></li>
<li><p><strong>leaks-fixed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of leaks fixed during the check if any</p></li>
<li><p><strong>total-clusters</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total number of clusters, this field is present if
the driver for the image format supports it</p></li>
<li><p><strong>allocated-clusters</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total number of allocated clusters, this field
is present if the driver for the image format supports it</p></li>
<li><p><strong>fragmented-clusters</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total number of fragmented clusters, this
field is present if the driver for the image format supports it</p></li>
<li><p><strong>compressed-clusters</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total number of compressed clusters, this
field is present if the driver for the image format supports it</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.MapEntry">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MapEntry</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-block-core.MapEntry" title="Link to this definition"></a></dt>
<dd><p>Mapping information from a virtual block range to a host file range</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- virtual (guest) offset of the first byte described by this
entry</p></li>
<li><p><strong>length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the number of bytes of the mapped virtual range</p></li>
<li><p><strong>data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- reading the image will actually read data from a file (in
particular, if <code class="docutils literal notranslate"><span class="pre">offset</span></code> is present this means that the sectors
are not simply preallocated, but contain actual data in raw
format)</p></li>
<li><p><strong>zero</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether the virtual blocks read as zeroes</p></li>
<li><p><strong>compressed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the data is stored compressed (since 8.2)</p></li>
<li><p><strong>depth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of layers (0 = top image, 1 = top image's backing
file, ..., n - 1 = bottom image (where n is the number of images
in the chain)) before reaching one for which the range is
allocated</p></li>
<li><p><strong>present</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if this layer provides the data, false if adding a
backing layer could impact this region (since 6.1)</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- if present, the image file stores the data for this range
in raw format at the given (host) offset</p></li>
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- filename that is referred to by <code class="docutils literal notranslate"><span class="pre">offset</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCacheInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCacheInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCacheInfo" title="Link to this definition"></a></dt>
<dd><p>Cache mode information for a block device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>writeback</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if writeback mode is enabled</p></li>
<li><p><strong>direct</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the host page cache is bypassed (O_DIRECT)</p></li>
<li><p><strong>no-flush</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if flush requests are ignored for the device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevChild">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevChild</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.1)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevChild" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>child</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name of the child, for example 'file' or 'backing'.</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name of the child's block driver node.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockDeviceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDeviceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockDeviceInfo" title="Link to this definition"></a></dt>
<dd><p>Information about the backing device for a block device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the filename of the backing device</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the block driver node (Since 2.0)</p></li>
<li><p><strong>ro</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the backing device was open read-only</p></li>
<li><p><strong>drv</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the block format used to open the backing device.
As of 0.14 this can be: 'blkdebug', 'bochs', 'cloop', 'cow',
'dmg', 'file', 'file', 'ftp', 'ftps', 'host_cdrom',
'host_device', 'http', 'https', 'luks', 'nbd', 'parallels',
'qcow', 'qcow2', 'raw', 'vdi', 'vmdk', 'vpc', 'vvfat' 2.2:
'archipelago' added, 'cow' dropped 2.3: 'host_floppy' deprecated
2.5: 'host_floppy' dropped 2.6: 'luks' added 2.8: 'replication'
added, 'tftp' dropped 2.9: 'archipelago' dropped</p></li>
<li><p><strong>backing_file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of the backing file (for copy-on-write)</p></li>
<li><p><strong>backing_file_depth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of files in the backing file chain
(since: 1.2)</p></li>
<li><p><strong>children</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockdevChild" title="QMP:block-core.BlockdevChild"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevChild</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Information about child block nodes. (since: 10.1)</p></li>
<li><p><strong>active</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the backend is active; typical cases for inactive backends
are on the migration source instance after migration completes and on the
destination before it completes.  (since: 10.0)</p></li>
<li><p><strong>encrypted</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the backing device is encrypted</p></li>
<li><p><strong>detect_zeroes</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDetectZeroesOptions" title="QMP:block-core.BlockdevDetectZeroesOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDetectZeroesOptions</span></code></a></span>) -- detect and optimize zero writes (Since 2.1)</p></li>
<li><p><strong>bps</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- total throughput limit in bytes per second is specified</p></li>
<li><p><strong>bps_rd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- read throughput limit in bytes per second is specified</p></li>
<li><p><strong>bps_wr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- write throughput limit in bytes per second is specified</p></li>
<li><p><strong>iops</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- total I/O operations per second is specified</p></li>
<li><p><strong>iops_rd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- read I/O operations per second is specified</p></li>
<li><p><strong>iops_wr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- write I/O operations per second is specified</p></li>
<li><p><strong>image</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ImageInfo" title="QMP:block-core.ImageInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageInfo</span></code></a></span>) -- the info of image used (since: 1.6)</p></li>
<li><p><strong>bps_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total throughput limit during bursts, in bytes (Since 1.7)</p></li>
<li><p><strong>bps_rd_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- read throughput limit during bursts, in bytes
(Since 1.7)</p></li>
<li><p><strong>bps_wr_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- write throughput limit during bursts, in bytes
(Since 1.7)</p></li>
<li><p><strong>iops_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total I/O operations per second during bursts, in bytes
(Since 1.7)</p></li>
<li><p><strong>iops_rd_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- read I/O operations per second during bursts, in bytes
(Since 1.7)</p></li>
<li><p><strong>iops_wr_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- write I/O operations per second during bursts, in
bytes (Since 1.7)</p></li>
<li><p><strong>bps_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">bps_max</span></code> burst period, in
seconds.  (Since 2.6)</p></li>
<li><p><strong>bps_rd_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">bps_rd_max</span></code> burst period,
in seconds.  (Since 2.6)</p></li>
<li><p><strong>bps_wr_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">bps_wr_max</span></code> burst period,
in seconds.  (Since 2.6)</p></li>
<li><p><strong>iops_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">iops</span></code> burst period, in
seconds.  (Since 2.6)</p></li>
<li><p><strong>iops_rd_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">iops_rd_max</span></code> burst
period, in seconds.  (Since 2.6)</p></li>
<li><p><strong>iops_wr_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">iops_wr_max</span></code> burst
period, in seconds.  (Since 2.6)</p></li>
<li><p><strong>iops_size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- an I/O size in bytes (Since 1.7)</p></li>
<li><p><strong>group</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- throttle group name (Since 2.4)</p></li>
<li><p><strong>cache</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevCacheInfo" title="QMP:block-core.BlockdevCacheInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCacheInfo</span></code></a></span>) -- the cache mode used for the block device (since: 2.3)</p></li>
<li><p><strong>write_threshold</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- configured write threshold for the device.  0 if
disabled.  (Since 2.3)</p></li>
<li><p><strong>dirty-bitmaps</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockDirtyInfo" title="QMP:block-core.BlockDirtyInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- dirty bitmaps information (only present if node has
one or more dirty bitmaps) (Since 4.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockDeviceIoStatus">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDeviceIoStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockDeviceIoStatus" title="Link to this definition"></a></dt>
<dd><p>An enumeration of block device I/O status.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ok</strong> -- The last I/O operation has succeeded</p></li>
<li><p><strong>failed</strong> -- The last I/O operation has failed</p></li>
<li><p><strong>nospace</strong> -- The last I/O operation has failed due to a no-space
condition</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockDirtyInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockDirtyInfo" title="Link to this definition"></a></dt>
<dd><p>Block dirty bitmap information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of the dirty bitmap (Since 2.4)</p></li>
<li><p><strong>count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of dirty bytes according to the dirty bitmap</p></li>
<li><p><strong>granularity</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- granularity of the dirty bitmap in bytes (since 1.4)</p></li>
<li><p><strong>recording</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the bitmap is recording new writes from the
guest.  (since 4.0)</p></li>
<li><p><strong>busy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the bitmap is in-use by some operation (NBD or jobs)
and cannot be modified via QMP or used by another operation.
(since 4.0)</p></li>
<li><p><strong>persistent</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the bitmap was stored on disk, is scheduled to
be stored on disk, or both.  (since 4.0)</p></li>
<li><p><strong>inconsistent</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if this is a persistent bitmap that was
improperly stored.  Implies <code class="docutils literal notranslate"><span class="pre">persistent</span></code> to be true; <code class="docutils literal notranslate"><span class="pre">recording</span></code>
and <code class="docutils literal notranslate"><span class="pre">busy</span></code> to be false.  This bitmap cannot be used.  To remove
it, use <a class="reference internal" href="#command-QMP-block-core.block-dirty-bitmap-remove" title="QMP:block-core.block-dirty-bitmap-remove"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-dirty-bitmap-remove</span></code></a>.  (Since 4.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.Qcow2BitmapInfoFlags">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Qcow2BitmapInfoFlags</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.Qcow2BitmapInfoFlags" title="Link to this definition"></a></dt>
<dd><p>An enumeration of flags that a bitmap can report to the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in-use</strong> -- This flag is set by any process actively modifying the
qcow2 file, and cleared when the updated bitmap is flushed to
the qcow2 image.  The presence of this flag in an offline image
means that the bitmap was not saved correctly after its last
usage, and may contain inconsistent data.</p></li>
<li><p><strong>auto</strong> -- The bitmap must reflect all changes of the virtual disk by
any application that would write to this qcow2 file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.Qcow2BitmapInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Qcow2BitmapInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-block-core.Qcow2BitmapInfo" title="Link to this definition"></a></dt>
<dd><p>Qcow2 bitmap information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the bitmap</p></li>
<li><p><strong>granularity</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- granularity of the bitmap in bytes</p></li>
<li><p><strong>flags</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-block-core.Qcow2BitmapInfoFlags" title="QMP:block-core.Qcow2BitmapInfoFlags"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Qcow2BitmapInfoFlags</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- flags of the bitmap</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockLatencyHistogramInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockLatencyHistogramInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="Link to this definition"></a></dt>
<dd><p>Block latency histogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boundaries</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of interval boundary values in nanoseconds, all
greater than zero and in ascending order.  For example, the list
[10, 50, 100] produces the following histogram intervals: [0,
10), [10, 50), [50, 100), [100, +inf).</p></li>
<li><p><strong>bins</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- <p>list of io request counts corresponding to histogram
intervals, one more element than <code class="docutils literal notranslate"><span class="pre">boundaries</span></code> has.  For the
example above, <code class="docutils literal notranslate"><span class="pre">bins</span></code> may be something like [3, 1, 5, 2], and
corresponding histogram looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span><span class="o">|</span>           <span class="o">*</span>
<span class="mi">4</span><span class="o">|</span>           <span class="o">*</span>
<span class="mi">3</span><span class="o">|</span> <span class="o">*</span>         <span class="o">*</span>
<span class="mi">2</span><span class="o">|</span> <span class="o">*</span>         <span class="o">*</span>    <span class="o">*</span>
<span class="mi">1</span><span class="o">|</span> <span class="o">*</span>    <span class="o">*</span>    <span class="o">*</span>    <span class="o">*</span>
 <span class="o">+------------------</span>
     <span class="mi">10</span>   <span class="mi">50</span>   <span class="mi">100</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockInfo" title="Link to this definition"></a></dt>
<dd><p>Block device information.  This structure describes a virtual device
and the backing device associated with it.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The device name associated with the virtual device.</p></li>
<li><p><strong>qdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The qdev ID, or if no ID is assigned, the QOM path of the
block device.  (since 2.10)</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- This field is returned only for compatibility reasons, it
should not be used (always returns 'unknown')</p></li>
<li><p><strong>removable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- True if the device supports removable media.</p></li>
<li><p><strong>locked</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- True if the guest has locked this device from having its
media removed</p></li>
<li><p><strong>tray_open</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- True if the device's tray is open (only present if it
has a tray)</p></li>
<li><p><strong>io-status</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockDeviceIoStatus" title="QMP:block-core.BlockDeviceIoStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDeviceIoStatus</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#enum-QMP-block-core.BlockDeviceIoStatus" title="QMP:block-core.BlockDeviceIoStatus"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">BlockDeviceIoStatus</span></code></a>.  Only present if the device
supports it and the VM is configured to stop on errors
(supported device models: virtio-blk, IDE, SCSI except
scsi-generic)</p></li>
<li><p><strong>inserted</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockDeviceInfo" title="QMP:block-core.BlockDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDeviceInfo</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#object-QMP-block-core.BlockDeviceInfo" title="QMP:block-core.BlockDeviceInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockDeviceInfo</span></code></a> describing the device if media is
present</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockMeasureInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockMeasureInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockMeasureInfo" title="Link to this definition"></a></dt>
<dd><p>Image file size calculation information.  This structure describes
the size requirements for creating a new image file.</p>
<p>The size requirements depend on the new image file format.  File
size always equals virtual disk size for the 'raw' format, even for
sparse POSIX files.  Compact formats such as 'qcow2' represent
unallocated and zero regions efficiently so file size may be smaller
than virtual disk size.</p>
<p>The values are upper bounds that are guaranteed to fit the new image
file.  Subsequent modification, such as internal snapshot or further
bitmap creation, may require additional space and is not covered
here.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>required</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size required for a new image file, in bytes, when
copying just allocated guest-visible contents.</p></li>
<li><p><strong>fully-allocated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Image file size, in bytes, once data has been
written to all sectors, when copying just guest-visible
contents.</p></li>
<li><p><strong>bitmaps</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Additional size required if all the top-level bitmap
metadata in the source image were to be copied to the
destination, present only when source and destination both
support persistent bitmaps.  (since 5.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.query-block">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-block</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-block-core.query-block" title="Link to this definition"></a></dt>
<dd><p>Get a list of <a class="reference internal" href="#object-QMP-block-core.BlockInfo" title="QMP:block-core.BlockInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockInfo</span></code></a> for all virtual block devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockInfo" title="QMP:block-core.BlockInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list describing each virtual block device.
Filter nodes that were created implicitly are skipped over.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-block&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;return&quot;</span><span class="p">:[</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;io-status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ok&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;ide0-hd0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;locked&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;removable&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;inserted&quot;</span><span class="p">:{</span>
<span class="w">               </span><span class="nt">&quot;ro&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;drv&quot;</span><span class="p">:</span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;encrypted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="s2">&quot;disks/test.qcow2&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;backing_file_depth&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;bps&quot;</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;bps_rd&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;bps_wr&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;iops&quot;</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;iops_rd&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;iops_wr&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;bps_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8000000</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;bps_rd_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;bps_wr_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;iops_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;iops_rd_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;iops_wr_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;iops_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;detect_zeroes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;on&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;write_threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;image&quot;</span><span class="p">:{</span>
<span class="w">                  </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;disks/test.qcow2&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;virtual-size&quot;</span><span class="p">:</span><span class="mi">2048000</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;backing_file&quot;</span><span class="p">:</span><span class="s2">&quot;base.qcow2&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;full-backing-filename&quot;</span><span class="p">:</span><span class="s2">&quot;disks/base.qcow2&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;backing-filename-format&quot;</span><span class="p">:</span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;snapshots&quot;</span><span class="p">:[</span>
<span class="w">                     </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;vm-state-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;date-sec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000200</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;date-nsec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;vm-clock-sec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;vm-clock-nsec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span>
<span class="w">                     </span><span class="p">}</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                  </span><span class="nt">&quot;backing-image&quot;</span><span class="p">:{</span>
<span class="w">                      </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;disks/base.qcow2&quot;</span><span class="p">,</span>
<span class="w">                      </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">                      </span><span class="nt">&quot;virtual-size&quot;</span><span class="p">:</span><span class="mi">2048000</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;qdev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide_disk&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;unknown&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;io-status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ok&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;ide1-cd0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;locked&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;removable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;qdev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[23]&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;tray_open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;unknown&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;floppy0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;locked&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;removable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;qdev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[20]&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;unknown&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;sd0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;locked&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;removable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;unknown&quot;</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockDeviceTimedStats">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDeviceTimedStats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockDeviceTimedStats" title="Link to this definition"></a></dt>
<dd><p>Statistics of a block device during a given interval of time.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interval_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Interval used for calculating the statistics, in
seconds.</p></li>
<li><p><strong>min_rd_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Minimum latency of read operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>min_wr_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Minimum latency of write operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>min_zone_append_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Minimum latency of zone append
operations in the defined interval, in nanoseconds (since 8.1)</p></li>
<li><p><strong>min_flush_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Minimum latency of flush operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>max_rd_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Maximum latency of read operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>max_wr_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Maximum latency of write operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>max_zone_append_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Maximum latency of zone append
operations in the defined interval, in nanoseconds (since 8.1)</p></li>
<li><p><strong>max_flush_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Maximum latency of flush operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>avg_rd_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Average latency of read operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>avg_wr_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Average latency of write operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>avg_zone_append_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Average latency of zone append
operations in the defined interval, in nanoseconds (since 8.1)</p></li>
<li><p><strong>avg_flush_latency_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Average latency of flush operations in the
defined interval, in nanoseconds.</p></li>
<li><p><strong>avg_rd_queue_depth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code></span>) -- Average number of pending read operations in
the defined interval.</p></li>
<li><p><strong>avg_wr_queue_depth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code></span>) -- Average number of pending write operations in
the defined interval.</p></li>
<li><p><strong>avg_zone_append_queue_depth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code></span>) -- Average number of pending zone append
operations in the defined interval (since 8.1).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockDeviceStats">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDeviceStats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockDeviceStats" title="Link to this definition"></a></dt>
<dd><p>Statistics of a virtual block device or a block backing device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rd_bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes read by the device.</p></li>
<li><p><strong>wr_bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes written by the device.</p></li>
<li><p><strong>zone_append_bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes appended by the zoned
devices (since 8.1)</p></li>
<li><p><strong>unmap_bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes unmapped by the device (Since 4.2)</p></li>
<li><p><strong>rd_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of read operations performed by the
device.</p></li>
<li><p><strong>wr_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of write operations performed by the
device.</p></li>
<li><p><strong>zone_append_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of zone append operations
performed by the zoned devices (since 8.1)</p></li>
<li><p><strong>flush_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of cache flush operations performed by
the device (since 0.15)</p></li>
<li><p><strong>unmap_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of unmap operations performed by the
device (Since 4.2)</p></li>
<li><p><strong>rd_total_time_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Total time spent on reads in nanoseconds
(since 0.15)</p></li>
<li><p><strong>wr_total_time_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Total time spent on writes in nanoseconds
(since 0.15)</p></li>
<li><p><strong>zone_append_total_time_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Total time spent on zone append writes
in nanoseconds (since 8.1)</p></li>
<li><p><strong>flush_total_time_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Total time spent on cache flushes in
nanoseconds (since 0.15).</p></li>
<li><p><strong>unmap_total_time_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Total time spent on unmap operations in
nanoseconds (Since 4.2)</p></li>
<li><p><strong>wr_highest_offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The offset after the greatest byte written to
the device.  The intended use of this information is for
growable sparse files (like qcow2) that are used on top of a
physical device.</p></li>
<li><p><strong>rd_merged</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of read requests that have been merged into
another request (Since 2.3).</p></li>
<li><p><strong>wr_merged</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of write requests that have been merged into
another request (Since 2.3).</p></li>
<li><p><strong>zone_append_merged</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of zone append requests that have been
merged into another request (since 8.1)</p></li>
<li><p><strong>unmap_merged</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of unmap requests that have been merged into
another request (Since 4.2)</p></li>
<li><p><strong>idle_time_ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Time since the last I/O operation, in nanoseconds.
If the field is absent it means that there haven't been any
operations yet (Since 2.5).</p></li>
<li><p><strong>failed_rd_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of failed read operations
performed by the device (Since 2.5)</p></li>
<li><p><strong>failed_wr_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of failed write operations
performed by the device (Since 2.5)</p></li>
<li><p><strong>failed_zone_append_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of failed zone append
write operations performed by the zoned devices (since 8.1)</p></li>
<li><p><strong>failed_flush_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of failed flush operations
performed by the device (Since 2.5)</p></li>
<li><p><strong>failed_unmap_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of failed unmap operations
performed by the device (Since 4.2)</p></li>
<li><p><strong>invalid_rd_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of invalid read operations
performed by the device (Since 2.5)</p></li>
<li><p><strong>invalid_wr_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of invalid write operations
performed by the device (Since 2.5)</p></li>
<li><p><strong>invalid_zone_append_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of invalid zone append
operations performed by the zoned device (since 8.1)</p></li>
<li><p><strong>invalid_flush_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of invalid flush operations
performed by the device (Since 2.5)</p></li>
<li><p><strong>invalid_unmap_operations</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of invalid unmap operations
performed by the device (Since 4.2)</p></li>
<li><p><strong>account_invalid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- Whether invalid operations are included in the
last access statistics (Since 2.5)</p></li>
<li><p><strong>account_failed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- Whether failed operations are included in the
latency and last access statistics (Since 2.5)</p></li>
<li><p><strong>timed_stats</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockDeviceTimedStats" title="QMP:block-core.BlockDeviceTimedStats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDeviceTimedStats</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Statistics specific to the set of previously defined
intervals of time (Since 2.5)</p></li>
<li><p><strong>rd_latency_histogram</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a>.  (Since 4.0)</p></li>
<li><p><strong>wr_latency_histogram</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a>.  (Since 4.0)</p></li>
<li><p><strong>zone_append_latency_histogram</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a>.
(since 8.1)</p></li>
<li><p><strong>flush_latency_histogram</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a>.  (Since 4.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockStatsSpecificFile">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockStatsSpecificFile</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockStatsSpecificFile" title="Link to this definition"></a></dt>
<dd><p>File driver statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>discard-nb-ok</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of successful discard operations
performed by the driver.</p></li>
<li><p><strong>discard-nb-failed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of failed discard operations
performed by the driver.</p></li>
<li><p><strong>discard-bytes-ok</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes discarded by the driver.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockStatsSpecificNvme">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockStatsSpecificNvme</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockStatsSpecificNvme" title="Link to this definition"></a></dt>
<dd><p>NVMe driver statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>completion-errors</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of completion errors.</p></li>
<li><p><strong>aligned-accesses</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of aligned accesses performed by the
driver.</p></li>
<li><p><strong>unaligned-accesses</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of unaligned accesses performed by
the driver.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockStatsSpecific">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockStatsSpecific</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockStatsSpecific" title="Link to this definition"></a></dt>
<dd><p>Block driver specific statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDriver" title="QMP:block-core.BlockdevDriver"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDriver</span></code></a></span>) -- block driver name</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">file</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockStatsSpecificFile" title="QMP:block-core.BlockStatsSpecificFile"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockStatsSpecificFile</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">host_device</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockStatsSpecificFile" title="QMP:block-core.BlockStatsSpecificFile"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockStatsSpecificFile</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">nvme</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockStatsSpecificNvme" title="QMP:block-core.BlockStatsSpecificNvme"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockStatsSpecificNvme</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockStats">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockStats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockStats" title="Link to this definition"></a></dt>
<dd><p>Statistics of a virtual block device or a block backing device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- If the stats are for a virtual block device, the name
corresponding to the virtual block device.</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The node name of the device.  (Since 2.3)</p></li>
<li><p><strong>qdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The qdev ID, or if no ID is assigned, the QOM path of the
block device.  (since 3.0)</p></li>
<li><p><strong>stats</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockDeviceStats" title="QMP:block-core.BlockDeviceStats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDeviceStats</span></code></a></span>) -- A <a class="reference internal" href="#object-QMP-block-core.BlockDeviceStats" title="QMP:block-core.BlockDeviceStats"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockDeviceStats</span></code></a> for the device.</p></li>
<li><p><strong>driver-specific</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockStatsSpecific" title="QMP:block-core.BlockStatsSpecific"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockStatsSpecific</span></code></a>, <em>optional</em></span>) -- Optional driver-specific stats.  (Since 4.2)</p></li>
<li><p><strong>parent</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockStats" title="QMP:block-core.BlockStats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockStats</span></code></a>, <em>optional</em></span>) -- This describes the file block device if it has one.
Contains recursively the statistics of the underlying protocol
(e.g. the host file for a qcow2 image).  If there is no
underlying protocol, this field is omitted</p></li>
<li><p><strong>backing</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockStats" title="QMP:block-core.BlockStats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockStats</span></code></a>, <em>optional</em></span>) -- This describes the backing block device if it has one.
(Since 2.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.query-blockstats">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-blockstats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-block-core.query-blockstats" title="Link to this definition"></a></dt>
<dd><p>Query the <a class="reference internal" href="#object-QMP-block-core.BlockStats" title="QMP:block-core.BlockStats"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockStats</span></code></a> for all virtual block devices.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query-nodes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If true, the command will query all the block nodes
that have a node name, in a list which will include &quot;parent&quot;
information, but not &quot;backing&quot;.  If false or omitted, the
behavior is as before - query all the device backends,
recursively including their &quot;parent&quot; and &quot;backing&quot;.  Filter
nodes that were created implicitly are skipped over in this
mode.  (Since 2.3)</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockStats" title="QMP:block-core.BlockStats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockStats</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- A list of statistics for each virtual block device.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-blockstats&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;return&quot;</span><span class="p">:[</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;ide0-hd0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;parent&quot;</span><span class="p">:{</span>
<span class="w">               </span><span class="nt">&quot;stats&quot;</span><span class="p">:{</span>
<span class="w">                  </span><span class="nt">&quot;wr_highest_offset&quot;</span><span class="p">:</span><span class="mi">3686448128</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;wr_bytes&quot;</span><span class="p">:</span><span class="mi">9786368</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;wr_operations&quot;</span><span class="p">:</span><span class="mi">751</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;rd_bytes&quot;</span><span class="p">:</span><span class="mi">122567168</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;rd_operations&quot;</span><span class="p">:</span><span class="mi">36772</span>
<span class="w">                  </span><span class="nt">&quot;wr_total_times_ns&quot;</span><span class="p">:</span><span class="mi">313253456</span>
<span class="w">                  </span><span class="nt">&quot;rd_total_times_ns&quot;</span><span class="p">:</span><span class="mi">3465673657</span>
<span class="w">                  </span><span class="nt">&quot;flush_total_times_ns&quot;</span><span class="p">:</span><span class="mi">49653</span>
<span class="w">                  </span><span class="nt">&quot;flush_operations&quot;</span><span class="p">:</span><span class="mi">61</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;rd_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;wr_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;idle_time_ns&quot;</span><span class="p">:</span><span class="mi">2953431879</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;account_invalid&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;account_failed&quot;</span><span class="p">:</span><span class="kc">false</span>
<span class="w">               </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;stats&quot;</span><span class="p">:{</span>
<span class="w">               </span><span class="nt">&quot;wr_highest_offset&quot;</span><span class="p">:</span><span class="mi">2821110784</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_bytes&quot;</span><span class="p">:</span><span class="mi">9786368</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_operations&quot;</span><span class="p">:</span><span class="mi">692</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_bytes&quot;</span><span class="p">:</span><span class="mi">122739200</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_operations&quot;</span><span class="p">:</span><span class="mi">36604</span>
<span class="w">               </span><span class="nt">&quot;flush_operations&quot;</span><span class="p">:</span><span class="mi">51</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_total_times_ns&quot;</span><span class="p">:</span><span class="mi">313253456</span>
<span class="w">               </span><span class="nt">&quot;rd_total_times_ns&quot;</span><span class="p">:</span><span class="mi">3465673657</span>
<span class="w">               </span><span class="nt">&quot;flush_total_times_ns&quot;</span><span class="p">:</span><span class="mi">49653</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;idle_time_ns&quot;</span><span class="p">:</span><span class="mi">2953431879</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;account_invalid&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;account_failed&quot;</span><span class="p">:</span><span class="kc">false</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;qdev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[23]&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;ide1-cd0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;stats&quot;</span><span class="p">:{</span>
<span class="w">               </span><span class="nt">&quot;wr_highest_offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_bytes&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_operations&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_bytes&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_operations&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;flush_operations&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;rd_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;flush_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;account_invalid&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;account_failed&quot;</span><span class="p">:</span><span class="kc">false</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;qdev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[24]&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;floppy0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;stats&quot;</span><span class="p">:{</span>
<span class="w">               </span><span class="nt">&quot;wr_highest_offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_bytes&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_operations&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_bytes&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_operations&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;flush_operations&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;rd_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;flush_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;account_invalid&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;account_failed&quot;</span><span class="p">:</span><span class="kc">false</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;qdev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[16]&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;sd0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;stats&quot;</span><span class="p">:{</span>
<span class="w">               </span><span class="nt">&quot;wr_highest_offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_bytes&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_operations&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_bytes&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_operations&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;flush_operations&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;rd_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="w">               </span><span class="nt">&quot;flush_total_times_ns&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;rd_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;wr_merged&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;account_invalid&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;account_failed&quot;</span><span class="p">:</span><span class="kc">false</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevOnError">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOnError</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevOnError" title="Link to this definition"></a></dt>
<dd><p>An enumeration of possible behaviors for errors on I/O operations.
The exact meaning depends on whether the I/O was initiated by a
guest or by a block job</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>report</strong> -- for guest operations, report the error to the guest; for
jobs, cancel the job</p></li>
<li><p><strong>ignore</strong> -- ignore the error, only report a QMP event (<a class="reference internal" href="#event-QMP-block-core.BLOCK_IO_ERROR" title="QMP:block-core.BLOCK_IO_ERROR"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_IO_ERROR</span></code></a>
or <a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_ERROR" title="QMP:block-core.BLOCK_JOB_ERROR"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_ERROR</span></code></a>).  The backup, mirror and commit block jobs
retry the failing request later and may still complete
successfully.  The stream block job continues to stream and will
complete with an error.</p></li>
<li><p><strong>enospc</strong> -- same as <code class="docutils literal notranslate"><span class="pre">stop</span></code> on ENOSPC, same as <code class="docutils literal notranslate"><span class="pre">report</span></code> otherwise.</p></li>
<li><p><strong>stop</strong> -- for guest operations, stop the virtual machine; for jobs,
pause the job</p></li>
<li><p><strong>auto</strong> -- inherit the error handling policy of the backend (since: 2.7)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.MirrorSyncMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MirrorSyncMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#enum-QMP-block-core.MirrorSyncMode" title="Link to this definition"></a></dt>
<dd><p>An enumeration of possible behaviors for the initial synchronization
phase of storage mirroring.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>top</strong> -- copies data in the topmost image to the destination</p></li>
<li><p><strong>full</strong> -- copies data from all images to the destination</p></li>
<li><p><strong>none</strong> -- only copy data written from now on</p></li>
<li><p><strong>incremental</strong> -- only copy data described by the dirty bitmap.
(since: 2.4)</p></li>
<li><p><strong>bitmap</strong> -- only copy data described by the dirty bitmap.  Behavior on
completion is determined by the <a class="reference internal" href="#enum-QMP-block-core.BitmapSyncMode" title="QMP:block-core.BitmapSyncMode"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">BitmapSyncMode</span></code></a>.  (since: 4.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BitmapSyncMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BitmapSyncMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#enum-QMP-block-core.BitmapSyncMode" title="Link to this definition"></a></dt>
<dd><p>An enumeration of possible behaviors for the synchronization of a
bitmap when used for data copy operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>on-success</strong> -- The bitmap is only synced when the operation is
successful.  This is the behavior always used for incremental
backups.</p></li>
<li><p><strong>never</strong> -- The bitmap is never synchronized with the operation, and is
treated solely as a read-only manifest of blocks to copy.</p></li>
<li><p><strong>always</strong> -- The bitmap is always synchronized with the operation,
regardless of whether or not the operation was successful.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.MirrorCopyMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MirrorCopyMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.MirrorCopyMode" title="Link to this definition"></a></dt>
<dd><p>An enumeration whose values tell the mirror block job when to
trigger writes to the target.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>background</strong> -- copy data in background only.</p></li>
<li><p><strong>write-blocking</strong> -- when data is written to the source, write it
(synchronously) to the target as well.  In addition, data is
copied in background just like in <code class="docutils literal notranslate"><span class="pre">background</span></code> mode.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockJobInfoMirror">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockJobInfoMirror</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockJobInfoMirror" title="Link to this definition"></a></dt>
<dd><p>Information specific to mirror block jobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actively-synced</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- Whether the source is actively synced to the
target, i.e. same data and new writes are done synchronously to
both.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockJobInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockJobInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockJobInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a long-running block device operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobType" title="QMP:job.JobType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobType</span></code></a></span>) -- the job type ('stream' for image streaming)</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  Originally the device name but other
values are allowed since QEMU 2.7</p></li>
<li><p><strong>len</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Estimated <code class="docutils literal notranslate"><span class="pre">offset</span></code> value at the completion of the job.  This
value can arbitrarily change while the job is running, in both
directions.</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Progress made until now.  The unit is arbitrary and the
value can only meaningfully be used for the ratio of <code class="docutils literal notranslate"><span class="pre">offset</span></code> to
<code class="docutils literal notranslate"><span class="pre">len</span></code>.  The value is monotonically increasing.</p></li>
<li><p><strong>busy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- false if the job is known to be in a quiescent state, with no
pending I/O.  (Since 1.3)</p></li>
<li><p><strong>paused</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether the job is paused or, if <code class="docutils literal notranslate"><span class="pre">busy</span></code> is true, will pause
itself as soon as possible.  (Since 1.3)</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the rate limit, bytes per second</p></li>
<li><p><strong>io-status</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockDeviceIoStatus" title="QMP:block-core.BlockDeviceIoStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDeviceIoStatus</span></code></a></span>) -- the status of the job (since 1.3)</p></li>
<li><p><strong>ready</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the job may be completed (since 2.2)</p></li>
<li><p><strong>status</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobStatus" title="QMP:job.JobStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobStatus</span></code></a></span>) -- Current job state/status (since 2.12)</p></li>
<li><p><strong>auto-finalize</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- Job will finalize itself when PENDING, moving to the
CONCLUDED state.  (since 2.12)</p></li>
<li><p><strong>auto-dismiss</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- Job will dismiss itself when CONCLUDED, and
disappear.  (since 2.12)</p></li>
<li><p><strong>error</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Error information if the job did not complete successfully.
Not set if the job completed successfully.  (since 2.12.1)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">mirror</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockJobInfoMirror" title="QMP:block-core.BlockJobInfoMirror"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockJobInfoMirror</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.query-block-jobs">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-block-jobs</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-block-core.query-block-jobs" title="Link to this definition"></a></dt>
<dd><p>Return information about long-running block device operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockJobInfo" title="QMP:block-core.BlockJobInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockJobInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list of job info for each active block job</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block_resize">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block_resize</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-block-core.block_resize" title="Link to this definition"></a></dt>
<dd><p>Resize a block image while a guest is running.</p>
<p>Either <code class="docutils literal notranslate"><span class="pre">device</span></code> or <code class="docutils literal notranslate"><span class="pre">node-name</span></code> must be set but not both.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of the device to get the image resized</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- graph node name to get the image resized (Since 2.0)</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- new image size in bytes</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block_resize&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scratch&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1073741824</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.NewImageMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NewImageMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#enum-QMP-block-core.NewImageMode" title="Link to this definition"></a></dt>
<dd><p>An enumeration that tells QEMU how to set the backing file path in a
new image file.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>existing</strong> -- QEMU should look for an existing image file.</p></li>
<li><p><strong>absolute-paths</strong> -- QEMU should create a new image with absolute paths
for the backing file.  If there is no backing file available,
the new image will not be backed either.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevSnapshotSync">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevSnapshotSync</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevSnapshotSync" title="Link to this definition"></a></dt>
<dd><p>Either <code class="docutils literal notranslate"><span class="pre">device</span></code> or <code class="docutils literal notranslate"><span class="pre">node-name</span></code> must be set but not both.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of the device to take a snapshot of.</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- graph node name to generate the snapshot from
(Since 2.0)</p></li>
<li><p><strong>snapshot-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the target of the new overlay image.  If the file
exists, or if it is a device, the overlay will be created in the
existing file/device.  Otherwise, a new file will be created.</p></li>
<li><p><strong>snapshot-node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the graph node name of the new image
(Since 2.0)</p></li>
<li><p><strong>format</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the format of the overlay image, default is 'qcow2'.</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.NewImageMode" title="QMP:block-core.NewImageMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NewImageMode</span></code></a>, <em>optional</em></span>) -- whether and how QEMU should create a new image, default is
'absolute-paths'.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevSnapshot">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevSnapshot</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevSnapshot" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- device or node name that will have a snapshot taken.</p></li>
<li><p><strong>overlay</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- reference to the existing block device that will become
the overlay of <code class="docutils literal notranslate"><span class="pre">node</span></code>, as part of taking the snapshot.  It must
not have a current backing file (this can be achieved by passing
&quot;backing&quot;: null to <a class="reference internal" href="#command-QMP-block-core.blockdev-add" title="QMP:block-core.blockdev-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-add</span></code></a>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BackupPerf">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BackupPerf</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BackupPerf" title="Link to this definition"></a></dt>
<dd><p>Optional parameters for backup.  These parameters don't affect
functionality, but may significantly affect performance.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>use-copy-range</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Use copy offloading.  Default false.</p></li>
<li><p><strong>max-workers</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Maximum number of parallel requests for the sustained
background copying process.  Doesn't influence copy-before-write
operations.  Default 64.</p></li>
<li><p><strong>max-chunk</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Maximum request length for the sustained background
copying process.  Doesn't influence copy-before-write
operations.  0 means unlimited.  If max-chunk is non-zero then
it should not be less than job cluster size which is calculated
as maximum of target image cluster size and 64k.  Default 0.</p></li>
<li><p><strong>min-cluster-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Minimum size of blocks used by copy-before-write
and background copy operations.  Has to be a power of 2.  No
effect if smaller than the maximum of the target's cluster size
and 64 KiB.  Default 0.  (Since 9.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BackupCommon">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BackupCommon</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BackupCommon" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- identifier for the newly-created block job.  If omitted,
the device name will be used.  (Since 2.7)</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device name or node-name of a root node which should be
copied.</p></li>
<li><p><strong>sync</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.MirrorSyncMode" title="QMP:block-core.MirrorSyncMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MirrorSyncMode</span></code></a></span>) -- what parts of the disk image should be copied to the
destination (all the disk, only the sectors allocated in the
topmost image, from a dirty bitmap, or only new I/O).</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum speed, in bytes per second.  The default is 0,
for unlimited.</p></li>
<li><p><strong>bitmap</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name of a dirty bitmap to use.  Must be present if sync
is &quot;bitmap&quot; or &quot;incremental&quot;.  Can be present if sync is &quot;full&quot;
or &quot;top&quot;.  Must not be present otherwise.
(Since 2.4 (<a class="reference internal" href="#command-QMP-block-core.drive-backup" title="QMP:block-core.drive-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-backup</span></code></a>), 3.1 (<a class="reference internal" href="#command-QMP-block-core.blockdev-backup" title="QMP:block-core.blockdev-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-backup</span></code></a>))</p></li>
<li><p><strong>bitmap-mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BitmapSyncMode" title="QMP:block-core.BitmapSyncMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BitmapSyncMode</span></code></a>, <em>optional</em></span>) -- Specifies the type of data the bitmap should contain
after the operation concludes.  Must be present if a bitmap was
provided, must <strong>not</strong> be present otherwise.  (Since 4.2)</p></li>
<li><p><strong>compress</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true to compress data, if the target format supports it.
(default: false) (since 2.8)</p></li>
<li><p><strong>on-source-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevOnError" title="QMP:block-core.BlockdevOnError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOnError</span></code></a>, <em>optional</em></span>) -- the action to take on an error on the source,
default 'report'.  'stop' and 'enospc' can only be used if the
block device supports io-status (see <a class="reference internal" href="#object-QMP-block-core.BlockInfo" title="QMP:block-core.BlockInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockInfo</span></code></a>).</p></li>
<li><p><strong>on-target-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevOnError" title="QMP:block-core.BlockdevOnError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOnError</span></code></a>, <em>optional</em></span>) -- the action to take on an error on the target,
default 'report' (no limitations, since this applies to a
different block device than <code class="docutils literal notranslate"><span class="pre">device</span></code>).</p></li>
<li><p><strong>on-cbw-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.OnCbwError" title="QMP:block-core.OnCbwError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">OnCbwError</span></code></a>, <em>optional</em></span>) -- policy defining behavior on I/O errors in
copy-before-write jobs; defaults to break-guest-write.  (Since 10.1)</p></li>
<li><p><strong>auto-finalize</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a PENDING state
after it has finished its work, waiting for <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a> before
making any block graph changes.  When true, this job will
automatically perform its abort or commit actions.  Defaults to
true.  (Since 2.12)</p></li>
<li><p><strong>auto-dismiss</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a CONCLUDED state
after it has completely ceased all work, and awaits
<a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a>.  When true, this job will automatically disappear
without user intervention.  Defaults to true.  (Since 2.12)</p></li>
<li><p><strong>filter-node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the node name that should be assigned to the
filter driver that the backup job inserts into the graph above
node specified by <code class="docutils literal notranslate"><span class="pre">drive</span></code>.  If this option is not given, a node
name is autogenerated.  (Since: 4.2)</p></li>
<li><p><strong>discard-source</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Discard blocks on source which have already been
copied to the target.  (Since 9.1)</p></li>
<li><p><strong>x-perf</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BackupPerf" title="QMP:block-core.BackupPerf"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BackupPerf</span></code></a>, <em>optional</em></span>) -- Performance options.  (Since 6.0)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Member <code class="docutils literal notranslate"><span class="pre">x-perf</span></code> is experimental.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><code class="docutils literal notranslate"><span class="pre">on-source-error</span></code> and <code class="docutils literal notranslate"><span class="pre">on-target-error</span></code> only affect
background I/O.  If an error occurs during a guest write request,
the device's rerror/werror actions will be used.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.DriveBackup">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DriveBackup</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#object-QMP-block-core.DriveBackup" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the target of the new image.  If the file exists, or if it
is a device, the existing file/device will be used as the new
destination.  If it does not exist, a new file will be created.</p></li>
<li><p><strong>format</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the format of the new destination, default is to probe if
<code class="docutils literal notranslate"><span class="pre">mode</span></code> is 'existing', else the format of the source</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.NewImageMode" title="QMP:block-core.NewImageMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NewImageMode</span></code></a>, <em>optional</em></span>) -- whether and how QEMU should create a new image, default is
'absolute-paths'.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BackupCommon" title="QMP:block-core.BackupCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BackupCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevBackup">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevBackup</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevBackup" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device name or node-name of the backup target node.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BackupCommon" title="QMP:block-core.BackupCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BackupCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-snapshot-sync">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-snapshot-sync</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-snapshot-sync" title="Link to this definition"></a></dt>
<dd><p>Takes a synchronous snapshot of a block device.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevSnapshotSync" title="QMP:block-core.BlockdevSnapshotSync"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshotSync</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-snapshot-sync&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;snapshot-file&quot;</span><span class="p">:</span>
<span class="w">                    </span><span class="s2">&quot;/some/place/my-image&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-snapshot">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-snapshot</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-snapshot" title="Link to this definition"></a></dt>
<dd><p>Takes a snapshot of a block device.</p>
<p>Take a snapshot, by installing 'node' as the backing image of
'overlay'.  Additionally, if 'node' is associated with a block
device, the block device changes to using 'overlay' as its new
active image.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevSnapshot" title="QMP:block-core.BlockdevSnapshot"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshot</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>allow-write-only-overlay</strong> -- If present, the check whether this
operation is safe was relaxed so that it can be used to change
backing file of a destination of a <a class="reference internal" href="#command-QMP-block-core.blockdev-mirror" title="QMP:block-core.blockdev-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-mirror</span></code></a>.  (since 5.0)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node1534&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">                              </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hd1.qcow2&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">                    </span><span class="nt">&quot;backing&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-snapshot&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;overlay&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node1534&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.change-backing-file">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">change-backing-file</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#command-QMP-block-core.change-backing-file" title="Link to this definition"></a></dt>
<dd><p>Change the backing file in the image file metadata.  This does not
cause QEMU to reopen the image file to reparse the backing filename
(it may, however, perform a reopen to change permissions from r/o -&gt;
r/w -&gt; r/o, if needed).  The new backing file string is written into
the image file metadata, and the QEMU internal strings are updated.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image-node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name of the block driver state node of the
image to modify.  The &quot;device&quot; argument is used to verify
&quot;image-node-name&quot; is in the chain described by &quot;device&quot;.</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The device name or node-name of the root node that owns
image-node-name.</p></li>
<li><p><strong>backing-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The string to write as the backing file.  This string
is not validated, so care should be taken when specifying the
string or the image chain may not be able to be reopened again.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If &quot;device&quot; does not exist or cannot be determined,
DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-commit">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-commit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-block-core.block-commit" title="Link to this definition"></a></dt>
<dd><p>Live commit of data from overlay image nodes into backing nodes -
i.e., writes data between 'top' and 'base' into 'base'.</p>
<p>If top == base, that is an error.  If top has no overlays on top of
it, or if it is in use by a writer, the job will not be completed by
itself.  The user needs to complete the job with the
<a class="reference internal" href="#command-QMP-job.job-complete" title="QMP:job.job-complete"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-complete</span></code></a> command after getting the ready event.  (Since 2.0)</p>
<p>If the base image is smaller than top, then the base image will be
resized to be the same size as top.  If top is smaller than the base
image, the base will not be truncated.  If you want the base image
size to match the size of the smaller top, you can safely truncate
it yourself once the commit operation successfully completes.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- identifier for the newly-created block job.  If omitted,
the device name will be used.  (Since 2.7)</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device name or node-name of a root node</p></li>
<li><p><strong>base-node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The node name of the backing image to write data into.
If not specified, this is the deepest backing image.
(since: 3.1)</p></li>
<li><p><strong>base</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Same as <code class="docutils literal notranslate"><span class="pre">base-node</span></code>, except that it is a file name rather than
a node name.  This must be the exact filename string that was
used to open the node; other strings, even if addressing the
same file, are not accepted</p></li>
<li><p><strong>top-node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The node name of the backing image within the image chain
which contains the topmost data to be committed down.  If not
specified, this is the active layer.  (since: 3.1)</p></li>
<li><p><strong>top</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Same as <code class="docutils literal notranslate"><span class="pre">top-node</span></code>, except that it is a file name rather than a
node name.  This must be the exact filename string that was used
to open the node; other strings, even if addressing the same
file, are not accepted</p></li>
<li><p><strong>backing-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- <p>The backing file string to write into the overlay
image of 'top'.  If 'top' does not have an overlay image, or if
'top' is in use by a writer, specifying a backing file string is
an error.</p>
<p>This filename is not validated.  If a pathname string is such
that it cannot be resolved by QEMU, that means that subsequent
QMP or HMP commands must use node-names for the image in
question, as filename lookup methods will fail.</p>
<p>If not specified, QEMU will automatically determine the backing
file string to use, or error out if there is no obvious choice.
Care should be taken when specifying the string, to specify a
valid filename or protocol.  (Since 2.1)</p>
</p></li>
<li><p><strong>backing-mask-protocol</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If true, replace any protocol mentioned in
the 'backing file format' with 'raw', rather than storing the
protocol name as the backing format.  Can be used even when no
image header will be updated (default false; since 9.0).</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum speed, in bytes per second</p></li>
<li><p><strong>on-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevOnError" title="QMP:block-core.BlockdevOnError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOnError</span></code></a>, <em>optional</em></span>) -- the action to take on an error.  'ignore' means that the
request should be retried.  (default: report; since: 5.0)</p></li>
<li><p><strong>filter-node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the node name that should be assigned to the
filter driver that the commit job inserts into the graph above
<code class="docutils literal notranslate"><span class="pre">top</span></code>.  If this option is not given, a node name is
autogenerated.  (Since: 2.9)</p></li>
<li><p><strong>auto-finalize</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a PENDING state
after it has finished its work, waiting for <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a> before
making any block graph changes.  When true, this job will
automatically perform its abort or commit actions.  Defaults to
true.  (Since 3.1)</p></li>
<li><p><strong>auto-dismiss</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a CONCLUDED state
after it has completely ceased all work, and awaits
<a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a>.  When true, this job will automatically disappear
without user intervention.  Defaults to true.  (Since 3.1)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Members <code class="docutils literal notranslate"><span class="pre">base</span></code> and <code class="docutils literal notranslate"><span class="pre">top</span></code> are deprecated.  Use <code class="docutils literal notranslate"><span class="pre">base-node</span></code>
and <code class="docutils literal notranslate"><span class="pre">top-node</span></code> instead.</p></li>
</ul>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> does not exist, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-commit&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;top&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/snap1.qcow2&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.drive-backup">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">drive-backup</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#command-QMP-block-core.drive-backup" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Start a point-in-time copy of a block device to a new destination.
The status of ongoing <a class="reference internal" href="#command-QMP-block-core.drive-backup" title="QMP:block-core.drive-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-backup</span></code></a> operations can be checked with
<a class="reference internal" href="#command-QMP-block-core.query-block-jobs" title="QMP:block-core.query-block-jobs"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-block-jobs</span></code></a> where the <a class="reference internal" href="#object-QMP-block-core.BlockJobInfo" title="QMP:block-core.BlockJobInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockJobInfo</span></code></a>.type field has the value
'backup'.  The operation can be stopped before it has completed
using the <a class="reference internal" href="#command-QMP-job.job-cancel" title="QMP:job.job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-cancel</span></code></a> or <a class="reference internal" href="#command-QMP-block-core.block-job-cancel" title="QMP:block-core.block-job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-job-cancel</span></code></a> command.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.DriveBackup" title="QMP:block-core.DriveBackup"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DriveBackup</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated.  Use <a class="reference internal" href="#command-QMP-block-core.blockdev-backup" title="QMP:block-core.blockdev-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-backup</span></code></a>
instead.</p></li>
</ul>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive-backup&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;sync&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;full&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;backup.img&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-backup">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-backup</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-backup" title="Link to this definition"></a></dt>
<dd><p>Start a point-in-time copy of a block device to a new destination.
The status of ongoing <a class="reference internal" href="#command-QMP-block-core.blockdev-backup" title="QMP:block-core.blockdev-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-backup</span></code></a> operations can be checked with
<a class="reference internal" href="#command-QMP-block-core.query-block-jobs" title="QMP:block-core.query-block-jobs"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-block-jobs</span></code></a> where the <a class="reference internal" href="#object-QMP-block-core.BlockJobInfo" title="QMP:block-core.BlockJobInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockJobInfo</span></code></a>.type field has the value
'backup'.  The operation can be stopped before it has completed
using the <a class="reference internal" href="#command-QMP-job.job-cancel" title="QMP:job.job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-cancel</span></code></a> or <a class="reference internal" href="#command-QMP-block-core.block-job-cancel" title="QMP:block-core.block-job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-job-cancel</span></code></a> command.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevBackup" title="QMP:block-core.BlockdevBackup"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevBackup</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-backup&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;src-id&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;sync&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;full&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tgt-id&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.query-named-block-nodes">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-named-block-nodes</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#command-QMP-block-core.query-named-block-nodes" title="Link to this definition"></a></dt>
<dd><p>Get the named block driver list</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flat</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Omit the nested data about backing image (&quot;backing-image&quot;
key) if true.  Default is false (Since 5.0)</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockDeviceInfo" title="QMP:block-core.BlockDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDeviceInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-named-block-nodes&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;ro&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;drv&quot;</span><span class="p">:</span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;encrypted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="s2">&quot;disks/test.qcow2&quot;</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-node&quot;</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;backing_file_depth&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;detect_zeroes&quot;</span><span class="p">:</span><span class="s2">&quot;off&quot;</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;bps&quot;</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;bps_rd&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;bps_wr&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;iops&quot;</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;iops_rd&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;iops_wr&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;bps_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8000000</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;bps_rd_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;bps_wr_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;iops_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;iops_rd_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;iops_wr_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;iops_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;write_threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;image&quot;</span><span class="p">:{</span>
<span class="w">                      </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;disks/test.qcow2&quot;</span><span class="p">,</span>
<span class="w">                      </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">                      </span><span class="nt">&quot;virtual-size&quot;</span><span class="p">:</span><span class="mi">2048000</span><span class="p">,</span>
<span class="w">                      </span><span class="nt">&quot;backing_file&quot;</span><span class="p">:</span><span class="s2">&quot;base.qcow2&quot;</span><span class="p">,</span>
<span class="w">                      </span><span class="nt">&quot;full-backing-filename&quot;</span><span class="p">:</span><span class="s2">&quot;disks/base.qcow2&quot;</span><span class="p">,</span>
<span class="w">                      </span><span class="nt">&quot;backing-filename-format&quot;</span><span class="p">:</span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">                      </span><span class="nt">&quot;snapshots&quot;</span><span class="p">:[</span>
<span class="w">                         </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot1&quot;</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">&quot;vm-state-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">&quot;date-sec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000200</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">&quot;date-nsec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">&quot;vm-clock-sec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">&quot;vm-clock-nsec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span>
<span class="w">                         </span><span class="p">}</span>
<span class="w">                      </span><span class="p">],</span>
<span class="w">                      </span><span class="nt">&quot;backing-image&quot;</span><span class="p">:{</span>
<span class="w">                          </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;disks/base.qcow2&quot;</span><span class="p">,</span>
<span class="w">                          </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">                          </span><span class="nt">&quot;virtual-size&quot;</span><span class="p">:</span><span class="mi">2048000</span>
<span class="w">                      </span><span class="p">}</span>
<span class="w">                   </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.XDbgBlockGraphNodeType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">XDbgBlockGraphNodeType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.XDbgBlockGraphNodeType" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>block-backend</strong> -- corresponds to BlockBackend</p></li>
<li><p><strong>block-job</strong> -- corresponds to BlockJob</p></li>
<li><p><strong>block-driver</strong> -- corresponds to BlockDriverState</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.XDbgBlockGraphNode">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">XDbgBlockGraphNode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-block-core.XDbgBlockGraphNode" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Block graph node identifier.  This <code class="docutils literal notranslate"><span class="pre">id</span></code> is generated only for
<a class="reference internal" href="#command-QMP-block-core.x-debug-query-block-graph" title="QMP:block-core.x-debug-query-block-graph"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">x-debug-query-block-graph</span></code></a> and does not relate to any other
identifiers in QEMU.</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.XDbgBlockGraphNodeType" title="QMP:block-core.XDbgBlockGraphNodeType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">XDbgBlockGraphNodeType</span></code></a></span>) -- Type of graph node.  Can be one of block-backend, block-job
or block-driver-state.</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Human readable name of the node.  Corresponds to node-name
for block-driver-state nodes; is not guaranteed to be unique in
the whole graph (with block-jobs and block-backends).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockPermission">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockPermission</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockPermission" title="Link to this definition"></a></dt>
<dd><p>Enum of base block permissions.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>consistent-read</strong> -- A user that has the &quot;permission&quot; of consistent
reads is guaranteed that their view of the contents of the block
device is complete and self-consistent, representing the
contents of a disk at a specific point.  For most block devices
(including their backing files) this is true, but the property
cannot be maintained in a few situations like for intermediate
nodes of a commit block job.</p></li>
<li><p><strong>write</strong> -- This permission is required to change the visible disk
contents.</p></li>
<li><p><strong>write-unchanged</strong> -- This permission (which is weaker than
BLK_PERM_WRITE) is both enough and required for writes to the
block node when the caller promises that the visible disk
content doesn't change.  As the BLK_PERM_WRITE permission is
strictly stronger, either is sufficient to perform an unchanging
write.</p></li>
<li><p><strong>resize</strong> -- This permission is required to change the size of a block
node.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.XDbgBlockGraphEdge">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">XDbgBlockGraphEdge</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-block-core.XDbgBlockGraphEdge" title="Link to this definition"></a></dt>
<dd><p>Block Graph edge description for <a class="reference internal" href="#command-QMP-block-core.x-debug-query-block-graph" title="QMP:block-core.x-debug-query-block-graph"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">x-debug-query-block-graph</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- parent id</p></li>
<li><p><strong>child</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- child id</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the relation (examples are 'file' and 'backing')</p></li>
<li><p><strong>perm</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-block-core.BlockPermission" title="QMP:block-core.BlockPermission"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockPermission</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- granted permissions for the parent operating on the child</p></li>
<li><p><strong>shared-perm</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-block-core.BlockPermission" title="QMP:block-core.BlockPermission"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockPermission</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- permissions that can still be granted to other users
of the child while it is still attached to this parent</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.XDbgBlockGraph">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">XDbgBlockGraph</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-block-core.XDbgBlockGraph" title="Link to this definition"></a></dt>
<dd><p>Block Graph - list of nodes and list of edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.XDbgBlockGraphNode" title="QMP:block-core.XDbgBlockGraphNode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">XDbgBlockGraphNode</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Not documented</p></li>
<li><p><strong>edges</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.XDbgBlockGraphEdge" title="QMP:block-core.XDbgBlockGraphEdge"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">XDbgBlockGraphEdge</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.x-debug-query-block-graph">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-debug-query-block-graph</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#command-QMP-block-core.x-debug-query-block-graph" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Get the block graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-block-core.XDbgBlockGraph" title="QMP:block-core.XDbgBlockGraph"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">XDbgBlockGraph</span></code></a></span></p>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.drive-mirror">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">drive-mirror</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-block-core.drive-mirror" title="Link to this definition"></a></dt>
<dd><p>Start mirroring a block device's writes to a new destination.
target specifies the target of the new image.  If the file exists,
or if it is a device, it will be used as the new destination for
writes.  If it does not exist, a new file will be created.  <code class="docutils literal notranslate"><span class="pre">format</span></code>
specifies the format of the mirror image, default is to probe if
mode='existing', else the format of the source.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.DriveMirror" title="QMP:block-core.DriveMirror"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DriveMirror</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive-mirror&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/some/place/my-image&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;sync&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;full&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.DriveMirror">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DriveMirror</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-block-core.DriveMirror" title="Link to this definition"></a></dt>
<dd><p>A set of parameters describing drive mirror setup.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- identifier for the newly-created block job.  If omitted,
the device name will be used.  (Since 2.7)</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device name or node-name of a root node whose writes
should be mirrored.</p></li>
<li><p><strong>target</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the target of the new image.  If the file exists, or if it
is a device, the existing file/device will be used as the new
destination.  If it does not exist, a new file will be created.</p></li>
<li><p><strong>format</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the format of the new destination, default is to probe if
<code class="docutils literal notranslate"><span class="pre">mode</span></code> is 'existing', else the format of the source</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the new block driver state node name in the graph
(Since 2.1)</p></li>
<li><p><strong>replaces</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- with sync=full graph node name to be replaced by the new
image when a whole image copy is done.  This can be used to
repair broken Quorum files.  By default, <code class="docutils literal notranslate"><span class="pre">device</span></code> is replaced,
although implicitly created filters on it are kept.  (Since 2.1)</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.NewImageMode" title="QMP:block-core.NewImageMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NewImageMode</span></code></a>, <em>optional</em></span>) -- whether and how QEMU should create a new image, default is
'absolute-paths'.</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum speed, in bytes per second</p></li>
<li><p><strong>sync</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.MirrorSyncMode" title="QMP:block-core.MirrorSyncMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MirrorSyncMode</span></code></a></span>) -- what parts of the disk image should be copied to the
destination (all the disk, only the sectors allocated in the
topmost image, or only new I/O).</p></li>
<li><p><strong>granularity</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- granularity of the dirty bitmap, default is 64K if the
image format doesn't have clusters, 4K if the clusters are
smaller than that, else the cluster size.  Must be a power of 2
between 512 and 64M (since 1.4).</p></li>
<li><p><strong>buf-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum amount of data in flight from source to target
(since 1.4).</p></li>
<li><p><strong>on-source-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevOnError" title="QMP:block-core.BlockdevOnError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOnError</span></code></a>, <em>optional</em></span>) -- the action to take on an error on the source,
default 'report'.  'stop' and 'enospc' can only be used if the
block device supports io-status (see <a class="reference internal" href="#object-QMP-block-core.BlockInfo" title="QMP:block-core.BlockInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockInfo</span></code></a>).</p></li>
<li><p><strong>on-target-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevOnError" title="QMP:block-core.BlockdevOnError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOnError</span></code></a>, <em>optional</em></span>) -- the action to take on an error on the target,
default 'report' (no limitations, since this applies to a
different block device than <code class="docutils literal notranslate"><span class="pre">device</span></code>).</p></li>
<li><p><strong>unmap</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether to try to unmap target sectors where source has only
zero.  If true, and target unallocated sectors will read as
zero, target image sectors will be unmapped; otherwise, zeroes
will be written.  Both will result in identical contents.
Default is true.  (Since 2.4)</p></li>
<li><p><strong>copy-mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.MirrorCopyMode" title="QMP:block-core.MirrorCopyMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MirrorCopyMode</span></code></a>, <em>optional</em></span>) -- when to copy data to the destination; defaults to
'background' (Since: 3.0)</p></li>
<li><p><strong>auto-finalize</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a PENDING state
after it has finished its work, waiting for <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a> before
making any block graph changes.  When true, this job will
automatically perform its abort or commit actions.  Defaults to
true.  (Since 3.1)</p></li>
<li><p><strong>auto-dismiss</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a CONCLUDED state
after it has completely ceased all work, and awaits
<a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a>.  When true, this job will automatically disappear
without user intervention.  Defaults to true.  (Since 3.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockDirtyBitmap">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyBitmap</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockDirtyBitmap" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of device/node which the bitmap is tracking</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the dirty bitmap</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockDirtyBitmapAdd">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyBitmapAdd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockDirtyBitmapAdd" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of device/node which the bitmap is tracking</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the dirty bitmap (must be less than 1024 bytes)</p></li>
<li><p><strong>granularity</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the bitmap granularity, default is 64k for
<a class="reference internal" href="#command-QMP-block-core.block-dirty-bitmap-add" title="QMP:block-core.block-dirty-bitmap-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-dirty-bitmap-add</span></code></a></p></li>
<li><p><strong>persistent</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- the bitmap is persistent, i.e. it will be saved to the
corresponding block device image file on its close.  For now
only Qcow2 disks support persistent bitmaps.  Default is false
for <a class="reference internal" href="#command-QMP-block-core.block-dirty-bitmap-add" title="QMP:block-core.block-dirty-bitmap-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-dirty-bitmap-add</span></code></a>.  (Since: 2.10)</p></li>
<li><p><strong>disabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- the bitmap is created in the disabled state, which means
that it will not track drive changes.  The bitmap may be enabled
with <a class="reference internal" href="#command-QMP-block-core.block-dirty-bitmap-enable" title="QMP:block-core.block-dirty-bitmap-enable"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-dirty-bitmap-enable</span></code></a>.  Default is false.  (Since: 4.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi alternate">
<dt class="sig sig-object qapi" id="alternate-QMP-block-core.BlockDirtyBitmapOrStr">
<em class="property"><span class="k"><span class="pre">Alternate</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyBitmapOrStr</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.1)</span></span><a class="headerlink" href="#alternate-QMP-block-core.BlockDirtyBitmapOrStr" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Alternatives<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the bitmap, attached to the same node as target
bitmap.</p></li>
<li><p><strong>external</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a></span>) -- bitmap with specified node</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockDirtyBitmapMerge">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyBitmapMerge</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockDirtyBitmapMerge" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of device/node which the <code class="docutils literal notranslate"><span class="pre">target</span></code> bitmap is tracking</p></li>
<li><p><strong>target</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the destination dirty bitmap</p></li>
<li><p><strong>bitmaps</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#alternate-QMP-block-core.BlockDirtyBitmapOrStr" title="QMP:block-core.BlockDirtyBitmapOrStr"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapOrStr</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- name(s) of the source dirty bitmap(s) at <code class="docutils literal notranslate"><span class="pre">node</span></code> and/or
fully specified <a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a> elements.  The latter are
supported since 4.1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-dirty-bitmap-add">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-dirty-bitmap-add</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-block-core.block-dirty-bitmap-add" title="Link to this definition"></a></dt>
<dd><p>Create a dirty bitmap with a name on the node, and start tracking
the writes.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmapAdd" title="QMP:block-core.BlockDirtyBitmapAdd"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapAdd</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">node</span></code> is not a valid block device or node, DeviceNotFound</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">name</span></code> is already taken, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-dirty-bitmap-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bitmap0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-dirty-bitmap-remove">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-dirty-bitmap-remove</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-block-core.block-dirty-bitmap-remove" title="Link to this definition"></a></dt>
<dd><p>Stop write tracking and remove the dirty bitmap that was created
with <a class="reference internal" href="#command-QMP-block-core.block-dirty-bitmap-add" title="QMP:block-core.block-dirty-bitmap-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-dirty-bitmap-add</span></code></a>.  If the bitmap is persistent, remove it
from its storage too.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">node</span></code> is not a valid block device or node, DeviceNotFound</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">name</span></code> is not found, GenericError</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">name</span></code> is frozen by an operation, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-dirty-bitmap-remove&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bitmap0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-dirty-bitmap-clear">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-dirty-bitmap-clear</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-block-core.block-dirty-bitmap-clear" title="Link to this definition"></a></dt>
<dd><p>Clear (reset) a dirty bitmap on the device, so that an incremental
backup from this point in time forward will only backup clusters
modified after this clear operation.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">node</span></code> is not a valid block device, DeviceNotFound</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">name</span></code> is not found, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-dirty-bitmap-clear&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bitmap0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-dirty-bitmap-enable">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-dirty-bitmap-enable</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#command-QMP-block-core.block-dirty-bitmap-enable" title="Link to this definition"></a></dt>
<dd><p>Enables a dirty bitmap so that it will begin tracking disk changes.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">node</span></code> is not a valid block device, DeviceNotFound</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">name</span></code> is not found, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-dirty-bitmap-enable&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bitmap0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-dirty-bitmap-disable">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-dirty-bitmap-disable</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#command-QMP-block-core.block-dirty-bitmap-disable" title="Link to this definition"></a></dt>
<dd><p>Disables a dirty bitmap so that it will stop tracking disk changes.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">node</span></code> is not a valid block device, DeviceNotFound</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">name</span></code> is not found, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-dirty-bitmap-disable&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bitmap0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-dirty-bitmap-merge">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-dirty-bitmap-merge</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#command-QMP-block-core.block-dirty-bitmap-merge" title="Link to this definition"></a></dt>
<dd><p>Merge dirty bitmaps listed in <code class="docutils literal notranslate"><span class="pre">bitmaps</span></code> to the <code class="docutils literal notranslate"><span class="pre">target</span></code> dirty bitmap.
Dirty bitmaps in <code class="docutils literal notranslate"><span class="pre">bitmaps</span></code> will be unchanged, except if it also
appears as the <code class="docutils literal notranslate"><span class="pre">target</span></code> bitmap.  Any bits already set in <code class="docutils literal notranslate"><span class="pre">target</span></code> will
still be set after the merge, i.e., this operation does not clear
the target.  On error, <code class="docutils literal notranslate"><span class="pre">target</span></code> is unchanged.</p>
<p>The resulting bitmap will count as dirty any clusters that were
dirty in any of the source bitmaps.  This can be used to achieve
backup checkpoints, or in simpler usages, to copy bitmaps.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmapMerge" title="QMP:block-core.BlockDirtyBitmapMerge"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapMerge</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">node</span></code> is not a valid block device, DeviceNotFound</p></li>
<li><p>If any bitmap in <code class="docutils literal notranslate"><span class="pre">bitmaps</span></code> or <code class="docutils literal notranslate"><span class="pre">target</span></code> is not found,
GenericError</p></li>
<li><p>If any of the bitmaps have different sizes or granularities,
GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-dirty-bitmap-merge&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bitmap0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bitmaps&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;bitmap1&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockDirtyBitmapSha256">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyBitmapSha256</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockDirtyBitmapSha256" title="Link to this definition"></a></dt>
<dd><p>SHA256 hash of dirty bitmap data</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sha256</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- ASCII representation of SHA256 bitmap hash</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.x-debug-block-dirty-bitmap-sha256">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-debug-block-dirty-bitmap-sha256</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#command-QMP-block-core.x-debug-block-dirty-bitmap-sha256" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Get bitmap SHA256.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmapSha256" title="QMP:block-core.BlockDirtyBitmapSha256"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapSha256</span></code></a></span></p>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">node</span></code> is not a valid block device, DeviceNotFound</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">name</span></code> is not found or if hashing has failed, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-mirror">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-mirror</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-mirror" title="Link to this definition"></a></dt>
<dd><p>Start mirroring a block device's writes to a new destination.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- identifier for the newly-created block job.  If omitted,
the device name will be used.  (Since 2.7)</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The device name or node-name of a root node whose writes
should be mirrored.</p></li>
<li><p><strong>target</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the id or node-name of the block device to mirror to.  This
mustn't be attached to guest.</p></li>
<li><p><strong>replaces</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- with sync=full graph node name to be replaced by the new
image when a whole image copy is done.  This can be used to
repair broken Quorum files.  By default, <code class="docutils literal notranslate"><span class="pre">device</span></code> is replaced,
although implicitly created filters on it are kept.</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum speed, in bytes per second</p></li>
<li><p><strong>sync</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.MirrorSyncMode" title="QMP:block-core.MirrorSyncMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MirrorSyncMode</span></code></a></span>) -- what parts of the disk image should be copied to the
destination (all the disk, only the sectors allocated in the
topmost image, or only new I/O).</p></li>
<li><p><strong>granularity</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- granularity of the dirty bitmap, default is 64K if the
image format doesn't have clusters, 4K if the clusters are
smaller than that, else the cluster size.  Must be a power of 2
between 512 and 64M</p></li>
<li><p><strong>buf-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum amount of data in flight from source to target</p></li>
<li><p><strong>on-source-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevOnError" title="QMP:block-core.BlockdevOnError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOnError</span></code></a>, <em>optional</em></span>) -- the action to take on an error on the source,
default 'report'.  'stop' and 'enospc' can only be used if the
block device supports io-status (see <a class="reference internal" href="#object-QMP-block-core.BlockInfo" title="QMP:block-core.BlockInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockInfo</span></code></a>).</p></li>
<li><p><strong>on-target-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevOnError" title="QMP:block-core.BlockdevOnError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOnError</span></code></a>, <em>optional</em></span>) -- the action to take on an error on the target,
default 'report' (no limitations, since this applies to a
different block device than <code class="docutils literal notranslate"><span class="pre">device</span></code>).</p></li>
<li><p><strong>filter-node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the node name that should be assigned to the
filter driver that the mirror job inserts into the graph above
<code class="docutils literal notranslate"><span class="pre">device</span></code>.  If this option is not given, a node name is
autogenerated.  (Since: 2.9)</p></li>
<li><p><strong>copy-mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.MirrorCopyMode" title="QMP:block-core.MirrorCopyMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MirrorCopyMode</span></code></a>, <em>optional</em></span>) -- when to copy data to the destination; defaults to
'background' (Since: 3.0)</p></li>
<li><p><strong>auto-finalize</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a PENDING state
after it has finished its work, waiting for <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a> before
making any block graph changes.  When true, this job will
automatically perform its abort or commit actions.  Defaults to
true.  (Since 3.1)</p></li>
<li><p><strong>auto-dismiss</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a CONCLUDED state
after it has completely ceased all work, and awaits
<a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a>.  When true, this job will automatically disappear
without user intervention.  Defaults to true.  (Since 3.1)</p></li>
<li><p><strong>target-is-zero</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Assume the destination reads as all zeroes before
the mirror started.  Setting this to true can speed up the
mirror.  Setting this to true when the destination is not
actually all zero can corrupt the destination.  (Since 10.1)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-mirror&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;target0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;sync&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;full&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockIOThrottle">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockIOThrottle</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockIOThrottle" title="Link to this definition"></a></dt>
<dd><p>A set of parameters describing block throttling.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Block device name</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name or QOM path of the guest device (since: 2.8)</p></li>
<li><p><strong>bps</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- total throughput limit in bytes per second</p></li>
<li><p><strong>bps_rd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- read throughput limit in bytes per second</p></li>
<li><p><strong>bps_wr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- write throughput limit in bytes per second</p></li>
<li><p><strong>iops</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- total I/O operations per second</p></li>
<li><p><strong>iops_rd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- read I/O operations per second</p></li>
<li><p><strong>iops_wr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- write I/O operations per second</p></li>
<li><p><strong>bps_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total throughput limit during bursts, in bytes (Since 1.7)</p></li>
<li><p><strong>bps_rd_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- read throughput limit during bursts, in bytes
(Since 1.7)</p></li>
<li><p><strong>bps_wr_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- write throughput limit during bursts, in bytes
(Since 1.7)</p></li>
<li><p><strong>iops_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total I/O operations per second during bursts, in bytes
(Since 1.7)</p></li>
<li><p><strong>iops_rd_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- read I/O operations per second during bursts, in bytes
(Since 1.7)</p></li>
<li><p><strong>iops_wr_max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- write I/O operations per second during bursts, in
bytes (Since 1.7)</p></li>
<li><p><strong>bps_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">bps_max</span></code> burst period, in
seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">bps_max</span></code> is set as well.
Defaults to 1.  (Since 2.6)</p></li>
<li><p><strong>bps_rd_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">bps_rd_max</span></code> burst period,
in seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">bps_rd_max</span></code> is set as well.
Defaults to 1.  (Since 2.6)</p></li>
<li><p><strong>bps_wr_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">bps_wr_max</span></code> burst period,
in seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">bps_wr_max</span></code> is set as well.
Defaults to 1.  (Since 2.6)</p></li>
<li><p><strong>iops_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">iops</span></code> burst period, in
seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">iops_max</span></code> is set as well.
Defaults to 1.  (Since 2.6)</p></li>
<li><p><strong>iops_rd_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">iops_rd_max</span></code> burst
period, in seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">iops_rd_max</span></code> is set
as well.  Defaults to 1.  (Since 2.6)</p></li>
<li><p><strong>iops_wr_max_length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum length of the <code class="docutils literal notranslate"><span class="pre">iops_wr_max</span></code> burst
period, in seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">iops_wr_max</span></code> is set
as well.  Defaults to 1.  (Since 2.6)</p></li>
<li><p><strong>iops_size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- an I/O size in bytes (Since 1.7)</p></li>
<li><p><strong>group</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- throttle group name (Since 2.4)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">device</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">id</span></code> instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ThrottleLimits">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ThrottleLimits</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#object-QMP-block-core.ThrottleLimits" title="Link to this definition"></a></dt>
<dd><p>Limit parameters for throttling.  Since some limit combinations are
illegal, limits should always be set in one transaction.  All fields
are optional.  When setting limits, if a field is missing the
current value is not changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iops-total</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- limit total I/O operations per second</p></li>
<li><p><strong>iops-total-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- I/O operations burst</p></li>
<li><p><strong>iops-total-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- length of the iops-total-max burst period,
in seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">iops-total-max</span></code> is set as
well.</p></li>
<li><p><strong>iops-read</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- limit read operations per second</p></li>
<li><p><strong>iops-read-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- I/O operations read burst</p></li>
<li><p><strong>iops-read-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- length of the iops-read-max burst period, in
seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">iops-read-max</span></code> is set as well.</p></li>
<li><p><strong>iops-write</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- limit write operations per second</p></li>
<li><p><strong>iops-write-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- I/O operations write burst</p></li>
<li><p><strong>iops-write-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- length of the iops-write-max burst period,
in seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">iops-write-max</span></code> is set as
well.</p></li>
<li><p><strong>bps-total</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- limit total bytes per second</p></li>
<li><p><strong>bps-total-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total bytes burst</p></li>
<li><p><strong>bps-total-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- length of the bps-total-max burst period, in
seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">bps-total-max</span></code> is set as well.</p></li>
<li><p><strong>bps-read</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- limit read bytes per second</p></li>
<li><p><strong>bps-read-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total bytes read burst</p></li>
<li><p><strong>bps-read-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- length of the bps-read-max burst period, in
seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">bps-read-max</span></code> is set as well.</p></li>
<li><p><strong>bps-write</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- limit write bytes per second</p></li>
<li><p><strong>bps-write-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total bytes write burst</p></li>
<li><p><strong>bps-write-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- length of the bps-write-max burst period, in
seconds.  It must only be set if <code class="docutils literal notranslate"><span class="pre">bps-write-max</span></code> is set as well.</p></li>
<li><p><strong>iops-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- when limiting by iops max size of an I/O in bytes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.ThrottleGroupProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ThrottleGroupProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#object-QMP-block-core.ThrottleGroupProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for throttle-group objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limits</strong> (<span><a class="reference internal" href="#object-QMP-block-core.ThrottleLimits" title="QMP:block-core.ThrottleLimits"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ThrottleLimits</span></code></a>, <em>optional</em></span>) -- limits to apply for this throttle group</p></li>
<li><p><strong>x-iops-total</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-total-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-total-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-read</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-read-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-read-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-write</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-write-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-write-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-total</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-total-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-total-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-read</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-read-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-read-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-write</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-write-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-bps-write-max-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
<li><p><strong>x-iops-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Not documented</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- All members starting with x- are aliases for the same key
without x- in the <code class="docutils literal notranslate"><span class="pre">limits</span></code> object.  This is not a stable
interface and may be removed or changed incompatibly in the
future.  Use <code class="docutils literal notranslate"><span class="pre">limits</span></code> for a supported stable interface.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-stream">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-stream</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-block-core.block-stream" title="Link to this definition"></a></dt>
<dd><p>Copy data from a backing file into a block device.</p>
<p>The block streaming operation is performed in the background until
the entire backing file has been copied.  This command returns
immediately once streaming has started.  The status of ongoing block
streaming operations can be checked with <a class="reference internal" href="#command-QMP-block-core.query-block-jobs" title="QMP:block-core.query-block-jobs"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-block-jobs</span></code></a>.  The
operation can be stopped before it has completed using the
<a class="reference internal" href="#command-QMP-job.job-cancel" title="QMP:job.job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-cancel</span></code></a> or <a class="reference internal" href="#command-QMP-block-core.block-job-cancel" title="QMP:block-core.block-job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-job-cancel</span></code></a> command.</p>
<p>The node that receives the data is called the top image, can be
located in any part of the chain (but always above the base image;
see below) and can be specified using its device or node name.
Earlier QEMU versions only allowed 'device' to name the top level
node; presence of the 'base-node' parameter during introspection can
be used as a witness of the enhanced semantics of 'device'.</p>
<p>If a base file is specified then sectors are not copied from that
base file and its backing chain.  This can be used to stream a
subset of the backing file chain instead of flattening the entire
image.  When streaming completes the image file will have the base
file as its backing file, unless that node was changed while the job
was running.  In that case, base's parent's backing (or filtered,
whichever exists) child (i.e., base at the beginning of the job)
will be the new backing file.</p>
<p>On successful completion the image file is updated to drop the
backing file and the <a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_COMPLETED" title="QMP:block-core.BLOCK_JOB_COMPLETED"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_COMPLETED</span></code></a> event is emitted.</p>
<p>In case <code class="docutils literal notranslate"><span class="pre">device</span></code> is a filter node, <a class="reference internal" href="#command-QMP-block-core.block-stream" title="QMP:block-core.block-stream"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-stream</span></code></a> modifies the first
non-filter overlay node below it to point to the new backing node
instead of modifying <code class="docutils literal notranslate"><span class="pre">device</span></code> itself.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- identifier for the newly-created block job.  If omitted,
the device name will be used.  (Since 2.7)</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device or node name of the top image</p></li>
<li><p><strong>base</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the common backing file name.  It cannot be set if <code class="docutils literal notranslate"><span class="pre">base-node</span></code>
or <code class="docutils literal notranslate"><span class="pre">bottom</span></code> is also set.</p></li>
<li><p><strong>base-node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the node name of the backing file.  It cannot be set if
<code class="docutils literal notranslate"><span class="pre">base</span></code> or <code class="docutils literal notranslate"><span class="pre">bottom</span></code> is also set.  (Since 2.8)</p></li>
<li><p><strong>bottom</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the last node in the chain that should be streamed into
top.  It cannot be set if <code class="docutils literal notranslate"><span class="pre">base</span></code> or <code class="docutils literal notranslate"><span class="pre">base-node</span></code> is also set.  It
cannot be filter node.  (Since 6.0)</p></li>
<li><p><strong>backing-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- <p>The backing file string to write into the top image.
This filename is not validated.</p>
<p>If a pathname string is such that it cannot be resolved by QEMU,
that means that subsequent QMP or HMP commands must use
node-names for the image in question, as filename lookup methods
will fail.</p>
<p>If not specified, QEMU will automatically determine the backing
file string to use, or error out if there is no obvious choice.
Care should be taken when specifying the string, to specify a
valid filename or protocol.  (Since 2.1)</p>
</p></li>
<li><p><strong>backing-mask-protocol</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If true, replace any protocol mentioned in
the 'backing file format' with 'raw', rather than storing the
protocol name as the backing format.  Can be used even when no
image header will be updated (default false; since 9.0).</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum speed, in bytes per second</p></li>
<li><p><strong>on-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevOnError" title="QMP:block-core.BlockdevOnError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOnError</span></code></a>, <em>optional</em></span>) -- the action to take on an error (default report).  'stop'
and 'enospc' can only be used if the block device supports
io-status (see <a class="reference internal" href="#object-QMP-block-core.BlockInfo" title="QMP:block-core.BlockInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockInfo</span></code></a>).  (Since 1.3)</p></li>
<li><p><strong>filter-node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the node name that should be assigned to the
filter driver that the stream job inserts into the graph above
<code class="docutils literal notranslate"><span class="pre">device</span></code>.  If this option is not given, a node name is
autogenerated.  (Since: 6.0)</p></li>
<li><p><strong>auto-finalize</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a PENDING state
after it has finished its work, waiting for <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a> before
making any block graph changes.  When true, this job will
automatically perform its abort or commit actions.  Defaults to
true.  (Since 3.1)</p></li>
<li><p><strong>auto-dismiss</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- When false, this job will wait in a CONCLUDED state
after it has completely ceased all work, and awaits
<a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a>.  When true, this job will automatically disappear
without user intervention.  Defaults to true.  (Since 3.1)</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> does not exist, DeviceNotFound.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-stream&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;base&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/master.qcow2&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-job-set-speed">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-job-set-speed</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-block-core.block-job-set-speed" title="Link to this definition"></a></dt>
<dd><p>Set maximum speed for a background block operation.</p>
<p>This command can only be issued when there is an active block job.</p>
<p>Throttling can be disabled by setting the speed to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  This used to be a device name (hence
the name of the parameter), but since QEMU 2.7 it can have other
values.</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the maximum speed, in bytes per second, or 0 for unlimited.
Defaults to 0.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If no background operation is active on this device,
DeviceNotActive</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-job-cancel">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-job-cancel</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-block-core.block-job-cancel" title="Link to this definition"></a></dt>
<dd><p>Stop an active background block operation.</p>
<p>This command returns immediately after marking the active background
block operation for cancellation.  It is an error to call this
command if no operation is in progress.</p>
<p>The operation will cancel as soon as possible and then emit the
<a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_CANCELLED" title="QMP:block-core.BLOCK_JOB_CANCELLED"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_CANCELLED</span></code></a> event.  Before that happens the job is still
visible when enumerated using <a class="reference internal" href="#command-QMP-block-core.query-block-jobs" title="QMP:block-core.query-block-jobs"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-block-jobs</span></code></a>.</p>
<p>Note that if you issue <a class="reference internal" href="#command-QMP-block-core.block-job-cancel" title="QMP:block-core.block-job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-job-cancel</span></code></a> after <a class="reference internal" href="#command-QMP-block-core.drive-mirror" title="QMP:block-core.drive-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-mirror</span></code></a> has
indicated (via the event <a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_READY" title="QMP:block-core.BLOCK_JOB_READY"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_READY</span></code></a>) that the source and
destination are synchronized, then the event triggered by this
command changes to <a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_COMPLETED" title="QMP:block-core.BLOCK_JOB_COMPLETED"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_COMPLETED</span></code></a>, to indicate that the
mirroring has ended and the destination now has a point-in-time copy
tied to the time of the cancellation.</p>
<p>For streaming, the image file retains its backing file unless the
streaming operation happens to complete just as it is being
cancelled.  A new streaming operation can be started at a later time
to finish copying all data from the backing file.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  This used to be a device name (hence
the name of the parameter), but since QEMU 2.7 it can have other
values.</p></li>
<li><p><strong>force</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If true, and the job has already emitted the event
<a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_READY" title="QMP:block-core.BLOCK_JOB_READY"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_READY</span></code></a>, abandon the job immediately (even if it is
paused) instead of waiting for the destination to complete its
final synchronization (since 1.3)</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If no background operation is active on this device,
DeviceNotActive</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-job-pause">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-job-pause</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-block-core.block-job-pause" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Pause an active background block operation.</p>
<p>This command returns immediately after marking the active job for
pausing.  Pausing an already paused job is an error.</p>
<p>The job will pause as soon as possible, which means transitioning
into the PAUSED state if it was RUNNING, or into STANDBY if it was
READY.  The corresponding <a class="reference internal" href="#event-QMP-job.JOB_STATUS_CHANGE" title="QMP:job.JOB_STATUS_CHANGE"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">JOB_STATUS_CHANGE</span></code></a> event will be emitted.</p>
<p>Cancelling a paused job automatically resumes it.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  This used to be a device name (hence
the name of the parameter), but since QEMU 2.7 it can have other
values.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated.  Use <a class="reference internal" href="#command-QMP-job.job-pause" title="QMP:job.job-pause"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-pause</span></code></a>
instead.</p></li>
</ul>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If no background operation is active on this device,
DeviceNotActive</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-job-resume">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-job-resume</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-block-core.block-job-resume" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Resume an active background block operation.</p>
<p>This command returns immediately after resuming a paused job.
Resuming an already running job is an error.</p>
<p>This command also clears the error status of the job.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  This used to be a device name (hence
the name of the parameter), but since QEMU 2.7 it can have other
values.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated.  Use <a class="reference internal" href="#command-QMP-job.job-resume" title="QMP:job.job-resume"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-resume</span></code></a>
instead.</p></li>
</ul>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If no background operation is active on this device,
DeviceNotActive</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-job-complete">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-job-complete</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-block-core.block-job-complete" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Manually trigger completion of an active job in the READY or STANDBY
state.  Completing the job in any other state is an error.</p>
<p>This is supported only for drive mirroring, where it also switches
the device to write to the target path only.  Note that drive
mirroring includes <a class="reference internal" href="#command-QMP-block-core.drive-mirror" title="QMP:block-core.drive-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-mirror</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.blockdev-mirror" title="QMP:block-core.blockdev-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-mirror</span></code></a> and <a class="reference internal" href="#command-QMP-block-core.block-commit" title="QMP:block-core.block-commit"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-commit</span></code></a>
job (only in case of &quot;active commit&quot;, when the node being commited
is used by the guest).  The ability to complete is signaled with a
<a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_READY" title="QMP:block-core.BLOCK_JOB_READY"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_READY</span></code></a> event.</p>
<p>This command completes an active background block operation
synchronously.  The ordering of this command's return with the
<a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_COMPLETED" title="QMP:block-core.BLOCK_JOB_COMPLETED"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_COMPLETED</span></code></a> event is not defined.  Note that if an I/O error
occurs during the processing of this command: 1) the command itself
will fail; 2) the error will be processed according to the
rerror/werror arguments that were specified when starting the
operation.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  This used to be a device name (hence
the name of the parameter), but since QEMU 2.7 it can have other
values.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated.  Use <a class="reference internal" href="#command-QMP-job.job-complete" title="QMP:job.job-complete"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-complete</span></code></a>
instead.</p></li>
</ul>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If no background operation is active on this device,
DeviceNotActive</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-job-dismiss">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-job-dismiss</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-block-core.block-job-dismiss" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Deletes a job that is in the CONCLUDED state.  This command only
needs to be run explicitly for jobs that don't have automatic
dismiss enabled.  In turn, automatic dismiss may be enabled only
for jobs that have <code class="docutils literal notranslate"><span class="pre">auto-dismiss</span></code> option, which are <a class="reference internal" href="#command-QMP-block-core.drive-backup" title="QMP:block-core.drive-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-backup</span></code></a>,
<a class="reference internal" href="#command-QMP-block-core.blockdev-backup" title="QMP:block-core.blockdev-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-backup</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.drive-mirror" title="QMP:block-core.drive-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-mirror</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.blockdev-mirror" title="QMP:block-core.blockdev-mirror"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-mirror</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.block-commit" title="QMP:block-core.block-commit"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-commit</span></code></a> and
<a class="reference internal" href="#command-QMP-block-core.block-stream" title="QMP:block-core.block-stream"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-stream</span></code></a>.  <code class="docutils literal notranslate"><span class="pre">auto-dismiss</span></code> is enabled by default for these
jobs.</p>
<p>This command will refuse to operate on any job that has not yet
reached its terminal state, CONCLUDED.  For jobs that make use of
the <a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_READY" title="QMP:block-core.BLOCK_JOB_READY"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_READY</span></code></a> event, <a class="reference internal" href="#command-QMP-job.job-cancel" title="QMP:job.job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-cancel</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.block-job-cancel" title="QMP:block-core.block-job-cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-job-cancel</span></code></a> or
<a class="reference internal" href="#command-QMP-job.job-complete" title="QMP:job.job-complete"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-complete</span></code></a> will still need to be used as appropriate.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated.  Use <a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a>
instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-job-finalize">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-job-finalize</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-block-core.block-job-finalize" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Instructs all jobs in a transaction (or a single job if it is not
part of any transaction) to finalize any graph changes and do any
necessary cleanup.  This command requires that all involved jobs are
in the PENDING state.</p>
<p>For jobs in a transaction, instructing one job to finalize will
force ALL jobs in the transaction to finalize, so it is only
necessary to instruct a single member job to finalize.</p>
<p>The command is applicable only to jobs which have <code class="docutils literal notranslate"><span class="pre">auto-finalize</span></code> option
and only when this option is set to false.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated.  Use <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a>
instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockJobChangeOptionsMirror">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockJobChangeOptionsMirror</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockJobChangeOptionsMirror" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>copy-mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.MirrorCopyMode" title="QMP:block-core.MirrorCopyMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MirrorCopyMode</span></code></a></span>) -- Switch to this copy mode.  Currently, only the switch
from 'background' to 'write-blocking' is implemented.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockJobChangeOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockJobChangeOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockJobChangeOptions" title="Link to this definition"></a></dt>
<dd><p>Block job options that can be changed after job creation.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobType" title="QMP:job.JobType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobType</span></code></a></span>) -- The job type</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">mirror</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockJobChangeOptionsMirror" title="QMP:block-core.BlockJobChangeOptionsMirror"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockJobChangeOptionsMirror</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-job-change">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-job-change</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#command-QMP-block-core.block-job-change" title="Link to this definition"></a></dt>
<dd><p>Change the block job's options.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockJobChangeOptions" title="QMP:block-core.BlockJobChangeOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockJobChangeOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevDiscardOptions">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevDiscardOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevDiscardOptions" title="Link to this definition"></a></dt>
<dd><p>Determines how to handle discard requests.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ignore</strong> -- Ignore the request</p></li>
<li><p><strong>unmap</strong> -- Forward as an unmap request</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevDetectZeroesOptions">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevDetectZeroesOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevDetectZeroesOptions" title="Link to this definition"></a></dt>
<dd><p>Describes the operation mode for the automatic conversion of plain
zero writes by the OS to driver specific optimized zero write
commands.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>off</strong> -- Disabled (default)</p></li>
<li><p><strong>on</strong> -- Enabled</p></li>
<li><p><strong>unmap</strong> -- Enabled and even try to unmap blocks if possible.  This
requires also that <a class="reference internal" href="#enum-QMP-block-core.BlockdevDiscardOptions" title="QMP:block-core.BlockdevDiscardOptions"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">BlockdevDiscardOptions</span></code></a> is set to unmap for
this device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevAioOptions">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevAioOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevAioOptions" title="Link to this definition"></a></dt>
<dd><p>Selects the AIO backend to handle I/O requests</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threads</strong> -- Use QEMU's thread pool</p></li>
<li><p><strong>native</strong> -- Use native AIO backend (only Linux and Windows)</p></li>
<li><p><strong>io_uring</strong> -- Use linux io_uring (since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCacheOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCacheOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCacheOptions" title="Link to this definition"></a></dt>
<dd><p>Includes cache-related options for block devices</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>direct</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enables use of O_DIRECT (bypass the host page cache;
default: false)</p></li>
<li><p><strong>no-flush</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- ignore any flush requests for the device (default: false)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevDriver">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevDriver</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevDriver" title="Link to this definition"></a></dt>
<dd><p>Drivers that are supported in block device operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>throttle</strong> -- Since 2.11</p></li>
<li><p><strong>nvme</strong> -- Since 2.12</p></li>
<li><p><strong>copy-on-read</strong> -- Since 3.0</p></li>
<li><p><strong>blklogwrites</strong> -- Since 3.0</p></li>
<li><p><strong>blkreplay</strong> -- Since 4.2</p></li>
<li><p><strong>compress</strong> -- Since 5.0</p></li>
<li><p><strong>copy-before-write</strong> -- Since 6.2</p></li>
<li><p><strong>snapshot-access</strong> -- Since 7.0</p></li>
<li><p><strong>blkdebug</strong> -- Not documented</p></li>
<li><p><strong>blkverify</strong> -- Not documented</p></li>
<li><p><strong>bochs</strong> -- Not documented</p></li>
<li><p><strong>cloop</strong> -- Not documented</p></li>
<li><p><strong>dmg</strong> -- Not documented</p></li>
<li><p><strong>file</strong> -- Not documented</p></li>
<li><p><strong>ftp</strong> -- Not documented</p></li>
<li><p><strong>ftps</strong> -- Not documented</p></li>
<li><p><strong>gluster</strong> -- Not documented</p></li>
<li><p><strong>host_cdrom</strong> -- Not documented</p></li>
<li><p><strong>host_device</strong> -- Not documented</p></li>
<li><p><strong>http</strong> -- Not documented</p></li>
<li><p><strong>https</strong> -- Not documented</p></li>
<li><p><strong>io_uring</strong> -- Not documented</p></li>
<li><p><strong>iscsi</strong> -- Not documented</p></li>
<li><p><strong>luks</strong> -- Not documented</p></li>
<li><p><strong>nbd</strong> -- Not documented</p></li>
<li><p><strong>nfs</strong> -- Not documented</p></li>
<li><p><strong>null-aio</strong> -- Not documented</p></li>
<li><p><strong>null-co</strong> -- Not documented</p></li>
<li><p><strong>nvme-io_uring</strong> -- Not documented</p></li>
<li><p><strong>parallels</strong> -- Not documented</p></li>
<li><p><strong>preallocate</strong> -- Not documented</p></li>
<li><p><strong>qcow</strong> -- Not documented</p></li>
<li><p><strong>qcow2</strong> -- Not documented</p></li>
<li><p><strong>qed</strong> -- Not documented</p></li>
<li><p><strong>quorum</strong> -- Not documented</p></li>
<li><p><strong>raw</strong> -- Not documented</p></li>
<li><p><strong>rbd</strong> -- Not documented</p></li>
<li><p><strong>replication</strong> -- Not documented</p></li>
<li><p><strong>ssh</strong> -- Not documented</p></li>
<li><p><strong>vdi</strong> -- Not documented</p></li>
<li><p><strong>vhdx</strong> -- Not documented</p></li>
<li><p><strong>virtio-blk-vfio-pci</strong> -- Not documented</p></li>
<li><p><strong>virtio-blk-vhost-user</strong> -- Not documented</p></li>
<li><p><strong>virtio-blk-vhost-vdpa</strong> -- Not documented</p></li>
<li><p><strong>vmdk</strong> -- Not documented</p></li>
<li><p><strong>vpc</strong> -- Not documented</p></li>
<li><p><strong>vvfat</strong> -- Not documented</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">gluster</span></code> is deprecated because GlusterFS
development ceased.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsFile">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsFile</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsFile" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for the file backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the image file</p></li>
<li><p><strong>pr-manager</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the id for the object that will handle persistent
reservations for this device (default: none, forward the
commands via SG_IO; since 2.11)</p></li>
<li><p><strong>aio</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevAioOptions" title="QMP:block-core.BlockdevAioOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevAioOptions</span></code></a>, <em>optional</em></span>) -- AIO backend (default: threads) (since: 2.8)</p></li>
<li><p><strong>aio-max-batch</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum number of requests to batch together into a
single submission in the AIO backend.  The smallest value
between this and the aio-max-batch value of the IOThread object
is chosen.  0 means that the AIO backend will handle it
automatically.  (default: 0, since 6.2)</p></li>
<li><p><strong>locking</strong> (<span><a class="reference internal" href="#enum-QMP-common.OnOffAuto" title="QMP:common.OnOffAuto"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">OnOffAuto</span></code></a>, <em>optional</em></span>) -- whether to enable file locking.  If set to 'auto', only
enable when Open File Descriptor (OFD) locking API is available
(default: auto, since 2.10)</p></li>
<li><p><strong>drop-cache</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- invalidate page cache during live migration.  This
prevents stale data on the migration destination with
cache.direct=off.  Currently only supported on Linux hosts.
(default: on, since: 4.0)</p></li>
<li><p><strong>x-check-cache-dropped</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to check that page cache was dropped
on live migration.  May cause noticeable delays if the image
file is large, do not use in production.  (default: off)
(since: 3.0)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>dynamic-auto-read-only</strong> -- If present, enabled auto-read-only means
that the driver will open the image read-only at first,
dynamically reopen the image file read-write when the first
writer is attached to the node and reopen read-only when the
last writer is detached.  This allows giving QEMU write
permissions only on demand when an operation actually needs
write access.</p></li>
<li><p><strong>unstable</strong> -- Member x-check-cache-dropped is meant for debugging.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsNull">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsNull</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsNull" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for the null backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- size of the device in bytes.</p></li>
<li><p><strong>latency-ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- emulated latency (in nanoseconds) in processing
requests.  Default to zero which completes requests immediately.
(Since 2.4)</p></li>
<li><p><strong>read-zeroes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, reads from the device produce zeroes; if
false, the buffer is left unchanged.
(default: false; since: 4.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsNVMe">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsNVMe</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsNVMe" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for the NVMe backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- PCI controller address of the NVMe device in format
hhhh:bb:ss.f (host:bus:slot.function)</p></li>
<li><p><strong>namespace</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- namespace number of the device, starting from 1.</p></li>
</ul>
</dd>
</dl>
<p>Note that the PCI <code class="docutils literal notranslate"><span class="pre">device</span></code> must have been unbound from any host
kernel driver before instructing QEMU to add the blockdev.</p>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsVVFAT">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsVVFAT</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsVVFAT" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for the vvfat protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- directory to be exported as FAT image</p></li>
<li><p><strong>fat-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- FAT type: 12, 16 or 32</p></li>
<li><p><strong>floppy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to export a floppy image (true) or partitioned hard
disk (false; default)</p></li>
<li><p><strong>label</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- set the volume label, limited to 11 bytes.  FAT16 and FAT32
traditionally have some restrictions on labels, which are
ignored by most operating systems.  Defaults to &quot;QEMU VVFAT&quot;.
(since 2.4)</p></li>
<li><p><strong>rw</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to allow write operations (default: false)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsGenericFormat">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsGenericFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for image format that have no
option besides their data source.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- reference to or definition of the data source block device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsLUKS" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for LUKS.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the ID of a QCryptoSecret object providing the
decryption key.  Mandatory except when doing a metadata-only
probe of the image.  (since 2.6)</p></li>
<li><p><strong>header</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a>, <em>optional</em></span>) -- block device holding a detached LUKS header.  (since 9.0)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsGenericCOWFormat">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsGenericCOWFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsGenericCOWFormat" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for image format that have no
option besides their data source and an optional backing file.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backing</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRefOrNull" title="QMP:block-core.BlockdevRefOrNull"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRefOrNull</span></code></a>, <em>optional</em></span>) -- reference to or definition of the backing file block
device, null disables the backing file entirely.  Defaults to
the backing file stored the image file.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.Qcow2OverlapCheckMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Qcow2OverlapCheckMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.Qcow2OverlapCheckMode" title="Link to this definition"></a></dt>
<dd><p>General overlap check modes.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- Do not perform any checks</p></li>
<li><p><strong>constant</strong> -- Perform only checks which can be done in constant time
and without reading anything from disk</p></li>
<li><p><strong>cached</strong> -- Perform only checks which can be done without reading
anything from disk</p></li>
<li><p><strong>all</strong> -- Perform all available overlap checks</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.Qcow2OverlapCheckFlags">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Qcow2OverlapCheckFlags</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.Qcow2OverlapCheckFlags" title="Link to this definition"></a></dt>
<dd><p>Structure of flags for each metadata structure.  Setting a field to
'true' makes QEMU guard that Qcow2 format structure against
unintended overwriting.  See Qcow2 format specification for detailed
information on these structures.  The default value is chosen
according to the template given.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.Qcow2OverlapCheckMode" title="QMP:block-core.Qcow2OverlapCheckMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Qcow2OverlapCheckMode</span></code></a>, <em>optional</em></span>) -- Specifies a template mode which can be adjusted using the
other flags, defaults to 'cached'</p></li>
<li><p><strong>main-header</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 format header</p></li>
<li><p><strong>active-l1</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 active L1 table</p></li>
<li><p><strong>active-l2</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 active L2 table</p></li>
<li><p><strong>refcount-table</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 refcount table</p></li>
<li><p><strong>refcount-block</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 refcount blocks</p></li>
<li><p><strong>snapshot-table</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 snapshot table</p></li>
<li><p><strong>inactive-l1</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 inactive L1 tables</p></li>
<li><p><strong>inactive-l2</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 inactive L2 tables</p></li>
<li><p><strong>bitmap-directory</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Qcow2 bitmap directory (since 3.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi alternate">
<dt class="sig sig-object qapi" id="alternate-QMP-block-core.Qcow2OverlapChecks">
<em class="property"><span class="k"><span class="pre">Alternate</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Qcow2OverlapChecks</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#alternate-QMP-block-core.Qcow2OverlapChecks" title="Link to this definition"></a></dt>
<dd><p>Specifies which metadata structures should be guarded against
unintended overwriting.</p>
<dl class="field-list simple">
<dt class="field-odd">Alternatives<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flags</strong> (<span><a class="reference internal" href="#object-QMP-block-core.Qcow2OverlapCheckFlags" title="QMP:block-core.Qcow2OverlapCheckFlags"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Qcow2OverlapCheckFlags</span></code></a></span>) -- set of flags for separate specification of each metadata
structure type</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.Qcow2OverlapCheckMode" title="QMP:block-core.Qcow2OverlapCheckMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Qcow2OverlapCheckMode</span></code></a></span>) -- named mode which chooses a specific set of flags</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevQcowEncryptionFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevQcowEncryptionFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevQcowEncryptionFormat" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aes</strong> -- AES-CBC with plain64 initialization vectors</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevQcowEncryption">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevQcowEncryption</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevQcowEncryption" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevQcowEncryptionFormat" title="QMP:block-core.BlockdevQcowEncryptionFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevQcowEncryptionFormat</span></code></a></span>) -- encryption format</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">aes</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsQCow" title="QMP:crypto.QCryptoBlockOptionsQCow"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsQCow</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsQcow">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsQcow</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsQcow" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for qcow.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>encrypt</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevQcowEncryption" title="QMP:block-core.BlockdevQcowEncryption"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevQcowEncryption</span></code></a>, <em>optional</em></span>) -- Image decryption options.  Mandatory for encrypted images,
except when doing a metadata-only probe of the image.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericCOWFormat" title="QMP:block-core.BlockdevOptionsGenericCOWFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericCOWFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevQcow2EncryptionFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevQcow2EncryptionFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevQcow2EncryptionFormat" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aes</strong> -- AES-CBC with plain64 initialization vectors</p></li>
<li><p><strong>luks</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevQcow2Encryption">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevQcow2Encryption</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevQcow2Encryption" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevQcow2EncryptionFormat" title="QMP:block-core.BlockdevQcow2EncryptionFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevQcow2EncryptionFormat</span></code></a></span>) -- encryption format</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">aes</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsQCow" title="QMP:crypto.QCryptoBlockOptionsQCow"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsQCow</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockOptionsLUKS" title="QMP:crypto.QCryptoBlockOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockOptionsLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsPreallocate">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsPreallocate</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsPreallocate" title="Link to this definition"></a></dt>
<dd><p>Filter driver intended to be inserted between format and protocol
node and do preallocation in protocol node on write.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prealloc-align</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- on preallocation, align file length to this number,
default 1048576 (1M)</p></li>
<li><p><strong>prealloc-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- how much to preallocate, default 134217728 (128M)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsQcow2">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsQcow2</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsQcow2" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for qcow2.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lazy-refcounts</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to enable the lazy refcounts feature
(default is taken from the image file)</p></li>
<li><p><strong>pass-discard-request</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether discard requests to the qcow2 device
should be forwarded to the data source</p></li>
<li><p><strong>pass-discard-snapshot</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether discard requests for the data source
should be issued when a snapshot operation (e.g. deleting a
snapshot) frees clusters in the qcow2 file</p></li>
<li><p><strong>pass-discard-other</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether discard requests for the data source
should be issued on other occasions where a cluster gets freed</p></li>
<li><p><strong>discard-no-unref</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- when enabled, data clusters will remain
preallocated when they are no longer used, e.g. because they are
discarded or converted to zero clusters.  As usual, whether the
old data is discarded or kept on the protocol level (i.e. in the
image file) depends on the setting of the pass-discard-request
option.  Keeping the clusters preallocated prevents qcow2
fragmentation that would otherwise be caused by freeing and
re-allocating them later.  Besides potential performance
degradation, such fragmentation can lead to increased allocation
of clusters past the end of the image file, resulting in image
files whose file length can grow much larger than their guest
disk size would suggest.  If image file length is of concern
(e.g. when storing qcow2 images directly on block devices), you
should consider enabling this option.  (since 8.1)</p></li>
<li><p><strong>overlap-check</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.Qcow2OverlapChecks" title="QMP:block-core.Qcow2OverlapChecks"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Qcow2OverlapChecks</span></code></a>, <em>optional</em></span>) -- which overlap checks to perform for writes to the
image, defaults to 'cached' (since 2.2)</p></li>
<li><p><strong>cache-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum total size of the L2 table and refcount
block caches in bytes (since 2.2)</p></li>
<li><p><strong>l2-cache-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum size of the L2 table cache in bytes
(since 2.2)</p></li>
<li><p><strong>l2-cache-entry-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the size of each entry in the L2 cache in
bytes.  It must be a power of two between 512 and the cluster
size.  The default value is the cluster size (since 2.12)</p></li>
<li><p><strong>refcount-cache-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum size of the refcount block cache
in bytes (since 2.2)</p></li>
<li><p><strong>cache-clean-interval</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- clean unused entries in the L2 and refcount
caches.  The interval is in seconds.  The default value is 600
on supporting platforms, and 0 on other platforms.  0 disables
this feature.  (since 2.5)</p></li>
<li><p><strong>encrypt</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevQcow2Encryption" title="QMP:block-core.BlockdevQcow2Encryption"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevQcow2Encryption</span></code></a>, <em>optional</em></span>) -- Image decryption options.  Mandatory for encrypted images,
except when doing a metadata-only probe of the image.
(since 2.10)</p></li>
<li><p><strong>data-file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a>, <em>optional</em></span>) -- reference to or definition of the external data file.
This may only be specified for images that require an external
data file.  If it is not specified for such an image, the data
file name is loaded from the image file.  (since 4.0)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericCOWFormat" title="QMP:block-core.BlockdevOptionsGenericCOWFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericCOWFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.SshHostKeyCheckMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SshHostKeyCheckMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-block-core.SshHostKeyCheckMode" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- Don't check the host key at all</p></li>
<li><p><strong>hash</strong> -- Compare the host key with a given hash</p></li>
<li><p><strong>known_hosts</strong> -- Check the host key against the known_hosts file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.SshHostKeyCheckHashType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SshHostKeyCheckHashType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-block-core.SshHostKeyCheckHashType" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md5</strong> -- The given hash is an md5 hash</p></li>
<li><p><strong>sha1</strong> -- The given hash is an sha1 hash</p></li>
<li><p><strong>sha256</strong> -- The given hash is an sha256 hash</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.SshHostKeyHash">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SshHostKeyHash</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.SshHostKeyHash" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.SshHostKeyCheckHashType" title="QMP:block-core.SshHostKeyCheckHashType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SshHostKeyCheckHashType</span></code></a></span>) -- The hash algorithm used for the hash</p></li>
<li><p><strong>hash</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The expected hash value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.SshHostKeyCheck">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SshHostKeyCheck</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.SshHostKeyCheck" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.SshHostKeyCheckMode" title="QMP:block-core.SshHostKeyCheckMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SshHostKeyCheckMode</span></code></a></span>) -- How to check the host key</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">mode</span></code> is <code class="docutils literal notranslate"><span class="pre">hash</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.SshHostKeyHash" title="QMP:block-core.SshHostKeyHash"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SshHostKeyHash</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsSsh">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsSsh</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsSsh" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-sockets.InetSocketAddress" title="QMP:sockets.InetSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InetSocketAddress</span></code></a></span>) -- host address</p></li>
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the image on the host</p></li>
<li><p><strong>user</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- user as which to connect, defaults to current local user name</p></li>
<li><p><strong>host-key-check</strong> (<span><a class="reference internal" href="#object-QMP-block-core.SshHostKeyCheck" title="QMP:block-core.SshHostKeyCheck"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SshHostKeyCheck</span></code></a>, <em>optional</em></span>) -- Defines how and what to check the host key against
(default: known_hosts)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlkdebugEvent">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlkdebugEvent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlkdebugEvent" title="Link to this definition"></a></dt>
<dd><p>Trigger events supported by blkdebug.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1_shrink_write_table</strong> -- write zeros to the l1 table to shrink image.
(since 2.11)</p></li>
<li><p><strong>l1_shrink_free_l2_clusters</strong> -- discard the l2 tables.  (since 2.11)</p></li>
<li><p><strong>cor_write</strong> -- a write due to copy-on-read (since 2.11)</p></li>
<li><p><strong>cluster_alloc_space</strong> -- an allocation of file space for a cluster
(since 4.1)</p></li>
<li><p><strong>none</strong> -- triggers once at creation of the blkdebug node (since 4.1)</p></li>
<li><p><strong>l1_update</strong> -- Not documented</p></li>
<li><p><strong>l1_grow_alloc_table</strong> -- Not documented</p></li>
<li><p><strong>l1_grow_write_table</strong> -- Not documented</p></li>
<li><p><strong>l1_grow_activate_table</strong> -- Not documented</p></li>
<li><p><strong>l2_load</strong> -- Not documented</p></li>
<li><p><strong>l2_update</strong> -- Not documented</p></li>
<li><p><strong>l2_update_compressed</strong> -- Not documented</p></li>
<li><p><strong>l2_alloc_cow_read</strong> -- Not documented</p></li>
<li><p><strong>l2_alloc_write</strong> -- Not documented</p></li>
<li><p><strong>read_aio</strong> -- Not documented</p></li>
<li><p><strong>read_backing_aio</strong> -- Not documented</p></li>
<li><p><strong>read_compressed</strong> -- Not documented</p></li>
<li><p><strong>write_aio</strong> -- Not documented</p></li>
<li><p><strong>write_compressed</strong> -- Not documented</p></li>
<li><p><strong>vmstate_load</strong> -- Not documented</p></li>
<li><p><strong>vmstate_save</strong> -- Not documented</p></li>
<li><p><strong>cow_read</strong> -- Not documented</p></li>
<li><p><strong>cow_write</strong> -- Not documented</p></li>
<li><p><strong>reftable_load</strong> -- Not documented</p></li>
<li><p><strong>reftable_grow</strong> -- Not documented</p></li>
<li><p><strong>reftable_update</strong> -- Not documented</p></li>
<li><p><strong>refblock_load</strong> -- Not documented</p></li>
<li><p><strong>refblock_update</strong> -- Not documented</p></li>
<li><p><strong>refblock_update_part</strong> -- Not documented</p></li>
<li><p><strong>refblock_alloc</strong> -- Not documented</p></li>
<li><p><strong>refblock_alloc_hookup</strong> -- Not documented</p></li>
<li><p><strong>refblock_alloc_write</strong> -- Not documented</p></li>
<li><p><strong>refblock_alloc_write_blocks</strong> -- Not documented</p></li>
<li><p><strong>refblock_alloc_write_table</strong> -- Not documented</p></li>
<li><p><strong>refblock_alloc_switch_table</strong> -- Not documented</p></li>
<li><p><strong>cluster_alloc</strong> -- Not documented</p></li>
<li><p><strong>cluster_alloc_bytes</strong> -- Not documented</p></li>
<li><p><strong>cluster_free</strong> -- Not documented</p></li>
<li><p><strong>flush_to_os</strong> -- Not documented</p></li>
<li><p><strong>flush_to_disk</strong> -- Not documented</p></li>
<li><p><strong>pwritev_rmw_head</strong> -- Not documented</p></li>
<li><p><strong>pwritev_rmw_after_head</strong> -- Not documented</p></li>
<li><p><strong>pwritev_rmw_tail</strong> -- Not documented</p></li>
<li><p><strong>pwritev_rmw_after_tail</strong> -- Not documented</p></li>
<li><p><strong>pwritev</strong> -- Not documented</p></li>
<li><p><strong>pwritev_zero</strong> -- Not documented</p></li>
<li><p><strong>pwritev_done</strong> -- Not documented</p></li>
<li><p><strong>empty_image_prepare</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlkdebugIOType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlkdebugIOType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.1)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlkdebugIOType" title="Link to this definition"></a></dt>
<dd><p>Kinds of I/O that blkdebug can inject errors in.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>read</strong> -- .bdrv_co_preadv()</p></li>
<li><p><strong>write</strong> -- .bdrv_co_pwritev()</p></li>
<li><p><strong>write-zeroes</strong> -- .bdrv_co_pwrite_zeroes()</p></li>
<li><p><strong>discard</strong> -- .bdrv_co_pdiscard()</p></li>
<li><p><strong>flush</strong> -- .bdrv_co_flush_to_disk()</p></li>
<li><p><strong>block-status</strong> -- .bdrv_co_block_status()</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlkdebugInjectErrorOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlkdebugInjectErrorOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlkdebugInjectErrorOptions" title="Link to this definition"></a></dt>
<dd><p>Describes a single error injection for blkdebug.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlkdebugEvent" title="QMP:block-core.BlkdebugEvent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlkdebugEvent</span></code></a></span>) -- trigger event</p></li>
<li><p><strong>state</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the state identifier blkdebug needs to be in to actually
trigger the event; defaults to &quot;any&quot;</p></li>
<li><p><strong>iotype</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlkdebugIOType" title="QMP:block-core.BlkdebugIOType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlkdebugIOType</span></code></a>, <em>optional</em></span>) -- the type of I/O operations on which this error should be
injected; defaults to &quot;all read, write, write-zeroes, discard,
and flush operations&quot; (since: 4.1)</p></li>
<li><p><strong>errno</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- error identifier (errno) to be returned; defaults to EIO</p></li>
<li><p><strong>sector</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- specifies the sector index which has to be affected in
order to actually trigger the event; defaults to &quot;any sector&quot;</p></li>
<li><p><strong>once</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- disables further events after this one has been triggered;
defaults to false</p></li>
<li><p><strong>immediately</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- fail immediately; defaults to false</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlkdebugSetStateOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlkdebugSetStateOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlkdebugSetStateOptions" title="Link to this definition"></a></dt>
<dd><p>Describes a single state-change event for blkdebug.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlkdebugEvent" title="QMP:block-core.BlkdebugEvent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlkdebugEvent</span></code></a></span>) -- trigger event</p></li>
<li><p><strong>state</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the current state identifier blkdebug needs to be in;
defaults to &quot;any&quot;</p></li>
<li><p><strong>new_state</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the state identifier blkdebug is supposed to assume if
this event is triggered</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsBlkdebug">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsBlkdebug</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsBlkdebug" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for blkdebug.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- underlying raw block device (or image file)</p></li>
<li><p><strong>config</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- filename of the configuration file</p></li>
<li><p><strong>align</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- required alignment for requests in bytes, must be positive
power of 2, or 0 for default</p></li>
<li><p><strong>max-transfer</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum size for I/O transfers in bytes, must be
positive multiple of <code class="docutils literal notranslate"><span class="pre">align</span></code> and of the underlying file's request
alignment (but need not be a power of 2), or 0 for default
(since 2.10)</p></li>
<li><p><strong>opt-write-zero</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- preferred alignment for write zero requests in
bytes, must be positive multiple of <code class="docutils literal notranslate"><span class="pre">align</span></code> and of the underlying
file's request alignment (but need not be a power of 2), or 0
for default (since 2.10)</p></li>
<li><p><strong>max-write-zero</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum size for write zero requests in bytes, must
be positive multiple of <code class="docutils literal notranslate"><span class="pre">align</span></code>, of <code class="docutils literal notranslate"><span class="pre">opt-write-zero</span></code>, and of the
underlying file's request alignment (but need not be a power of
2), or 0 for default (since 2.10)</p></li>
<li><p><strong>opt-discard</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- preferred alignment for discard requests in bytes,
must be positive multiple of <code class="docutils literal notranslate"><span class="pre">align</span></code> and of the underlying file's
request alignment (but need not be a power of 2), or 0 for
default (since 2.10)</p></li>
<li><p><strong>max-discard</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum size for discard requests in bytes, must be
positive multiple of <code class="docutils literal notranslate"><span class="pre">align</span></code>, of <code class="docutils literal notranslate"><span class="pre">opt-discard</span></code>, and of the
underlying file's request alignment (but need not be a power of
2), or 0 for default (since 2.10)</p></li>
<li><p><strong>inject-error</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlkdebugInjectErrorOptions" title="QMP:block-core.BlkdebugInjectErrorOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlkdebugInjectErrorOptions</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- array of error injection descriptions</p></li>
<li><p><strong>set-state</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlkdebugSetStateOptions" title="QMP:block-core.BlkdebugSetStateOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlkdebugSetStateOptions</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- array of state-change descriptions</p></li>
<li><p><strong>take-child-perms</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-block-core.BlockPermission" title="QMP:block-core.BlockPermission"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockPermission</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Permissions to take on <code class="docutils literal notranslate"><span class="pre">image</span></code> in addition to what
is necessary anyway (which depends on how the blkdebug node is
used).  Defaults to none.  (since 5.0)</p></li>
<li><p><strong>unshare-child-perms</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-block-core.BlockPermission" title="QMP:block-core.BlockPermission"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockPermission</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Permissions not to share on <code class="docutils literal notranslate"><span class="pre">image</span></code> in addition
to what cannot be shared anyway (which depends on how the
blkdebug node is used).  Defaults to none.  (since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsBlklogwrites">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsBlklogwrites</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsBlklogwrites" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for blklogwrites.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- block device</p></li>
<li><p><strong>log</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- block device used to log writes to <code class="docutils literal notranslate"><span class="pre">file</span></code></p></li>
<li><p><strong>log-sector-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- sector size used in logging writes to <code class="docutils literal notranslate"><span class="pre">file</span></code>,
determines granularity of offsets and sizes of writes
(default: 512)</p></li>
<li><p><strong>log-append</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- append to an existing log (default: false)</p></li>
<li><p><strong>log-super-update-interval</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- interval of write requests after which
the log super block is updated to disk (default: 4096)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsBlkverify">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsBlkverify</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsBlkverify" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for blkverify.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- block device to be tested</p></li>
<li><p><strong>raw</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- raw image used for verification</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsBlkreplay">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsBlkreplay</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsBlkreplay" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for blkreplay.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- disk image which should be controlled with blkreplay</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.QuorumReadPattern">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QuorumReadPattern</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.QuorumReadPattern" title="Link to this definition"></a></dt>
<dd><p>An enumeration of quorum read patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quorum</strong> -- read all the children and do a quorum vote on reads</p></li>
<li><p><strong>fifo</strong> -- read only from the first child that has not failed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsQuorum">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsQuorum</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsQuorum" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for Quorum</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blkverify</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if the driver must print content mismatch set to
false by default</p></li>
<li><p><strong>children</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the children block devices to use</p></li>
<li><p><strong>vote-threshold</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the vote limit under which a read will fail</p></li>
<li><p><strong>rewrite-corrupted</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- rewrite corrupted data when quorum is reached
(Since 2.1)</p></li>
<li><p><strong>read-pattern</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.QuorumReadPattern" title="QMP:block-core.QuorumReadPattern"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QuorumReadPattern</span></code></a>, <em>optional</em></span>) -- choose read pattern and set to quorum by default
(Since 2.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsGluster">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsGluster</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsGluster" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for Gluster</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of gluster volume where VM image resides</p></li>
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- absolute path to image file in gluster volume</p></li>
<li><p><strong>server</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- gluster servers description</p></li>
<li><p><strong>debug</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- libgfapi log level (default '4' which is Error) (Since 2.8)</p></li>
<li><p><strong>logfile</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- libgfapi log file (default /dev/stderr) (Since 2.8)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsIoUring">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsIoUring</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsIoUring" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_BLKIO</span></code></div>
</div>
<p>Driver specific block device options for the io_uring backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the image file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsNvmeIoUring">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsNvmeIoUring</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsNvmeIoUring" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_BLKIO</span></code></div>
</div>
<p>Driver specific block device options for the nvme-io_uring backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the NVMe namespace's character device (e.g.
/dev/ng0n1).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsVirtioBlkVfioPci">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsVirtioBlkVfioPci</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsVirtioBlkVfioPci" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_BLKIO</span></code></div>
</div>
<p>Driver specific block device options for the virtio-blk-vfio-pci
backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the PCI device's sysfs directory (e.g.
/sys/bus/pci/devices/0000:00:01.0).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsVirtioBlkVhostUser">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsVirtioBlkVhostUser</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsVirtioBlkVhostUser" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_BLKIO</span></code></div>
</div>
<p>Driver specific block device options for the virtio-blk-vhost-user
backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the vhost-user UNIX domain socket.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsVirtioBlkVhostVdpa">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsVirtioBlkVhostVdpa</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsVirtioBlkVhostVdpa" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_BLKIO</span></code></div>
</div>
<p>Driver specific block device options for the virtio-blk-vhost-vdpa
backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the vhost-vdpa character device.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>fdset</strong> -- Member <code class="docutils literal notranslate"><span class="pre">path</span></code> supports the special &quot;/dev/fdset/N&quot; path
(since 8.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.IscsiTransport">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IscsiTransport</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.IscsiTransport" title="Link to this definition"></a></dt>
<dd><p>An enumeration of libiscsi transport types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tcp</strong> -- Not documented</p></li>
<li><p><strong>iser</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.IscsiHeaderDigest">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IscsiHeaderDigest</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.IscsiHeaderDigest" title="Link to this definition"></a></dt>
<dd><p>An enumeration of header digests supported by libiscsi</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crc32c</strong> -- Not documented</p></li>
<li><p><strong>none</strong> -- Not documented</p></li>
<li><p><strong>crc32c-none</strong> -- Not documented</p></li>
<li><p><strong>none-crc32c</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsIscsi">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsIscsi</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsIscsi" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for iscsi</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transport</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.IscsiTransport" title="QMP:block-core.IscsiTransport"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IscsiTransport</span></code></a></span>) -- The iscsi transport type</p></li>
<li><p><strong>portal</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The address of the iscsi portal</p></li>
<li><p><strong>target</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The target iqn name</p></li>
<li><p><strong>lun</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- LUN to connect to.  Defaults to 0.</p></li>
<li><p><strong>user</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- User name to log in with.  If omitted, no CHAP authentication
is performed.</p></li>
<li><p><strong>password-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The ID of a QCryptoSecret object providing the
password for the login.  This option is required if <code class="docutils literal notranslate"><span class="pre">user</span></code> is
specified.</p></li>
<li><p><strong>initiator-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The iqn name we want to identify to the target as.
If this option is not specified, an initiator name is generated
automatically.</p></li>
<li><p><strong>header-digest</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.IscsiHeaderDigest" title="QMP:block-core.IscsiHeaderDigest"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IscsiHeaderDigest</span></code></a>, <em>optional</em></span>) -- The desired header digest.  Defaults to none-crc32c.</p></li>
<li><p><strong>timeout</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Timeout in seconds after which a request will timeout.  0
means no timeout and is the default.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.RbdAuthMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdAuthMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.RbdAuthMode" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cephx</strong> -- Not documented</p></li>
<li><p><strong>none</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.RbdImageEncryptionFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdImageEncryptionFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#enum-QMP-block-core.RbdImageEncryptionFormat" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>luks-any</strong> -- Used for opening either luks or luks2 (Since 8.0)</p></li>
<li><p><strong>luks</strong> -- Not documented</p></li>
<li><p><strong>luks2</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionOptionsLUKSBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionOptionsLUKSBase</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionOptionsLUKSBase" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- ID of a QCryptoSecret object providing a passphrase for
unlocking the encryption</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionCreateOptionsLUKSBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionCreateOptionsLUKSBase</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionCreateOptionsLUKSBase" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cipher-alg</strong> (<span><a class="reference internal" href="#enum-QMP-crypto.QCryptoCipherAlgo" title="QMP:crypto.QCryptoCipherAlgo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoCipherAlgo</span></code></a>, <em>optional</em></span>) -- The encryption algorithm</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptionsLUKSBase" title="QMP:block-core.RbdEncryptionOptionsLUKSBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptionsLUKSBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionOptionsLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionOptionsLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionOptionsLUKS" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptionsLUKSBase" title="QMP:block-core.RbdEncryptionOptionsLUKSBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptionsLUKSBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionOptionsLUKS2">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionOptionsLUKS2</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionOptionsLUKS2" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptionsLUKSBase" title="QMP:block-core.RbdEncryptionOptionsLUKSBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptionsLUKSBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionOptionsLUKSAny">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionOptionsLUKSAny</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionOptionsLUKSAny" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptionsLUKSBase" title="QMP:block-core.RbdEncryptionOptionsLUKSBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptionsLUKSBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionCreateOptionsLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionCreateOptionsLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionCreateOptionsLUKS" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionCreateOptionsLUKSBase" title="QMP:block-core.RbdEncryptionCreateOptionsLUKSBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionCreateOptionsLUKSBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionCreateOptionsLUKS2">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionCreateOptionsLUKS2</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionCreateOptionsLUKS2" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionCreateOptionsLUKSBase" title="QMP:block-core.RbdEncryptionCreateOptionsLUKSBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionCreateOptionsLUKSBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionOptions" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.RbdImageEncryptionFormat" title="QMP:block-core.RbdImageEncryptionFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdImageEncryptionFormat</span></code></a></span>) -- Encryption format.</p></li>
<li><p><strong>parent</strong> (<span><a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptions" title="QMP:block-core.RbdEncryptionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptions</span></code></a>, <em>optional</em></span>) -- Parent image encryption options (for cloned images).  Can
be left unspecified if this cloned image is encrypted using the
same format and secret as its parent image (i.e. not explicitly
formatted) or if its parent image is not encrypted.  (Since 8.0)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptionsLUKS" title="QMP:block-core.RbdEncryptionOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptionsLUKS</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks2</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptionsLUKS2" title="QMP:block-core.RbdEncryptionOptionsLUKS2"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptionsLUKS2</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks-any</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptionsLUKSAny" title="QMP:block-core.RbdEncryptionOptionsLUKSAny"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptionsLUKSAny</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.RbdEncryptionCreateOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RbdEncryptionCreateOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-block-core.RbdEncryptionCreateOptions" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.RbdImageEncryptionFormat" title="QMP:block-core.RbdImageEncryptionFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdImageEncryptionFormat</span></code></a></span>) -- Encryption format.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionCreateOptionsLUKS" title="QMP:block-core.RbdEncryptionCreateOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionCreateOptionsLUKS</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">format</span></code> is <code class="docutils literal notranslate"><span class="pre">luks2</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.RbdEncryptionCreateOptionsLUKS2" title="QMP:block-core.RbdEncryptionCreateOptionsLUKS2"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionCreateOptionsLUKS2</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsRbd">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsRbd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsRbd" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Ceph pool name.</p></li>
<li><p><strong>namespace</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Rados namespace name in the Ceph pool.  (Since 5.0)</p></li>
<li><p><strong>image</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Image name in the Ceph pool.</p></li>
<li><p><strong>conf</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- path to Ceph configuration file.  Values in the configuration
file will be overridden by options specified via QAPI.</p></li>
<li><p><strong>snapshot</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Ceph snapshot name.</p></li>
<li><p><strong>encrypt</strong> (<span><a class="reference internal" href="#object-QMP-block-core.RbdEncryptionOptions" title="QMP:block-core.RbdEncryptionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionOptions</span></code></a>, <em>optional</em></span>) -- Image encryption options.  (Since 6.1)</p></li>
<li><p><strong>user</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Ceph id name.</p></li>
<li><p><strong>auth-client-required</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-block-core.RbdAuthMode" title="QMP:block-core.RbdAuthMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdAuthMode</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Acceptable authentication modes.  This maps
to Ceph configuration option &quot;auth_client_required&quot;.
(Since 3.0)</p></li>
<li><p><strong>key-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of a QCryptoSecret object providing a key for cephx
authentication.  This maps to Ceph configuration option &quot;key&quot;.
(Since 3.0)</p></li>
<li><p><strong>server</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-sockets.InetSocketAddressBase" title="QMP:sockets.InetSocketAddressBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InetSocketAddressBase</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Monitor host address and port.  This maps to the &quot;mon_host&quot;
Ceph option.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.ReplicationMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ReplicationMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.ReplicationMode" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>An enumeration of replication modes.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>primary</strong> -- Primary mode, the vm's state will be sent to secondary
QEMU.</p></li>
<li><p><strong>secondary</strong> -- Secondary mode, receive the vm's state from primary
QEMU.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsReplication">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsReplication</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsReplication" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>Driver specific block device options for replication</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.ReplicationMode" title="QMP:block-core.ReplicationMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ReplicationMode</span></code></a></span>) -- the replication mode</p></li>
<li><p><strong>top-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- In secondary mode, node name or device ID of the root node
who owns the replication node chain.  Must not be given in
primary mode.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.NFSTransport">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NFSTransport</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#enum-QMP-block-core.NFSTransport" title="Link to this definition"></a></dt>
<dd><p>An enumeration of NFS transport types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inet</strong> -- TCP transport</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.NFSServer">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NFSServer</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.NFSServer" title="Link to this definition"></a></dt>
<dd><p>Captures the address of the socket</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.NFSTransport" title="QMP:block-core.NFSTransport"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NFSTransport</span></code></a></span>) -- transport type used for NFS (only TCP supported)</p></li>
<li><p><strong>host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- host address for NFS server</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsNfs">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsNfs</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsNfs" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device option for NFS</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-block-core.NFSServer" title="QMP:block-core.NFSServer"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NFSServer</span></code></a></span>) -- host address</p></li>
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path of the image on the host</p></li>
<li><p><strong>user</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- UID value to use when talking to the server (defaults to
65534 on Windows and getuid() on unix)</p></li>
<li><p><strong>group</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- GID value to use when talking to the server (defaults to
65534 on Windows and getgid() in unix)</p></li>
<li><p><strong>tcp-syn-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of SYNs during the session establishment
(defaults to libnfs default)</p></li>
<li><p><strong>readahead-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- set the readahead size in bytes (defaults to libnfs
default)</p></li>
<li><p><strong>page-cache-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- set the pagecache size in bytes (defaults to
libnfs default)</p></li>
<li><p><strong>debug</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- set the NFS debug level (max 2) (defaults to libnfs default)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsCurlBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsCurlBase</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsCurlBase" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options shared by all protocols
supported by the curl backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- URL of the image file</p></li>
<li><p><strong>readahead</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Size of the read-ahead cache; must be a multiple of 512
(defaults to 256 kB)</p></li>
<li><p><strong>timeout</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Timeout for connections, in seconds (defaults to 5)</p></li>
<li><p><strong>username</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Username for authentication (defaults to none)</p></li>
<li><p><strong>password-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of a QCryptoSecret object providing a password
for authentication (defaults to no password)</p></li>
<li><p><strong>proxy-username</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Username for proxy authentication (defaults to
none)</p></li>
<li><p><strong>proxy-password-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of a QCryptoSecret object providing a
password for proxy authentication (defaults to no password)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsCurlHttp">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsCurlHttp</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsCurlHttp" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for HTTP connections over the
curl backend.  URLs must start with &quot;<a class="reference external" href="http://">http://</a>&quot;.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cookie</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- List of cookies to set; format is &quot;name1=content1;
name2=content2;&quot; as explained by CURLOPT_COOKIE(3).  Defaults to
no cookies.</p></li>
<li><p><strong>cookie-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of a QCryptoSecret object providing the cookie
data in a secure way.  See <code class="docutils literal notranslate"><span class="pre">cookie</span></code> for the format.  (since 2.10)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCurlBase" title="QMP:block-core.BlockdevOptionsCurlBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCurlBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsCurlHttps">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsCurlHttps</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsCurlHttps" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for HTTPS connections over the
curl backend.  URLs must start with &quot;<a class="reference external" href="https://">https://</a>&quot;.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cookie</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- List of cookies to set; format is &quot;name1=content1;
name2=content2;&quot; as explained by CURLOPT_COOKIE(3).  Defaults to
no cookies.</p></li>
<li><p><strong>sslverify</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether to verify the SSL certificate's validity
(defaults to true)</p></li>
<li><p><strong>cookie-secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of a QCryptoSecret object providing the cookie
data in a secure way.  See <code class="docutils literal notranslate"><span class="pre">cookie</span></code> for the format.  (since 2.10)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCurlBase" title="QMP:block-core.BlockdevOptionsCurlBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCurlBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsCurlFtp">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsCurlFtp</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsCurlFtp" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for FTP connections over the
curl backend.  URLs must start with &quot;<a class="reference external" href="ftp://">ftp://</a>&quot;.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCurlBase" title="QMP:block-core.BlockdevOptionsCurlBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCurlBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsCurlFtps">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsCurlFtps</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsCurlFtps" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for FTPS connections over the
curl backend.  URLs must start with &quot;ftps://&quot;.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sslverify</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether to verify the SSL certificate's validity
(defaults to true)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCurlBase" title="QMP:block-core.BlockdevOptionsCurlBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCurlBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsNbd">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsNbd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsNbd" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for NBD.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a></span>) -- NBD server address</p></li>
<li><p><strong>export</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- export name</p></li>
<li><p><strong>tls-creds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- TLS credentials ID</p></li>
<li><p><strong>tls-hostname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- TLS hostname override for certificate validation
(Since 7.0)</p></li>
<li><p><strong>x-dirty-bitmap</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- A metadata context name such as
&quot;qemu:dirty-bitmap:NAME&quot; or &quot;qemu:allocation-depth&quot; to query in
place of the traditional &quot;base:allocation&quot; block status (see
NBD_OPT_LIST_META_CONTEXT in the NBD protocol; and yes, naming
this option x-context would have made more sense) (since 3.0)</p></li>
<li><p><strong>reconnect-delay</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- On an unexpected disconnect, the nbd client tries
to connect again until succeeding or encountering a serious
error.  During the first <code class="docutils literal notranslate"><span class="pre">reconnect-delay</span></code> seconds, all requests
are paused and will be rerun on a successful reconnect.  After
that time, any delayed requests and all future requests before a
successful reconnect will immediately fail.  Default 0
(Since 4.2)</p></li>
<li><p><strong>open-timeout</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- In seconds.  If zero, the nbd driver tries the
connection only once, and fails to open if the connection fails.
If non-zero, the nbd driver will repeat connection attempts
until successful or until <code class="docutils literal notranslate"><span class="pre">open-timeout</span></code> seconds have elapsed.
Default 0 (Since 7.0)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Member <code class="docutils literal notranslate"><span class="pre">x-dirty-bitmap</span></code> is experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsRaw">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsRaw</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsRaw" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for the raw driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- position where the block device starts</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the assumed size of the device</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsThrottle">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsThrottle</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsThrottle" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for the throttle driver</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>throttle-group</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the throttle-group object to use.  It
must already exist.</p></li>
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- reference to or definition of the data source block device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsCor">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsCor</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsCor" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for the copy-on-read driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bottom</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name of a non-filter node (allocation-bearing layer)
that limits the COR operations in the backing chain (inclusive),
so that no data below this node will be copied by this filter.
If option is absent, the limit is not applied, so that data from
all backing layers may be copied.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.OnCbwError">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OnCbwError</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-block-core.OnCbwError" title="Link to this definition"></a></dt>
<dd><p>An enumeration of possible behaviors for copy-before-write operation
failures.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>break-guest-write</strong> -- report the error to the guest.  This way, the
guest will not be able to overwrite areas that cannot be backed
up, so the backup process remains valid.</p></li>
<li><p><strong>break-snapshot</strong> -- continue guest write.  Doing so will make the
provided snapshot state invalid and any backup or export process
based on it will finally fail.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptionsCbw">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptionsCbw</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptionsCbw" title="Link to this definition"></a></dt>
<dd><p>Driver specific block device options for the copy-before-write
driver, which does so called copy-before-write operations: when data
is written to the filter, the filter first reads corresponding
blocks from its file child and copies them to <code class="docutils literal notranslate"><span class="pre">target</span></code> child.  After
successfully copying, the write request is propagated to file child.
If copying fails, the original write request is failed too and no
data is written to file child.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- The target for copy-before-write operations.</p></li>
<li><p><strong>bitmap</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a>, <em>optional</em></span>) -- If specified, copy-before-write filter will do
copy-before-write operations only for dirty regions of the
bitmap.  Bitmap size must be equal to length of file and target
child of the filter.  Note also, that bitmap is used only to
initialize internal bitmap of the process, so further
modifications (or removing) of specified bitmap doesn't
influence the filter.  (Since 7.0)</p></li>
<li><p><strong>on-cbw-error</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.OnCbwError" title="QMP:block-core.OnCbwError"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">OnCbwError</span></code></a>, <em>optional</em></span>) -- Behavior on failure of copy-before-write operation.
Default is <code class="docutils literal notranslate"><span class="pre">break-guest-write</span></code>.  (Since 7.1)</p></li>
<li><p><strong>cbw-timeout</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Zero means no limit.  Non-zero sets the timeout in
seconds for copy-before-write operation.  When a timeout occurs,
the respective copy-before-write operation will fail, and the
<code class="docutils literal notranslate"><span class="pre">on-cbw-error</span></code> parameter will decide how this failure is handled.
Default 0.  (Since 7.1)</p></li>
<li><p><strong>min-cluster-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Minimum size of blocks used by copy-before-write
operations.  Has to be a power of 2.  No effect if smaller than
the maximum of the target's cluster size and 64 KiB.  Default 0.
(Since 9.2)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevOptions" title="Link to this definition"></a></dt>
<dd><p>Options for creating a block device.  Many options are available for
all block devices, independent of the block driver:</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDriver" title="QMP:block-core.BlockdevDriver"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDriver</span></code></a></span>) -- block driver name</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the node name of the new node.  This option is required
on the top level of <a class="reference internal" href="#command-QMP-block-core.blockdev-add" title="QMP:block-core.blockdev-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-add</span></code></a>.  Valid node names start with
an alphabetic character and may contain only alphanumeric
characters, '-', '.' and '_'.  Their maximum length is 31
characters.  (Since 2.0)</p></li>
<li><p><strong>discard</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDiscardOptions" title="QMP:block-core.BlockdevDiscardOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDiscardOptions</span></code></a>, <em>optional</em></span>) -- discard-related options (default: ignore)</p></li>
<li><p><strong>cache</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevCacheOptions" title="QMP:block-core.BlockdevCacheOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCacheOptions</span></code></a>, <em>optional</em></span>) -- cache-related options</p></li>
<li><p><strong>active</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether the block node should be activated (default: true).
Having inactive block nodes is useful primarily for migration because it
allows opening an image on the destination while the source is still
holding locks for it.  (Since 10.0)</p></li>
<li><p><strong>read-only</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether the block device should be read-only (default:
false).  Note that some block drivers support only read-only
access, either generally or in certain configurations.  In this
case, the default value does not work and the option must be
specified explicitly.</p></li>
<li><p><strong>auto-read-only</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true and <code class="docutils literal notranslate"><span class="pre">read-only</span></code> is false, QEMU may
automatically decide not to open the image read-write as
requested, but fall back to read-only instead (and switch
between the modes later), e.g. depending on whether the image
file is writable or whether a writing user is attached to the
node (default: false, since 3.1)</p></li>
<li><p><strong>detect-zeroes</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDetectZeroesOptions" title="QMP:block-core.BlockdevDetectZeroesOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDetectZeroesOptions</span></code></a>, <em>optional</em></span>) -- detect and optimize zero writes (Since 2.1)
(default: off)</p></li>
<li><p><strong>force-share</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- force share all permission on added nodes.  Requires
read-only=true.  (Since 2.10)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">blkdebug</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsBlkdebug" title="QMP:block-core.BlockdevOptionsBlkdebug"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsBlkdebug</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">blklogwrites</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsBlklogwrites" title="QMP:block-core.BlockdevOptionsBlklogwrites"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsBlklogwrites</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">blkverify</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsBlkverify" title="QMP:block-core.BlockdevOptionsBlkverify"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsBlkverify</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">blkreplay</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsBlkreplay" title="QMP:block-core.BlockdevOptionsBlkreplay"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsBlkreplay</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">bochs</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">cloop</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">compress</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">copy-before-write</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCbw" title="QMP:block-core.BlockdevOptionsCbw"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCbw</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">copy-on-read</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCor" title="QMP:block-core.BlockdevOptionsCor"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCor</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">dmg</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">file</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsFile" title="QMP:block-core.BlockdevOptionsFile"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsFile</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">ftp</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCurlFtp" title="QMP:block-core.BlockdevOptionsCurlFtp"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCurlFtp</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">ftps</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCurlFtps" title="QMP:block-core.BlockdevOptionsCurlFtps"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCurlFtps</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">gluster</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGluster" title="QMP:block-core.BlockdevOptionsGluster"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGluster</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">host_cdrom</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsFile" title="QMP:block-core.BlockdevOptionsFile"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsFile</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">host_device</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsFile" title="QMP:block-core.BlockdevOptionsFile"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsFile</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">http</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCurlHttp" title="QMP:block-core.BlockdevOptionsCurlHttp"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCurlHttp</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">https</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsCurlHttps" title="QMP:block-core.BlockdevOptionsCurlHttps"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsCurlHttps</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">io_uring</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsIoUring" title="QMP:block-core.BlockdevOptionsIoUring"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsIoUring</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">iscsi</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsIscsi" title="QMP:block-core.BlockdevOptionsIscsi"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsIscsi</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsLUKS" title="QMP:block-core.BlockdevOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsLUKS</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">nbd</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsNbd" title="QMP:block-core.BlockdevOptionsNbd"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsNbd</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">nfs</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsNfs" title="QMP:block-core.BlockdevOptionsNfs"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsNfs</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">null-aio</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsNull" title="QMP:block-core.BlockdevOptionsNull"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsNull</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">null-co</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsNull" title="QMP:block-core.BlockdevOptionsNull"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsNull</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">nvme</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsNVMe" title="QMP:block-core.BlockdevOptionsNVMe"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsNVMe</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">nvme-io_uring</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsNvmeIoUring" title="QMP:block-core.BlockdevOptionsNvmeIoUring"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsNvmeIoUring</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">parallels</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">preallocate</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsPreallocate" title="QMP:block-core.BlockdevOptionsPreallocate"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsPreallocate</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">qcow2</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsQcow2" title="QMP:block-core.BlockdevOptionsQcow2"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsQcow2</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">qcow</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsQcow" title="QMP:block-core.BlockdevOptionsQcow"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsQcow</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">qed</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericCOWFormat" title="QMP:block-core.BlockdevOptionsGenericCOWFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericCOWFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">quorum</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsQuorum" title="QMP:block-core.BlockdevOptionsQuorum"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsQuorum</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">raw</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsRaw" title="QMP:block-core.BlockdevOptionsRaw"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsRaw</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">rbd</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsRbd" title="QMP:block-core.BlockdevOptionsRbd"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsRbd</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">replication</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsReplication" title="QMP:block-core.BlockdevOptionsReplication"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsReplication</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">snapshot-access</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">ssh</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsSsh" title="QMP:block-core.BlockdevOptionsSsh"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsSsh</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">throttle</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsThrottle" title="QMP:block-core.BlockdevOptionsThrottle"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsThrottle</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vdi</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vhdx</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">virtio-blk-vfio-pci</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsVirtioBlkVfioPci" title="QMP:block-core.BlockdevOptionsVirtioBlkVfioPci"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsVirtioBlkVfioPci</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">virtio-blk-vhost-user</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsVirtioBlkVhostUser" title="QMP:block-core.BlockdevOptionsVirtioBlkVhostUser"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsVirtioBlkVhostUser</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">virtio-blk-vhost-vdpa</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsVirtioBlkVhostVdpa" title="QMP:block-core.BlockdevOptionsVirtioBlkVhostVdpa"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsVirtioBlkVhostVdpa</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vmdk</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericCOWFormat" title="QMP:block-core.BlockdevOptionsGenericCOWFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericCOWFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vpc</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGenericFormat" title="QMP:block-core.BlockdevOptionsGenericFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGenericFormat</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vvfat</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsVVFAT" title="QMP:block-core.BlockdevOptionsVVFAT"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsVVFAT</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi alternate">
<dt class="sig sig-object qapi" id="alternate-QMP-block-core.BlockdevRef">
<em class="property"><span class="k"><span class="pre">Alternate</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevRef</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#alternate-QMP-block-core.BlockdevRef" title="Link to this definition"></a></dt>
<dd><p>Reference to a block device.</p>
<dl class="field-list simple">
<dt class="field-odd">Alternatives<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>definition</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevOptions" title="QMP:block-core.BlockdevOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptions</span></code></a></span>) -- defines a new block device inline</p></li>
<li><p><strong>reference</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- references the ID of an existing block device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi alternate">
<dt class="sig sig-object qapi" id="alternate-QMP-block-core.BlockdevRefOrNull">
<em class="property"><span class="k"><span class="pre">Alternate</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevRefOrNull</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#alternate-QMP-block-core.BlockdevRefOrNull" title="Link to this definition"></a></dt>
<dd><p>Reference to a block device.</p>
<dl class="field-list simple">
<dt class="field-odd">Alternatives<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>definition</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevOptions" title="QMP:block-core.BlockdevOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptions</span></code></a></span>) -- defines a new block device inline</p></li>
<li><p><strong>reference</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- references the ID of an existing block device.  An empty
string means that no block device should be referenced.
Deprecated; use null instead.</p></li>
<li><p><strong>null</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">null</span></code></span>) -- No block device should be referenced (since 2.10)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-add">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-add</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-add" title="Link to this definition"></a></dt>
<dd><p>Creates a new block device.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevOptions" title="QMP:block-core.BlockdevOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test.qcow2&quot;</span>
<span class="w">           </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node0&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;discard&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unmap&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;direct&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">           </span><span class="p">},</span>
<span class="w">           </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/test.qcow2&quot;</span>
<span class="w">           </span><span class="p">},</span>
<span class="w">           </span><span class="nt">&quot;backing&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;raw&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/dev/fdset/4&quot;</span>
<span class="w">               </span><span class="p">}</span>
<span class="w">           </span><span class="p">}</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">     </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-reopen">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-reopen</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-reopen" title="Link to this definition"></a></dt>
<dd><p>Reopens one or more block devices using the given set of options.
Any option not specified will be reset to its default value
regardless of its previous status.  If an option cannot be changed
or a particular driver does not support reopening then the command
will return an error.  All devices in the list are reopened in one
transaction, so if one of them fails then the whole transaction is
cancelled.</p>
<p>The command receives a list of block devices to reopen.  For each
one of them, the top-level <code class="docutils literal notranslate"><span class="pre">node-name</span></code> option (from <a class="reference internal" href="#object-QMP-block-core.BlockdevOptions" title="QMP:block-core.BlockdevOptions"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockdevOptions</span></code></a>)
must be specified and is used to select the block device to be
reopened.  Other <code class="docutils literal notranslate"><span class="pre">node-name</span></code> options must be either omitted or set to
the current name of the appropriate node.  This command won't change
any node name and any attempt to do it will result in an error.</p>
<p>In the case of options that refer to child nodes, the behavior of
this command depends on the value:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>A set of options (<a class="reference internal" href="#object-QMP-block-core.BlockdevOptions" title="QMP:block-core.BlockdevOptions"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockdevOptions</span></code></a>): the child is reopened with
the specified set of options.</p></li>
<li><p>A reference to the current child: the child is reopened using
its existing set of options.</p></li>
<li><p>A reference to a different node: the current child is replaced
with the specified one.</p></li>
<li><p>null: the current child (if any) is detached.</p></li>
</ol>
</div></blockquote>
<p>Options (1) and (2) are supported in all cases.  Option (3) is
supported for <code class="docutils literal notranslate"><span class="pre">file</span></code> and <code class="docutils literal notranslate"><span class="pre">backing</span></code>, and option (4) for <code class="docutils literal notranslate"><span class="pre">backing</span></code> only.</p>
<p>Unlike with <a class="reference internal" href="#command-QMP-block-core.blockdev-add" title="QMP:block-core.blockdev-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-add</span></code></a>, the <code class="docutils literal notranslate"><span class="pre">backing</span></code> option must always be present
unless the node being reopened does not have a backing file and its
image does not have a default backing file name as part of its
metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>options</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockdevOptions" title="QMP:block-core.BlockdevOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptions</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-del">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-del</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-del" title="Link to this definition"></a></dt>
<dd><p>Deletes a block device that has been added using <a class="reference internal" href="#command-QMP-block-core.blockdev-add" title="QMP:block-core.blockdev-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-add</span></code></a>.  The
command will fail if the node is attached to a device or is
otherwise being used.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of the graph node to delete.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node0&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test.qcow2&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-del&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node0&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-set-active">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-set-active</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-set-active" title="Link to this definition"></a></dt>
<dd><p>Activate or inactivate a block device.  Use this to manage the handover of
block devices on migration with qemu-storage-daemon.</p>
<p>Activating a node automatically activates all of its child nodes first.
Inactivating a node automatically inactivates any of its child nodes that are
not in use by a still active node.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Name of the graph node to activate or inactivate.  By default, all
nodes are affected by the operation.</p></li>
<li><p><strong>active</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the nodes should be active when the command returns success,
false if they should be inactive.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-set-active&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node0&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsFile">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsFile</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsFile" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for file.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Filename for the new image file</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>preallocation</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.PreallocMode" title="QMP:block-core.PreallocMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PreallocMode</span></code></a>, <em>optional</em></span>) -- Preallocation mode for the new image (default: off;
allowed values: off, falloc (if CONFIG_POSIX_FALLOCATE), full
(if CONFIG_POSIX))</p></li>
<li><p><strong>nocow</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Turn off copy-on-write (valid only on btrfs; default: off)</p></li>
<li><p><strong>extent-size-hint</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Extent size hint to add to the image file; 0 for
not adding an extent size hint (default: 1 MB, since 5.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsGluster">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsGluster</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsGluster" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for gluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsGluster" title="QMP:block-core.BlockdevOptionsGluster"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsGluster</span></code></a></span>) -- Where to store the new image file</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>preallocation</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.PreallocMode" title="QMP:block-core.PreallocMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PreallocMode</span></code></a>, <em>optional</em></span>) -- Preallocation mode for the new image (default: off;
allowed values: off, falloc (if CONFIG_GLUSTERFS_FALLOCATE),
full (if CONFIG_GLUSTERFS_ZEROFILL))</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsLUKS" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for LUKS.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a>, <em>optional</em></span>) -- Node to create the image format on, mandatory except when
'preallocation' is not requested</p></li>
<li><p><strong>header</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a>, <em>optional</em></span>) -- Block device holding a detached LUKS header.  (since 9.0)</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>preallocation</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.PreallocMode" title="QMP:block-core.PreallocMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PreallocMode</span></code></a>, <em>optional</em></span>) -- Preallocation mode for the new image (since: 4.2)
(default: off; allowed values: off, metadata, falloc, full)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockCreateOptionsLUKS" title="QMP:crypto.QCryptoBlockCreateOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockCreateOptionsLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsNfs">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsNfs</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsNfs" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for NFS.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsNfs" title="QMP:block-core.BlockdevOptionsNfs"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsNfs</span></code></a></span>) -- Where to store the new image file</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsParallels">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsParallels</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsParallels" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for parallels.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- Node to create the image format on</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>cluster-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Cluster size in bytes (default: 1 MB)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsQcow">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsQcow</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsQcow" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for qcow.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- Node to create the image format on</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>backing-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- File name of the backing file if a backing file
should be used</p></li>
<li><p><strong>encrypt</strong> (<span><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockCreateOptions" title="QMP:crypto.QCryptoBlockCreateOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockCreateOptions</span></code></a>, <em>optional</em></span>) -- Encryption options if the image should be encrypted</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevQcow2Version">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevQcow2Version</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevQcow2Version" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v2</strong> -- The original QCOW2 format as introduced in QEMU 0.10 (version
2)</p></li>
<li><p><strong>v3</strong> -- The extended QCOW2 format as introduced in QEMU 1.1 (version 3)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.Qcow2CompressionType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Qcow2CompressionType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#enum-QMP-block-core.Qcow2CompressionType" title="Link to this definition"></a></dt>
<dd><p>Compression type used in qcow2 image file</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zlib</strong> -- zlib compression, see &lt;<a class="reference external" href="http://zlib.net/">http://zlib.net/</a>&gt;</p></li>
<li><p><strong>zstd</strong> -- zstd compression, see &lt;<a class="reference external" href="http://github.com/facebook/zstd">http://github.com/facebook/zstd</a>&gt;</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsQcow2">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsQcow2</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsQcow2" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for qcow2.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- Node to create the image format on</p></li>
<li><p><strong>data-file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a>, <em>optional</em></span>) -- Node to use as an external data file in which all guest
data is stored so that only metadata remains in the qcow2 file
(since: 4.0)</p></li>
<li><p><strong>data-file-raw</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- True if the external data file must stay valid as a
standalone (read-only) raw image without looking at qcow2
metadata (default: false; since: 4.0)</p></li>
<li><p><strong>extended-l2</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- True to make the image have extended L2 entries
(default: false; since 5.2)</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>version</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevQcow2Version" title="QMP:block-core.BlockdevQcow2Version"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevQcow2Version</span></code></a>, <em>optional</em></span>) -- Compatibility level (default: v3)</p></li>
<li><p><strong>backing-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- File name of the backing file if a backing file
should be used</p></li>
<li><p><strong>backing-fmt</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDriver" title="QMP:block-core.BlockdevDriver"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDriver</span></code></a>, <em>optional</em></span>) -- Name of the block driver to use for the backing file</p></li>
<li><p><strong>encrypt</strong> (<span><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockCreateOptions" title="QMP:crypto.QCryptoBlockCreateOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockCreateOptions</span></code></a>, <em>optional</em></span>) -- Encryption options if the image should be encrypted</p></li>
<li><p><strong>cluster-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- qcow2 cluster size in bytes (default: 65536)</p></li>
<li><p><strong>preallocation</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.PreallocMode" title="QMP:block-core.PreallocMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PreallocMode</span></code></a>, <em>optional</em></span>) -- Preallocation mode for the new image (default: off;
allowed values: off, falloc, full, metadata)</p></li>
<li><p><strong>lazy-refcounts</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- True if refcounts may be updated lazily
(default: off)</p></li>
<li><p><strong>refcount-bits</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Width of reference counts in bits (default: 16)</p></li>
<li><p><strong>compression-type</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.Qcow2CompressionType" title="QMP:block-core.Qcow2CompressionType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Qcow2CompressionType</span></code></a>, <em>optional</em></span>) -- The image cluster compression method
(default: zlib, since 5.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsQed">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsQed</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsQed" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for qed.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- Node to create the image format on</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>backing-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- File name of the backing file if a backing file
should be used</p></li>
<li><p><strong>backing-fmt</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDriver" title="QMP:block-core.BlockdevDriver"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDriver</span></code></a>, <em>optional</em></span>) -- Name of the block driver to use for the backing file</p></li>
<li><p><strong>cluster-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Cluster size in bytes (default: 65536)</p></li>
<li><p><strong>table-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- L1/L2 table size (in clusters)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsRbd">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsRbd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsRbd" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for rbd/Ceph.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsRbd" title="QMP:block-core.BlockdevOptionsRbd"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsRbd</span></code></a></span>) -- Where to store the new image file.  This location cannot
point to a snapshot.</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>cluster-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- RBD object size</p></li>
<li><p><strong>encrypt</strong> (<span><a class="reference internal" href="#object-QMP-block-core.RbdEncryptionCreateOptions" title="QMP:block-core.RbdEncryptionCreateOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RbdEncryptionCreateOptions</span></code></a>, <em>optional</em></span>) -- Image encryption options.  (Since 6.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevVmdkSubformat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevVmdkSubformat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevVmdkSubformat" title="Link to this definition"></a></dt>
<dd><p>Subformat options for VMDK images</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>monolithicSparse</strong> -- Single file image with sparse cluster allocation</p></li>
<li><p><strong>monolithicFlat</strong> -- Single flat data image and a descriptor file</p></li>
<li><p><strong>twoGbMaxExtentSparse</strong> -- Data is split into 2GB (per virtual LBA)
sparse extent files, in addition to a descriptor file</p></li>
<li><p><strong>twoGbMaxExtentFlat</strong> -- Data is split into 2GB (per virtual LBA) flat
extent files, in addition to a descriptor file</p></li>
<li><p><strong>streamOptimized</strong> -- Single file image sparse cluster allocation,
optimized for streaming over network.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevVmdkAdapterType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevVmdkAdapterType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevVmdkAdapterType" title="Link to this definition"></a></dt>
<dd><p>Adapter type info for VMDK images</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ide</strong> -- Not documented</p></li>
<li><p><strong>buslogic</strong> -- Not documented</p></li>
<li><p><strong>lsilogic</strong> -- Not documented</p></li>
<li><p><strong>legacyESX</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsVmdk">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsVmdk</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsVmdk" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for VMDK.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- Where to store the new image file.  This refers to the image
file for monolithcSparse and streamOptimized format, or the
descriptor file for other formats.</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>extents</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Where to store the data extents.  Required for
monolithcFlat, twoGbMaxExtentSparse and twoGbMaxExtentFlat
formats.  For monolithicFlat, only one entry is required; for
twoGbMaxExtent* formats, the number of entries required is
calculated as extent_number = virtual_size / 2GB.  Providing
more extents than will be used is an error.</p></li>
<li><p><strong>subformat</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevVmdkSubformat" title="QMP:block-core.BlockdevVmdkSubformat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevVmdkSubformat</span></code></a>, <em>optional</em></span>) -- The subformat of the VMDK image.  Default:
&quot;monolithicSparse&quot;.</p></li>
<li><p><strong>backing-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The path of backing file.  Default: no backing file
is used.</p></li>
<li><p><strong>adapter-type</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevVmdkAdapterType" title="QMP:block-core.BlockdevVmdkAdapterType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevVmdkAdapterType</span></code></a>, <em>optional</em></span>) -- The adapter type used to fill in the descriptor.
Default: ide.</p></li>
<li><p><strong>hwversion</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Hardware version.  The meaningful options are &quot;4&quot; or
&quot;6&quot;.  Default: &quot;4&quot;.</p></li>
<li><p><strong>toolsversion</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- VMware guest tools version.  Default: &quot;2147483647&quot;
(Since 6.2)</p></li>
<li><p><strong>zeroed-grain</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether to enable zeroed-grain feature for sparse
subformats.  Default: false.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsSsh">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsSsh</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsSsh" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for SSH.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevOptionsSsh" title="QMP:block-core.BlockdevOptionsSsh"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevOptionsSsh</span></code></a></span>) -- Where to store the new image file</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsVdi">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsVdi</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsVdi" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for VDI.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- Node to create the image format on</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>preallocation</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.PreallocMode" title="QMP:block-core.PreallocMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PreallocMode</span></code></a>, <em>optional</em></span>) -- Preallocation mode for the new image (default: off;
allowed values: off, metadata)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevVhdxSubformat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevVhdxSubformat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevVhdxSubformat" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dynamic</strong> -- Growing image file</p></li>
<li><p><strong>fixed</strong> -- Preallocated fixed-size image file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsVhdx">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsVhdx</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsVhdx" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for vhdx.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- Node to create the image format on</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>log-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Log size in bytes, must be a multiple of 1 MB (default: 1
MB)</p></li>
<li><p><strong>block-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Block size in bytes, must be a multiple of 1 MB and not
larger than 256 MB (default: automatically choose a block size
depending on the image size)</p></li>
<li><p><strong>subformat</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevVhdxSubformat" title="QMP:block-core.BlockdevVhdxSubformat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevVhdxSubformat</span></code></a>, <em>optional</em></span>) -- vhdx subformat (default: dynamic)</p></li>
<li><p><strong>block-state-zero</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Force use of payload blocks of type 'ZERO'.
Non-standard, but default.  Do not set to 'off' when using
'qemu-img convert' with subformat=dynamic.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevVpcSubformat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevVpcSubformat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevVpcSubformat" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dynamic</strong> -- Growing image file</p></li>
<li><p><strong>fixed</strong> -- Preallocated fixed-size image file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptionsVpc">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptionsVpc</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptionsVpc" title="Link to this definition"></a></dt>
<dd><p>Driver specific image creation options for vpc (VHD).</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><a class="reference internal" href="#alternate-QMP-block-core.BlockdevRef" title="QMP:block-core.BlockdevRef"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevRef</span></code></a></span>) -- Node to create the image format on</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the virtual disk in bytes</p></li>
<li><p><strong>subformat</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevVpcSubformat" title="QMP:block-core.BlockdevVpcSubformat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevVpcSubformat</span></code></a>, <em>optional</em></span>) -- vhdx subformat (default: dynamic)</p></li>
<li><p><strong>force-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Force use of the exact byte size instead of rounding to
the next size that can be represented in CHS geometry
(default: false)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevCreateOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevCreateOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevCreateOptions" title="Link to this definition"></a></dt>
<dd><p>Options for creating an image format on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDriver" title="QMP:block-core.BlockdevDriver"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDriver</span></code></a></span>) -- block driver to create the image format</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">file</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsFile" title="QMP:block-core.BlockdevCreateOptionsFile"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsFile</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">gluster</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsGluster" title="QMP:block-core.BlockdevCreateOptionsGluster"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsGluster</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsLUKS" title="QMP:block-core.BlockdevCreateOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsLUKS</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">nfs</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsNfs" title="QMP:block-core.BlockdevCreateOptionsNfs"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsNfs</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">parallels</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsParallels" title="QMP:block-core.BlockdevCreateOptionsParallels"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsParallels</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">qcow</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsQcow" title="QMP:block-core.BlockdevCreateOptionsQcow"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsQcow</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">qcow2</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsQcow2" title="QMP:block-core.BlockdevCreateOptionsQcow2"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsQcow2</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">qed</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsQed" title="QMP:block-core.BlockdevCreateOptionsQed"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsQed</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">rbd</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsRbd" title="QMP:block-core.BlockdevCreateOptionsRbd"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsRbd</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">ssh</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsSsh" title="QMP:block-core.BlockdevCreateOptionsSsh"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsSsh</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vdi</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsVdi" title="QMP:block-core.BlockdevCreateOptionsVdi"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsVdi</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vhdx</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsVhdx" title="QMP:block-core.BlockdevCreateOptionsVhdx"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsVhdx</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vmdk</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsVmdk" title="QMP:block-core.BlockdevCreateOptionsVmdk"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsVmdk</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">vpc</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptionsVpc" title="QMP:block-core.BlockdevCreateOptionsVpc"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptionsVpc</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-create">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-create</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-create" title="Link to this definition"></a></dt>
<dd><p>Starts a job to create an image format on a given node.  The job is
automatically finalized, but a manual <a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a> is required.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Identifier for the newly created job.</p></li>
<li><p><strong>options</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevCreateOptions" title="QMP:block-core.BlockdevCreateOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevCreateOptions</span></code></a></span>) -- Options for the image creation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevAmendOptionsLUKS">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevAmendOptionsLUKS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevAmendOptionsLUKS" title="Link to this definition"></a></dt>
<dd><p>Driver specific image amend options for LUKS.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-crypto.QCryptoBlockAmendOptionsLUKS" title="QMP:crypto.QCryptoBlockAmendOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockAmendOptionsLUKS</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevAmendOptionsQcow2">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevAmendOptionsQcow2</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevAmendOptionsQcow2" title="Link to this definition"></a></dt>
<dd><p>Driver specific image amend options for qcow2.  For now, only
encryption options can be amended</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>encrypt</strong> (<span><a class="reference internal" href="#object-QMP-crypto.QCryptoBlockAmendOptions" title="QMP:crypto.QCryptoBlockAmendOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptoBlockAmendOptions</span></code></a>, <em>optional</em></span>) -- Encryption options to be amended</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevAmendOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevAmendOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevAmendOptions" title="Link to this definition"></a></dt>
<dd><p>Options for amending an image format</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevDriver" title="QMP:block-core.BlockdevDriver"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevDriver</span></code></a></span>) -- Block driver of the node to amend.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">luks</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevAmendOptionsLUKS" title="QMP:block-core.BlockdevAmendOptionsLUKS"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevAmendOptionsLUKS</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">qcow2</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevAmendOptionsQcow2" title="QMP:block-core.BlockdevAmendOptionsQcow2"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevAmendOptionsQcow2</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.x-blockdev-amend">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-blockdev-amend</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#command-QMP-block-core.x-blockdev-amend" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Starts a job to amend format specific options of an existing open
block device.  The job is automatically finalized, but a manual
<a class="reference internal" href="#command-QMP-job.job-dismiss" title="QMP:job.job-dismiss"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-dismiss</span></code></a> is required.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Identifier for the newly created job.</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of the block node to work on</p></li>
<li><p><strong>options</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevAmendOptions" title="QMP:block-core.BlockdevAmendOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevAmendOptions</span></code></a></span>) -- Options (driver specific)</p></li>
<li><p><strong>force</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Allow unsafe operations, format specific.  For luks that
allows erase of the last active keyslot (permanent loss of
data), and replacement of an active keyslot (possible loss of
data if IO error happens)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockErrorAction">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockErrorAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockErrorAction" title="Link to this definition"></a></dt>
<dd><p>An enumeration of action that has been taken when a DISK I/O occurs</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ignore</strong> -- error has been ignored</p></li>
<li><p><strong>report</strong> -- error has been reported to the device</p></li>
<li><p><strong>stop</strong> -- error caused VM to be stopped</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.BLOCK_IMAGE_CORRUPTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_IMAGE_CORRUPTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#event-QMP-block-core.BLOCK_IMAGE_CORRUPTED" title="Link to this definition"></a></dt>
<dd><p>Emitted when a disk image is being marked corrupt.  The image can be
identified by its device or node name.  The 'device' field is always
present for compatibility reasons, but it can be empty (&quot;&quot;) if the
image does not have a device name associated.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- device name.  This is always present for compatibility
reasons, but it can be empty (&quot;&quot;) if the image does not have a
device name associated.</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- node name (Since: 2.4)</p></li>
<li><p><strong>msg</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- informative message for human consumption, such as the kind of
corruption being detected.  It should not be parsed by machine
as it is not guaranteed to be stable</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- if the corruption resulted from an image access, this is
the host's access offset into the image</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- if the corruption resulted from an image access, this is the
access size</p></li>
<li><p><strong>fatal</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- if set, the image is marked corrupt and therefore unusable
after this event and must be repaired (Since 2.2; before, every
<a class="reference internal" href="#event-QMP-block-core.BLOCK_IMAGE_CORRUPTED" title="QMP:block-core.BLOCK_IMAGE_CORRUPTED"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_IMAGE_CORRUPTED</span></code></a> event was fatal)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If action is &quot;stop&quot;, a <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a> event will eventually follow
the <a class="reference internal" href="#event-QMP-block-core.BLOCK_IO_ERROR" title="QMP:block-core.BLOCK_IO_ERROR"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_IO_ERROR</span></code></a> event.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BLOCK_IMAGE_CORRUPTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;fatal&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;L2 table offset 0x2a2a2a00 unaligned (L1 index: 0)&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1648243240</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">906060</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.BLOCK_IO_ERROR">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_IO_ERROR</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.13)</span></span><a class="headerlink" href="#event-QMP-block-core.BLOCK_IO_ERROR" title="Link to this definition"></a></dt>
<dd><p>Emitted when a disk I/O error occurs</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the device object in the QOM tree (since 9.2)</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- device name.  This is always present for compatibility
reasons, but it can be empty (&quot;&quot;) if the image does not have a
device name associated.</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- node name.  Note that errors may be reported for the
root node that is directly attached to a guest device rather
than for the node where the error occurred.  The node name is
not present if the drive is empty.  (Since: 2.8)</p></li>
<li><p><strong>operation</strong> (<span><a class="reference internal" href="#enum-QMP-common.IoOperationType" title="QMP:common.IoOperationType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IoOperationType</span></code></a></span>) -- I/O operation</p></li>
<li><p><strong>action</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockErrorAction" title="QMP:block-core.BlockErrorAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockErrorAction</span></code></a></span>) -- action that has been taken</p></li>
<li><p><strong>nospace</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if I/O error was caused due to a no-space condition.
This key is only present if query-block's io-status is present,
please see <a class="reference internal" href="#command-QMP-block-core.query-block" title="QMP:block-core.query-block"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-block</span></code></a> documentation for more information
(since: 2.2)</p></li>
<li><p><strong>reason</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- human readable string describing the error cause.  (This
field is a debugging aid for humans, it should not be parsed by
applications) (since: 2.2)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If action is &quot;stop&quot;, a <a class="reference internal" href="#event-QMP-run-state.STOP" title="QMP:run-state.STOP"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">STOP</span></code></a> event will eventually follow
the <a class="reference internal" href="#event-QMP-block-core.BLOCK_IO_ERROR" title="QMP:block-core.BLOCK_IO_ERROR"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_IO_ERROR</span></code></a> event.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BLOCK_IO_ERROR&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[0]&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-hd1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#block212&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;write&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stop&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;No space left on device&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.BLOCK_JOB_COMPLETED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_JOB_COMPLETED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#event-QMP-block-core.BLOCK_JOB_COMPLETED" title="Link to this definition"></a></dt>
<dd><p>Emitted when a block job has completed</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobType" title="QMP:job.JobType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobType</span></code></a></span>) -- job type</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  Originally the device name but other
values are allowed since QEMU 2.7</p></li>
<li><p><strong>len</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- maximum progress value</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- current progress value.  On success this is equal to len.
On failure this is less than len</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- rate limit, bytes per second</p></li>
<li><p><strong>error</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- error message.  Only present on failure.  This field
contains a human-readable error message.  There are no semantics
other than that streaming has failed and clients should not try
to interpret the error string</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BLOCK_JOB_COMPLETED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stream&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-disk0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;len&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10737418240</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10737418240</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;speed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267061043</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">959568</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.BLOCK_JOB_CANCELLED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_JOB_CANCELLED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#event-QMP-block-core.BLOCK_JOB_CANCELLED" title="Link to this definition"></a></dt>
<dd><p>Emitted when a block job has been cancelled</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobType" title="QMP:job.JobType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobType</span></code></a></span>) -- job type</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  Originally the device name but other
values are allowed since QEMU 2.7</p></li>
<li><p><strong>len</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- maximum progress value</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- current progress value.  On success this is equal to len.
On failure this is less than len</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- rate limit, bytes per second</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BLOCK_JOB_CANCELLED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stream&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-disk0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;len&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10737418240</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">134217728</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;speed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267061043</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">959568</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.BLOCK_JOB_ERROR">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_JOB_ERROR</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#event-QMP-block-core.BLOCK_JOB_ERROR" title="Link to this definition"></a></dt>
<dd><p>Emitted when a block job encounters an error</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  Originally the device name but other
values are allowed since QEMU 2.7</p></li>
<li><p><strong>operation</strong> (<span><a class="reference internal" href="#enum-QMP-common.IoOperationType" title="QMP:common.IoOperationType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IoOperationType</span></code></a></span>) -- I/O operation</p></li>
<li><p><strong>action</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockErrorAction" title="QMP:block-core.BlockErrorAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockErrorAction</span></code></a></span>) -- action that has been taken</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BLOCK_JOB_ERROR&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-hd1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;write&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stop&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.BLOCK_JOB_READY">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_JOB_READY</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#event-QMP-block-core.BLOCK_JOB_READY" title="Link to this definition"></a></dt>
<dd><p>Emitted when a block job is ready to complete</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobType" title="QMP:job.JobType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobType</span></code></a></span>) -- job type</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.  Originally the device name but other
values are allowed since QEMU 2.7</p></li>
<li><p><strong>len</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- maximum progress value</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- current progress value.  On success this is equal to len.
On failure this is less than len</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- rate limit, bytes per second</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The &quot;ready to complete&quot; status is always reset by a
<a class="reference internal" href="#event-QMP-block-core.BLOCK_JOB_ERROR" title="QMP:block-core.BLOCK_JOB_ERROR"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">BLOCK_JOB_ERROR</span></code></a> event.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BLOCK_JOB_READY&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mirror&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;speed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;len&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2097152</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2097152</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.BLOCK_JOB_PENDING">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_JOB_PENDING</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#event-QMP-block-core.BLOCK_JOB_PENDING" title="Link to this definition"></a></dt>
<dd><p>Emitted when a block job is awaiting explicit authorization to
finalize graph changes via <a class="reference internal" href="#command-QMP-job.job-finalize" title="QMP:job.job-finalize"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">job-finalize</span></code></a>.  If this job is part
of a transaction, it will not emit this event until the transaction
has converged first.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-job.JobType" title="QMP:job.JobType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JobType</span></code></a></span>) -- job type</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The job identifier.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BLOCK_JOB_PENDING&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mirror&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;backup_1&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.PreallocMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PreallocMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.2)</span></span><a class="headerlink" href="#enum-QMP-block-core.PreallocMode" title="Link to this definition"></a></dt>
<dd><p>Preallocation mode of QEMU image file</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>off</strong> -- no preallocation</p></li>
<li><p><strong>metadata</strong> -- preallocate only for metadata</p></li>
<li><p><strong>falloc</strong> -- like <code class="docutils literal notranslate"><span class="pre">full</span></code> preallocation but allocate disk space by
posix_fallocate() rather than writing data.</p></li>
<li><p><strong>full</strong> -- preallocate all data by writing it to the device to ensure
disk space is really available.  This data may or may not be
zero, depending on the image format and storage.  <code class="docutils literal notranslate"><span class="pre">full</span></code>
preallocation also sets up metadata correctly.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.BLOCK_WRITE_THRESHOLD">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_WRITE_THRESHOLD</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#event-QMP-block-core.BLOCK_WRITE_THRESHOLD" title="Link to this definition"></a></dt>
<dd><p>Emitted when writes on block device reaches or exceeds the
configured write threshold.  For thin-provisioned devices, this
means the device should be extended to avoid pausing for disk
exhaustion.  The event is one shot.  Once triggered, it needs to be
re-registered with another <a class="reference internal" href="#command-QMP-block-core.block-set-write-threshold" title="QMP:block-core.block-set-write-threshold"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-set-write-threshold</span></code></a> command.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- graph node name on which the threshold was exceeded.</p></li>
<li><p><strong>amount-exceeded</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- amount of data which exceeded the threshold, in
bytes.</p></li>
<li><p><strong>write-threshold</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- last configured threshold, in bytes.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-set-write-threshold">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-set-write-threshold</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#command-QMP-block-core.block-set-write-threshold" title="Link to this definition"></a></dt>
<dd><p>Change the write threshold for a block drive.  An event will be
delivered if a write to this block drive crosses the configured
threshold.  The threshold is an offset, thus must be non-negative.
Default is no write threshold.  Setting the threshold to zero
disables it.</p>
<p>This is useful to transparently resize thin-provisioned drives
without the guest OS noticing.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- graph node name on which the threshold must be set.</p></li>
<li><p><strong>write-threshold</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- configured threshold for the block device, bytes.
Use 0 to disable the threshold.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-set-write-threshold&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mydev&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;write-threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">17179869184</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.x-blockdev-change">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-blockdev-change</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#command-QMP-block-core.x-blockdev-change" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Dynamically reconfigure the block driver state graph.</p>
<p>Currently only supports adding and deleting quorum children.  A
child will be added at the end of the list of children.  Its
contents <em>must</em> be consistent with the other childrens' contents.
Deleting a child that is not last in the list of children is
problematic, because it &quot;renumbers&quot; the children following it.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the id or name of the parent node.</p></li>
<li><p><strong>child</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of a child to be deleted.  Mutually exclusive with
<code class="docutils literal notranslate"><span class="pre">node</span></code>.</p></li>
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of the node to be added.  Mutually exclusive with
<code class="docutils literal notranslate"><span class="pre">child</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is experimental.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Add a new node to a quorum</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-add&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;raw&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;new_node&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test.raw&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-blockdev-change&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;parent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disk1&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;new_node&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Delete a quorum's node</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-blockdev-change&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;parent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disk1&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;child&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;children.1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.x-blockdev-set-iothread">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-blockdev-set-iothread</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-block-core.x-blockdev-set-iothread" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Move <code class="docutils literal notranslate"><span class="pre">node</span></code> and its children into the <code class="docutils literal notranslate"><span class="pre">iothread</span></code>.  If <code class="docutils literal notranslate"><span class="pre">iothread</span></code> is
null then move <code class="docutils literal notranslate"><span class="pre">node</span></code> and its children into the main loop.</p>
<p>The node must not be attached to a BlockBackend.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the block driver node</p></li>
<li><p><strong>iothread</strong> (<span><a class="reference internal" href="#alternate-QMP-common.StrOrNull" title="QMP:common.StrOrNull"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StrOrNull</span></code></a></span>) -- the name of the IOThread object or null for the main loop</p></li>
<li><p><strong>force</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if the node and its children should be moved when a
BlockBackend is already attached</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is experimental and intended for test cases
that need control over IOThreads only.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Move a node into an IOThread</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-blockdev-set-iothread&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disk1&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;iothread&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iothread0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Move a node into the main loop</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-blockdev-set-iothread&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disk1&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;iothread&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.QuorumOpType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QuorumOpType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-block-core.QuorumOpType" title="Link to this definition"></a></dt>
<dd><p>An enumeration of the quorum operation types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>read</strong> -- read operation</p></li>
<li><p><strong>write</strong> -- write operation</p></li>
<li><p><strong>flush</strong> -- flush operation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.QUORUM_FAILURE">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QUORUM_FAILURE</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#event-QMP-block-core.QUORUM_FAILURE" title="Link to this definition"></a></dt>
<dd><p>Emitted by the Quorum block driver if it fails to establish a quorum</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reference</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- device name if defined else node name</p></li>
<li><p><strong>sector-num</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of the first sector of the failed read operation</p></li>
<li><p><strong>sectors-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- failed read operation sector count</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;QUORUM_FAILURE&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;reference&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;usr1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sector-num&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">345435</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sectors-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1344522075</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">745528</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.QUORUM_REPORT_BAD">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QUORUM_REPORT_BAD</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#event-QMP-block-core.QUORUM_REPORT_BAD" title="Link to this definition"></a></dt>
<dd><p>Emitted to report a corruption of a Quorum file</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.QuorumOpType" title="QMP:block-core.QuorumOpType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QuorumOpType</span></code></a></span>) -- quorum operation type (Since 2.6)</p></li>
<li><p><strong>error</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- error message.  Only present on failure.  This field
contains a human-readable error message.  There are no semantics
other than that the block layer reported an error and clients
should not try to interpret the error string.</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the graph node name of the block driver state</p></li>
<li><p><strong>sector-num</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of the first sector of the failed read operation</p></li>
<li><p><strong>sectors-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- failed read operation sector count</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Read operation</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;QUORUM_REPORT_BAD&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sector-num&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">345435</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sectors-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;read&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1344522075</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">745528</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Flush operation</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;QUORUM_REPORT_BAD&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sector-num&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sectors-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2097120</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;flush&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Broken pipe&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1456406829</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">291763</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.BlockdevSnapshotInternal">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevSnapshotInternal</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#object-QMP-block-core.BlockdevSnapshotInternal" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device name or node-name of a root node to generate the
snapshot from</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the internal snapshot to be created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-snapshot-internal-sync">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-snapshot-internal-sync</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-snapshot-internal-sync" title="Link to this definition"></a></dt>
<dd><p>Synchronously take an internal snapshot of a block device, when the
format of the image used supports it.  If the name is an empty
string, or a snapshot with name already exists, the operation will
fail.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockdevSnapshotInternal" title="QMP:block-core.BlockdevSnapshotInternal"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshotInternal</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, GenericError</p></li>
<li><p>If any snapshot matching <code class="docutils literal notranslate"><span class="pre">name</span></code> exists, or <code class="docutils literal notranslate"><span class="pre">name</span></code> is empty,
GenericError</p></li>
<li><p>If the format of the image used does not support it,
GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Only some image formats such as qcow2 and rbd support
internal snapshots.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-snapshot-internal-sync&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot0&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-snapshot-delete-internal-sync">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-snapshot-delete-internal-sync</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-snapshot-delete-internal-sync" title="Link to this definition"></a></dt>
<dd><p>Synchronously delete an internal snapshot of a block device, when
the format of the image used support it.  The snapshot is identified
by name or id or both.  One of the name or id is required.  Return
<a class="reference internal" href="#object-QMP-block-core.SnapshotInfo" title="QMP:block-core.SnapshotInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SnapshotInfo</span></code></a> for the successfully deleted snapshot.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device name or node-name of a root node to delete the
snapshot from</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- optional the snapshot's ID to be deleted</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- optional the snapshot's name to be deleted</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-block-core.SnapshotInfo" title="QMP:block-core.SnapshotInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SnapshotInfo</span></code></a></span></p>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, GenericError</p></li>
<li><p>If snapshot not found, GenericError</p></li>
<li><p>If the format of the image used does not support it,
GenericError</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code> are both not specified, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-snapshot-delete-internal-sync&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot0&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                   </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot0&quot;</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;vm-state-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;date-sec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000012</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;date-nsec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;vm-clock-sec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;vm-clock-nsec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;icount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">220414</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.DummyBlockCoreForceArrays">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DummyBlockCoreForceArrays</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-block-core.DummyBlockCoreForceArrays" title="Link to this definition"></a></dt>
<dd><p>Not used by QMP; hack to let us use BlockGraphInfoList internally</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unused-block-graph-info</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.BlockGraphInfo" title="QMP:block-core.BlockGraphInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockGraphInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="additional-block-stuff-vm-related">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Additional block stuff (VM related)</a><a class="headerlink" href="#additional-block-stuff-vm-related" title="Link to this heading"></a></h3>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BiosAtaTranslation">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BiosAtaTranslation</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#enum-QMP-block-core.BiosAtaTranslation" title="Link to this definition"></a></dt>
<dd><p>Policy that BIOS should use to interpret cylinder/head/sector
addresses.  Note that Bochs BIOS and SeaBIOS will not actually
translate logical CHS to physical; instead, they will use logical
block addressing.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auto</strong> -- If cylinder/heads/sizes are passed, choose between none and
LBA depending on the size of the disk.  If they are not passed,
choose none if QEMU can guess that the disk had 16 or fewer
heads, large if QEMU can guess that the disk had 131072 or fewer
tracks across all heads (i.e. cylinders*heads&lt;131072), otherwise
LBA.</p></li>
<li><p><strong>none</strong> -- The physical disk geometry is equal to the logical geometry.</p></li>
<li><p><strong>lba</strong> -- Assume 63 sectors per track and one of 16, 32, 64, 128 or 255
heads (if fewer than 255 are enough to cover the whole disk with
1024 cylinders/head).  The number of cylinders/head is then
computed based on the number of sectors and heads.</p></li>
<li><p><strong>large</strong> -- The number of cylinders per head is scaled down to 1024 by
correspondingly scaling up the number of heads.</p></li>
<li><p><strong>rechs</strong> -- Same as <code class="docutils literal notranslate"><span class="pre">large</span></code>, but first convert a 16-head geometry to
15-head, by proportionally scaling up the number of
cylinders/head.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.FloppyDriveType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FloppyDriveType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-block-core.FloppyDriveType" title="Link to this definition"></a></dt>
<dd><p>Type of floppy drive to be emulated by the Floppy Disk Controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>144</strong> -- 1.44MB 3.5&quot; drive</p></li>
<li><p><strong>288</strong> -- 2.88MB 3.5&quot; drive</p></li>
<li><p><strong>120</strong> -- 1.2MB 5.25&quot; drive</p></li>
<li><p><strong>none</strong> -- No drive connected</p></li>
<li><p><strong>auto</strong> -- Automatically determined by inserted media at boot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-core.PRManagerInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PRManagerInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#object-QMP-block-core.PRManagerInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a persistent reservation manager</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the identifier of the persistent reservation manager</p></li>
<li><p><strong>connected</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the persistent reservation manager is connected
to the underlying storage or helper</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.query-pr-managers">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-pr-managers</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-block-core.query-pr-managers" title="Link to this definition"></a></dt>
<dd><p>Return a list of information about each persistent reservation
manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-core.PRManagerInfo" title="QMP:block-core.PRManagerInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PRManagerInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list of manager info for each persistent reservation
manager</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.eject">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">eject</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-block-core.eject" title="Link to this definition"></a></dt>
<dd><p>Ejects the medium from a removable drive.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Block device name</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name or QOM path of the guest device (since: 2.8)</p></li>
<li><p><strong>force</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If true, eject regardless of whether the drive is locked.
If not specified, the default value is false.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">device</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">id</span></code> instead.</p></li>
</ul>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Ejecting a device with no media results in success.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eject&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide1-0-1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-open-tray">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-open-tray</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-open-tray" title="Link to this definition"></a></dt>
<dd><p>Opens a block device's tray.  If there is a block driver state tree
inserted as a medium, it will become inaccessible to the guest (but
it will remain associated to the block device, so closing the tray
will make it accessible again).</p>
<p>If the tray was already open before, this will be a no-op.</p>
<p>Once the tray opens, a <a class="reference internal" href="#event-QMP-block-core.DEVICE_TRAY_MOVED" title="QMP:block-core.DEVICE_TRAY_MOVED"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">DEVICE_TRAY_MOVED</span></code></a> event is emitted.  There
are cases in which no such event will be generated, these include:</p>
<ul class="simple">
<li><p>if the guest has locked the tray, <code class="docutils literal notranslate"><span class="pre">force</span></code> is false and the guest
does not respond to the eject request</p></li>
<li><p>if the BlockBackend denoted by <code class="docutils literal notranslate"><span class="pre">device</span></code> does not have a guest
device attached to it</p></li>
<li><p>if the guest device does not have an actual tray</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Block device name</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name or QOM path of the guest device (since: 2.8)</p></li>
<li><p><strong>force</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if false (the default), an eject request will be sent to the
guest if it has locked the tray (and the tray will not be opened
immediately); if true, the tray will be opened regardless of
whether it is locked</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">device</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">id</span></code> instead.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-open-tray&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1418751016</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">716996</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEVICE_TRAY_MOVED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide1-cd0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;tray-open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-close-tray">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-close-tray</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-close-tray" title="Link to this definition"></a></dt>
<dd><p>Closes a block device's tray.  If there is a block driver state tree
associated with the block device (which is currently ejected), that
tree will be loaded as the medium.</p>
<p>If the tray was already closed before, this will be a no-op.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Block device name</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name or QOM path of the guest device (since: 2.8)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">device</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">id</span></code> instead.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-close-tray&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1418751345</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">272147</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEVICE_TRAY_MOVED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide1-cd0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;tray-open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-remove-medium">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-remove-medium</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-remove-medium" title="Link to this definition"></a></dt>
<dd><p>Removes a medium (a block driver state tree) from a block device.
That block device's tray must currently be open (unless there is no
attached guest device).</p>
<p>If the tray is open and there is no medium inserted, this will be a
no-op.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name or QOM path of the guest device</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-remove-medium&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GenericError&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Tray of device &#39;ide0-1-0&#39; is not open&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-open-tray&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1418751627</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">549958</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEVICE_TRAY_MOVED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide1-cd0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;tray-open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-remove-medium&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-insert-medium">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-insert-medium</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-insert-medium" title="Link to this definition"></a></dt>
<dd><p>Inserts a medium (a block driver state tree) into a block device.
That block device's tray must currently be open (unless there is no
attached guest device) and there must be no medium inserted already.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name or QOM path of the guest device</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of a node in the block driver state graph</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node0&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;raw&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fedora.iso&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-insert-medium&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-core.BlockdevChangeReadOnlyMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevChangeReadOnlyMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#enum-QMP-block-core.BlockdevChangeReadOnlyMode" title="Link to this definition"></a></dt>
<dd><p>Specifies the new read-only mode of a block device subject to the
<a class="reference internal" href="#command-QMP-block-core.blockdev-change-medium" title="QMP:block-core.blockdev-change-medium"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-change-medium</span></code></a> command.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>retain</strong> -- Retains the current read-only mode</p></li>
<li><p><strong>read-only</strong> -- Makes the device read-only</p></li>
<li><p><strong>read-write</strong> -- Makes the device writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.blockdev-change-medium">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blockdev-change-medium</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#command-QMP-block-core.blockdev-change-medium" title="Link to this definition"></a></dt>
<dd><p>Changes the medium inserted into a block device by ejecting the
current medium and loading a new image file which is inserted as the
new medium (this command combines <a class="reference internal" href="#command-QMP-block-core.blockdev-open-tray" title="QMP:block-core.blockdev-open-tray"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-open-tray</span></code></a>,
<a class="reference internal" href="#command-QMP-block-core.blockdev-remove-medium" title="QMP:block-core.blockdev-remove-medium"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-remove-medium</span></code></a>, <a class="reference internal" href="#command-QMP-block-core.blockdev-insert-medium" title="QMP:block-core.blockdev-insert-medium"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-insert-medium</span></code></a> and
<a class="reference internal" href="#command-QMP-block-core.blockdev-close-tray" title="QMP:block-core.blockdev-close-tray"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-close-tray</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Block device name</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name or QOM path of the guest device (since: 2.8)</p></li>
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- filename of the new image to be loaded</p></li>
<li><p><strong>format</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- format to open the new image with (defaults to the probed
format)</p></li>
<li><p><strong>read-only-mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-core.BlockdevChangeReadOnlyMode" title="QMP:block-core.BlockdevChangeReadOnlyMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevChangeReadOnlyMode</span></code></a>, <em>optional</em></span>) -- change the read-only mode of the device; defaults
to 'retain'</p></li>
<li><p><strong>force</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if false (the default), an eject request through
<a class="reference internal" href="#command-QMP-block-core.blockdev-open-tray" title="QMP:block-core.blockdev-open-tray"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-open-tray</span></code></a> will be sent to the guest if it has locked
the tray (and the tray will not be opened immediately); if true,
the tray will be opened regardless of whether it is locked.
(since 7.1)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">device</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">id</span></code> instead.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Change a removable medium</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-change-medium&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/srv/images/Fedora-12-x86_64-DVD.iso&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;raw&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Load a read-only medium into a writable drive</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-change-medium&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;floppyA&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/srv/images/ro.img&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;raw&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;read-only-mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;retain&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;error&quot;</span><span class="p">:</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GenericError&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Could not open &#39;/srv/images/ro.img&#39;: Permission denied&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-change-medium&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;floppyA&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/srv/images/ro.img&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;raw&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;read-only-mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;read-only&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.DEVICE_TRAY_MOVED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DEVICE_TRAY_MOVED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#event-QMP-block-core.DEVICE_TRAY_MOVED" title="Link to this definition"></a></dt>
<dd><p>Emitted whenever the tray of a removable device is moved by the
guest or by HMP/QMP commands</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Block device name.  This is always present for
compatibility reasons, but it can be empty (&quot;&quot;) if the image
does not have a device name associated.</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name or QOM path of the guest device (since 2.8)</p></li>
<li><p><strong>tray-open</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the tray has been opened or false if it has been
closed</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEVICE_TRAY_MOVED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide1-cd0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[22]&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;tray-open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">     </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-core.PR_MANAGER_STATUS_CHANGED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PR_MANAGER_STATUS_CHANGED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#event-QMP-block-core.PR_MANAGER_STATUS_CHANGED" title="Link to this definition"></a></dt>
<dd><p>Emitted whenever the connected status of a persistent reservation
manager changes.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The id of the PR manager object</p></li>
<li><p><strong>connected</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the PR manager is connected to a backend</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PR_MANAGER_STATUS_CHANGED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pr-helper0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;connected&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">     </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1519840375</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block_set_io_throttle">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block_set_io_throttle</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-block-core.block_set_io_throttle" title="Link to this definition"></a></dt>
<dd><p>Change I/O throttle limits for a block drive.</p>
<p>Since QEMU 2.4, each device with I/O limits is member of a throttle
group.</p>
<p>If two or more devices are members of the same group, the limits
will apply to the combined I/O of the whole group in a round-robin
fashion.  Therefore, setting new I/O limits to a device will affect
the whole group.</p>
<p>The name of the group can be specified using the 'group' parameter.
If the parameter is unset, it is assumed to be the current group of
that device.  If it's not in any group yet, the name of the device
will be used as the name for its group.</p>
<p>The 'group' parameter can also be used to move a device to a
different group.  In this case the limits specified in the
parameters will be applied to the new group only.</p>
<p>I/O limits can be disabled by setting all of them to 0.  In this
case the device will be removed from its group and the rest of its
members will not be affected.  The 'group' parameter is ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-core.BlockIOThrottle" title="QMP:block-core.BlockIOThrottle"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockIOThrottle</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">device</span></code> is not a valid block device, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block_set_io_throttle&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-blk-pci0/virtio-backend&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_rd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_wr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_rd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_wr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_rd_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_wr_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_rd_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_wr_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_max_length&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block_set_io_throttle&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide0-1-0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_rd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_wr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_rd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_wr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8000000</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_rd_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_wr_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_rd_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_wr_max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bps_max_length&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;iops_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-core.block-latency-histogram-set">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-latency-histogram-set</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#command-QMP-block-core.block-latency-histogram-set" title="Link to this definition"></a></dt>
<dd><p>Manage read, write and flush latency histograms for the device.</p>
<p>If only <code class="docutils literal notranslate"><span class="pre">id</span></code> parameter is specified, remove all present latency
histograms for the device.  Otherwise, add/reset some of (or all)
latency histograms.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name or QOM path of the guest device.</p></li>
<li><p><strong>boundaries</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of interval boundary values (see description in
<a class="reference internal" href="#object-QMP-block-core.BlockLatencyHistogramInfo" title="QMP:block-core.BlockLatencyHistogramInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">BlockLatencyHistogramInfo</span></code></a> definition).  If specified, all
latency histograms are removed, and empty ones created for all
io types with intervals corresponding to <code class="docutils literal notranslate"><span class="pre">boundaries</span></code> (except for
io types, for which specific boundaries are set through the
following parameters).</p></li>
<li><p><strong>boundaries-read</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of interval boundary values for read latency
histogram.  If specified, old read latency histogram is removed,
and empty one created with intervals corresponding to
<code class="docutils literal notranslate"><span class="pre">boundaries-read</span></code>.  The parameter has higher priority then
<code class="docutils literal notranslate"><span class="pre">boundaries</span></code>.</p></li>
<li><p><strong>boundaries-write</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of interval boundary values for write
latency histogram.</p></li>
<li><p><strong>boundaries-zap</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of interval boundary values for zone append
write latency histogram.</p></li>
<li><p><strong>boundaries-flush</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of interval boundary values for flush
latency histogram.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>if device is not found or any boundary arrays are invalid.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Set new histograms for all io types with intervals
[0, 10), [10, 50), [50, 100), [100, +inf):</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-latency-histogram-set&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;boundaries&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Set new histogram only for write, other histograms will remain
not changed (or not created):</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-latency-histogram-set&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;boundaries-write&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Set new histograms with the following intervals:</p>
<ul class="simple">
<li><p>read, flush: [0, 10), [10, 50), [50, 100), [100, +inf)</p></li>
<li><p>write: [0, 1000), [1000, 5000), [5000, +inf)</p></li>
</ul>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-latency-histogram-set&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;boundaries&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">],</span>
<span class="w">                    </span><span class="nt">&quot;boundaries-write&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Remove all latency histograms:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-latency-histogram-set&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drive0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="block-device-exports">
<span id="module-QMP-block-export"></span><h3><a class="toc-backref" href="#id14" role="doc-backlink">Block device exports</a><a class="headerlink" href="#block-device-exports" title="Link to this heading"></a></h3>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.NbdServerOptionsBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NbdServerOptionsBase</span></span><a class="headerlink" href="#object-QMP-block-export.NbdServerOptionsBase" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handshake-max-seconds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Time limit, in seconds, at which a client
that has not completed the negotiation handshake will be
disconnected, or 0 for no limit (since 10.0; default: 10).</p></li>
<li><p><strong>tls-creds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of the TLS credentials object (since 2.6).</p></li>
<li><p><strong>tls-authz</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of the QAuthZ authorization object used to validate
the client's x509 distinguished name.  This object is is only
resolved at time of use, so can be deleted and recreated on the
fly while the NBD server is active.  If missing, it will default
to denying access (since 4.0).</p></li>
<li><p><strong>max-connections</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The maximum number of connections to allow at the
same time, 0 for unlimited.  Setting this to 1 also stops the
server from advertising multiple client support (since 5.2;
default: 100).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.NbdServerOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NbdServerOptions</span></span><a class="headerlink" href="#object-QMP-block-export.NbdServerOptions" title="Link to this definition"></a></dt>
<dd><p>Keep this type consistent with the <a class="reference internal" href="#object-QMP-block-export.NbdServerOptionsLegacy" title="QMP:block-export.NbdServerOptionsLegacy"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">NbdServerOptionsLegacy</span></code></a> type.  The
only intended difference is using <a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SocketAddress</span></code></a> instead of
<a class="reference internal" href="#object-QMP-sockets.SocketAddressLegacy" title="QMP:sockets.SocketAddressLegacy"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SocketAddressLegacy</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a></span>) -- Address on which to listen (since 4.2).</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-export.NbdServerOptionsBase" title="QMP:block-export.NbdServerOptionsBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NbdServerOptionsBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.NbdServerOptionsLegacy">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NbdServerOptionsLegacy</span></span><a class="headerlink" href="#object-QMP-block-export.NbdServerOptionsLegacy" title="Link to this definition"></a></dt>
<dd><p>Keep this type consistent with the <a class="reference internal" href="#object-QMP-block-export.NbdServerOptions" title="QMP:block-export.NbdServerOptions"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">NbdServerOptions</span></code></a> type.  The only
intended difference is using <a class="reference internal" href="#object-QMP-sockets.SocketAddressLegacy" title="QMP:sockets.SocketAddressLegacy"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SocketAddressLegacy</span></code></a> instead of
<a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SocketAddress</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddressLegacy" title="QMP:sockets.SocketAddressLegacy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddressLegacy</span></code></a></span>) -- Address on which to listen (since 1.3).</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-export.NbdServerOptionsBase" title="QMP:block-export.NbdServerOptionsBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NbdServerOptionsBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-export.nbd-server-start">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbd-server-start</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-block-export.nbd-server-start" title="Link to this definition"></a></dt>
<dd><p>Start an NBD server listening on the given host and port.  Block
devices can then be exported using <a class="reference internal" href="#command-QMP-block-export.nbd-server-add" title="QMP:block-export.nbd-server-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">nbd-server-add</span></code></a>.  The NBD server
will present them as named exports; for example, another QEMU
instance could refer to them as &quot;nbd:HOST:PORT:exportname=NAME&quot;.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-export.NbdServerOptionsLegacy" title="QMP:block-export.NbdServerOptionsLegacy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NbdServerOptionsLegacy</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>if the server is already running</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.BlockExportOptionsNbdBase">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportOptionsNbdBase</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#object-QMP-block-export.BlockExportOptionsNbdBase" title="Link to this definition"></a></dt>
<dd><p>An NBD block export (common options shared between <a class="reference internal" href="#command-QMP-block-export.nbd-server-add" title="QMP:block-export.nbd-server-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">nbd-server-add</span></code></a>
and the NBD branch of <a class="reference internal" href="#command-QMP-block-export.block-export-add" title="QMP:block-export.block-export-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-export-add</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Export name.  If unspecified, the <code class="docutils literal notranslate"><span class="pre">device</span></code> parameter is used
as the export name.  (Since 2.12)</p></li>
<li><p><strong>description</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Free-form description of the export, up to 4096 bytes.
(Since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.BlockExportOptionsNbd">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportOptionsNbd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-block-export.BlockExportOptionsNbd" title="Link to this definition"></a></dt>
<dd><p>An NBD block export (distinct options used in the NBD branch of
<a class="reference internal" href="#command-QMP-block-export.block-export-add" title="QMP:block-export.block-export-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-export-add</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bitmaps</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#alternate-QMP-block-core.BlockDirtyBitmapOrStr" title="QMP:block-core.BlockDirtyBitmapOrStr"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapOrStr</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Also export each of the named dirty bitmaps reachable from
<code class="docutils literal notranslate"><span class="pre">device</span></code>, so the NBD client can use NBD_OPT_SET_META_CONTEXT with
the metadata context name &quot;qemu:dirty-bitmap:BITMAP&quot; to inspect
each bitmap.  Since 7.1 bitmap may be specified by node/name
pair.</p></li>
<li><p><strong>allocation-depth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Also export the allocation depth map for <code class="docutils literal notranslate"><span class="pre">device</span></code>,
so the NBD client can use NBD_OPT_SET_META_CONTEXT with the
metadata context name &quot;qemu:allocation-depth&quot; to inspect
allocation details.  (since 5.2)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-export.BlockExportOptionsNbdBase" title="QMP:block-export.BlockExportOptionsNbdBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportOptionsNbdBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.BlockExportOptionsVhostUserBlk">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportOptionsVhostUserBlk</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-block-export.BlockExportOptionsVhostUserBlk" title="Link to this definition"></a></dt>
<dd><p>A vhost-user-blk block export.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a></span>) -- The vhost-user socket on which to listen.  Both 'unix' and
'fd' <a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SocketAddress</span></code></a> types are supported.  Passed fds must be UNIX
domain sockets.</p></li>
<li><p><strong>logical-block-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Logical block size in bytes.  Defaults to 512
bytes.</p></li>
<li><p><strong>num-queues</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Number of request virtqueues.  Must be greater than 0.
Defaults to 1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-export.FuseExportAllowOther">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FuseExportAllowOther</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#enum-QMP-block-export.FuseExportAllowOther" title="Link to this definition"></a></dt>
<dd><p>Possible allow_other modes for FUSE exports.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>off</strong> -- Do not pass allow_other as a mount option.</p></li>
<li><p><strong>on</strong> -- Pass allow_other as a mount option.</p></li>
<li><p><strong>auto</strong> -- Try mounting with allow_other first, and if that fails, retry
without allow_other.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.BlockExportOptionsFuse">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportOptionsFuse</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-block-export.BlockExportOptionsFuse" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_FUSE</span></code></div>
</div>
<p>Options for exporting a block graph node on some (file) mountpoint
as a raw image.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mountpoint</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Path on which to export the block device via FUSE.
This must point to an existing regular file.</p></li>
<li><p><strong>growable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether writes beyond the EOF should grow the block node
accordingly.  (default: false)</p></li>
<li><p><strong>allow-other</strong> (<span><a class="reference internal" href="#enum-QMP-block-export.FuseExportAllowOther" title="QMP:block-export.FuseExportAllowOther"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FuseExportAllowOther</span></code></a>, <em>optional</em></span>) -- If this is off, only QEMU's user is allowed access to
this export.  That cannot be changed even with chmod or chown.
Enabling this option will allow other users access to the export
with the FUSE mount option &quot;allow_other&quot;.  Note that using
allow_other as a non-root user requires user_allow_other to be
enabled in the global fuse.conf configuration file.  In auto
mode (the default), the FUSE export driver will first attempt to
mount the export with allow_other, and if that fails, try again
without.  (since 6.1; default: auto)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.BlockExportOptionsVduseBlk">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportOptionsVduseBlk</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-block-export.BlockExportOptionsVduseBlk" title="Link to this definition"></a></dt>
<dd><p>A vduse-blk block export.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of VDUSE device (must be unique across the host).</p></li>
<li><p><strong>num-queues</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the number of virtqueues.  Defaults to 1.</p></li>
<li><p><strong>queue-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the size of virtqueue.  Defaults to 256.</p></li>
<li><p><strong>logical-block-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Logical block size in bytes.  Range [512,
PAGE_SIZE] and must be power of 2.  Defaults to 512 bytes.</p></li>
<li><p><strong>serial</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the serial number of virtio block device.  Defaults to
empty string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.NbdServerAddOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NbdServerAddOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#object-QMP-block-export.NbdServerAddOptions" title="Link to this definition"></a></dt>
<dd><p>An NBD block export, per legacy <a class="reference internal" href="#command-QMP-block-export.nbd-server-add" title="QMP:block-export.nbd-server-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">nbd-server-add</span></code></a> command.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The device name or node name of the node to be exported</p></li>
<li><p><strong>writable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether clients should be able to write to the device via
the NBD connection (default false).</p></li>
<li><p><strong>bitmap</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Also export a single dirty bitmap reachable from <code class="docutils literal notranslate"><span class="pre">device</span></code>,
so the NBD client can use NBD_OPT_SET_META_CONTEXT with the
metadata context name &quot;qemu:dirty-bitmap:BITMAP&quot; to inspect the
bitmap (since 4.0).</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-block-export.BlockExportOptionsNbdBase" title="QMP:block-export.BlockExportOptionsNbdBase"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportOptionsNbdBase</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-export.nbd-server-add">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbd-server-add</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-block-export.nbd-server-add" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Export a block node to QEMU's embedded NBD server.</p>
<p>The export name will be used as the id for the resulting block
export.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-export.NbdServerAddOptions" title="QMP:block-export.NbdServerAddOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NbdServerAddOptions</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated.  Use <a class="reference internal" href="#command-QMP-block-export.block-export-add" title="QMP:block-export.block-export-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-export-add</span></code></a>
instead.</p></li>
</ul>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>if the server is not running</p></li>
<li><p>if an export with the same name already exists</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-export.BlockExportRemoveMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportRemoveMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-block-export.BlockExportRemoveMode" title="Link to this definition"></a></dt>
<dd><p>Mode for removing a block export.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>safe</strong> -- Remove export if there are no existing connections, fail
otherwise.</p></li>
<li><p><strong>hard</strong> -- Drop all connections immediately and remove export.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-export.nbd-server-remove">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbd-server-remove</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-block-export.nbd-server-remove" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Remove NBD export by name.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Block export id.</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-export.BlockExportRemoveMode" title="QMP:block-export.BlockExportRemoveMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportRemoveMode</span></code></a>, <em>optional</em></span>) -- Mode of command operation.  See <a class="reference internal" href="#enum-QMP-block-export.BlockExportRemoveMode" title="QMP:block-export.BlockExportRemoveMode"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">BlockExportRemoveMode</span></code></a>
description.  Default is 'safe'.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated.  Use <a class="reference internal" href="#command-QMP-block-export.block-export-del" title="QMP:block-export.block-export-del"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-export-del</span></code></a>
instead.</p></li>
</ul>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>if the server is not running</p></li>
<li><p>if export is not found</p></li>
<li><p>if mode is 'safe' and there are existing connections</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-export.nbd-server-stop">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbd-server-stop</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-block-export.nbd-server-stop" title="Link to this definition"></a></dt>
<dd><p>Stop QEMU's embedded NBD server, and unregister all devices
previously added via <a class="reference internal" href="#command-QMP-block-export.nbd-server-add" title="QMP:block-export.nbd-server-add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">nbd-server-add</span></code></a>.</p>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-block-export.BlockExportType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#enum-QMP-block-export.BlockExportType" title="Link to this definition"></a></dt>
<dd><p>An enumeration of block export types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nbd</strong> -- NBD export</p></li>
<li><p><strong>vhost-user-blk</strong> -- vhost-user-blk export (since 5.2)</p></li>
<li><p><strong>fuse</strong> -- FUSE export (since: 6.0)</p></li>
<li><p><strong>vduse-blk</strong> -- vduse-blk export (since 7.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.BlockExportOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#object-QMP-block-export.BlockExportOptions" title="Link to this definition"></a></dt>
<dd><p>Describes a block export, i.e. how single node should be exported on
an external interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-block-export.BlockExportType" title="QMP:block-export.BlockExportType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportType</span></code></a></span>) -- Block export type</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- A unique identifier for the block export (across all export
types)</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The node name of the block node to be exported
(since: 5.2)</p></li>
<li><p><strong>writable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- True if clients should be able to write to the export
(default false)</p></li>
<li><p><strong>writethrough</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If true, caches are flushed after every write request
to the export before completion is signalled.  (since: 5.2;
default: false)</p></li>
<li><p><strong>iothread</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name of the iothread object where the export will
run.  The default is to use the thread currently associated with
the block node.  (since: 5.2)</p></li>
<li><p><strong>fixed-iothread</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- True prevents the block node from being moved to
another thread while the export is active.  If true and
<code class="docutils literal notranslate"><span class="pre">iothread</span></code> is given, export creation fails if the block node
cannot be moved to the iothread.  The default is false.
(since: 5.2)</p></li>
<li><p><strong>allow-inactive</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If true, the export allows the exported node to be inactive.
If it is created for an inactive block node, the node remains inactive.  If
the export type doesn't support running on an inactive node, an error is
returned.  If false, inactive block nodes are automatically activated before
creating the export and trying to inactivate them later fails.
(since: 10.0; default: false)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">nbd</span></code>: The members of <a class="reference internal" href="#object-QMP-block-export.BlockExportOptionsNbd" title="QMP:block-export.BlockExportOptionsNbd"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportOptionsNbd</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vhost-user-blk</span></code>: The members of <a class="reference internal" href="#object-QMP-block-export.BlockExportOptionsVhostUserBlk" title="QMP:block-export.BlockExportOptionsVhostUserBlk"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportOptionsVhostUserBlk</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">fuse</span></code>: The members of <a class="reference internal" href="#object-QMP-block-export.BlockExportOptionsFuse" title="QMP:block-export.BlockExportOptionsFuse"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportOptionsFuse</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vduse-blk</span></code>: The members of <a class="reference internal" href="#object-QMP-block-export.BlockExportOptionsVduseBlk" title="QMP:block-export.BlockExportOptionsVduseBlk"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportOptionsVduseBlk</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-export.block-export-add">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-export-add</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-block-export.block-export-add" title="Link to this definition"></a></dt>
<dd><p>Creates a new block export.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-block-export.BlockExportOptions" title="QMP:block-export.BlockExportOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-export.block-export-del">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block-export-del</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-block-export.block-export-del" title="Link to this definition"></a></dt>
<dd><p>Request to remove a block export.  This drops the user's reference
to the export, but the export may still stay around after this
command returns until the shutdown of the export has completed.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Block export id.</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-block-export.BlockExportRemoveMode" title="QMP:block-export.BlockExportRemoveMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportRemoveMode</span></code></a>, <em>optional</em></span>) -- Mode of command operation.  See <a class="reference internal" href="#enum-QMP-block-export.BlockExportRemoveMode" title="QMP:block-export.BlockExportRemoveMode"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">BlockExportRemoveMode</span></code></a>
description.  Default is 'safe'.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>if the export is not found</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">mode</span></code> is 'safe' and the export is still in use (e.g. by
existing client connections)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-block-export.BLOCK_EXPORT_DELETED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BLOCK_EXPORT_DELETED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#event-QMP-block-export.BLOCK_EXPORT_DELETED" title="Link to this definition"></a></dt>
<dd><p>Emitted when a block export is removed and its id can be reused.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Block export id.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-block-export.BlockExportInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockExportInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-block-export.BlockExportInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a single block export.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The unique identifier for the block export</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-block-export.BlockExportType" title="QMP:block-export.BlockExportType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportType</span></code></a></span>) -- The block export type</p></li>
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The node name of the block node that is exported</p></li>
<li><p><strong>shutting-down</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- True if the export is shutting down (e.g. after a
<a class="reference internal" href="#command-QMP-block-export.block-export-del" title="QMP:block-export.block-export-del"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">block-export-del</span></code></a> command, but before the shutdown has completed)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-block-export.query-block-exports">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-block-exports</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-block-export.query-block-exports" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-block-export.BlockExportInfo" title="QMP:block-export.BlockExportInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockExportInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- A list describing all block exports</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="character-devices">
<span id="module-QMP-char"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink">Character devices</a><a class="headerlink" href="#character-devices" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-char.ChardevInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a character device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the label of the character device</p></li>
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the filename of the character device</p></li>
<li><p><strong>frontend-open</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- shows whether the frontend device attached to this
backend (e.g. with the chardev=... option) is in open or closed
state (since 2.1)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><code class="docutils literal notranslate"><span class="pre">filename</span></code> is encoded using the QEMU command line character
device encoding.  See the QEMU man page for details.</p>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-char.query-chardev">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-chardev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-char.query-chardev" title="Link to this definition"></a></dt>
<dd><p>Return information about current character devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-char.ChardevInfo" title="QMP:char.ChardevInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-chardev&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;charchannel0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unix:/var/lib/libvirt/qemu/seabios.rhel6.agent,server=on&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;frontend-open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;charmonitor&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unix:/var/lib/libvirt/qemu/seabios.rhel6.monitor,server=on&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;frontend-open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;charserial0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pty:/dev/pts/2&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;frontend-open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevBackendInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevBackendInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-char.ChardevBackendInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a character device backend</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The backend name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-char.query-chardev-backends">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-chardev-backends</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#command-QMP-char.query-chardev-backends" title="Link to this definition"></a></dt>
<dd><p>Return information about character device backends.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-char.ChardevBackendInfo" title="QMP:char.ChardevBackendInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevBackendInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-chardev-backends&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;return&quot;</span><span class="p">:[</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;udp&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;tcp&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;unix&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;spiceport&quot;</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-char.DataFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#enum-QMP-char.DataFormat" title="Link to this definition"></a></dt>
<dd><p>An enumeration of data format.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>utf8</strong> -- Data is a UTF-8 string (RFC 3629)</p></li>
<li><p><strong>base64</strong> -- Data is Base64 encoded binary (RFC 3548)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-char.ringbuf-write">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ringbuf-write</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#command-QMP-char.ringbuf-write" title="Link to this definition"></a></dt>
<dd><p>Write to a ring buffer character device.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the ring buffer character device name</p></li>
<li><p><strong>data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- data to write</p></li>
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-char.DataFormat" title="QMP:char.DataFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DataFormat</span></code></a>, <em>optional</em></span>) -- <p>data encoding (default 'utf8').</p>
<ul>
<li><p>base64: data must be base64 encoded text.  Its binary decoding
gets written.</p></li>
<li><p>utf8: data's UTF-8 encoding is written</p></li>
<li><p>data itself is always Unicode regardless of format, like any
other string.</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ringbuf-write&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abcdefgh&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;utf8&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-char.ringbuf-read">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ringbuf-read</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#command-QMP-char.ringbuf-read" title="Link to this definition"></a></dt>
<dd><p>Read from a ring buffer character device.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the ring buffer character device name</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- how many bytes to read at most</p></li>
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-char.DataFormat" title="QMP:char.DataFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DataFormat</span></code></a>, <em>optional</em></span>) -- <p>data encoding (default 'utf8').</p>
<ul>
<li><p>base64: the data read is returned in base64 encoding.</p></li>
<li><p>utf8: the data read is interpreted as UTF-8.
Bug: can screw up when the buffer contains invalid UTF-8
sequences, NUL characters, after the ring buffer lost data,
and when reading stops because the size limit is reached.</p></li>
<li><p>The return value is always Unicode regardless of format, like
any other string.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span> -- data read from the device</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ringbuf-read&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;utf8&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abcdefgh&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevCommon">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevCommon</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-char.ChardevCommon" title="Link to this definition"></a></dt>
<dd><p>Configuration shared across all chardev backends</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logfile</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name of a logfile to save output</p></li>
<li><p><strong>logappend</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true to append instead of truncate (default to false to
truncate)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevFile">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevFile</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-char.ChardevFile" title="Link to this definition"></a></dt>
<dd><p>Configuration info for file chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name of the input file</p></li>
<li><p><strong>out</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name of the output file</p></li>
<li><p><strong>append</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Open the file in append mode (default false to truncate)
(Since 2.6)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevHostdev">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevHostdev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-char.ChardevHostdev" title="Link to this definition"></a></dt>
<dd><p>Configuration info for device and pipe chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name of the special file for the device, i.e.
/dev/ttyS0 on Unix or COM1: on Windows</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevSocket">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevSocket</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-char.ChardevSocket" title="Link to this definition"></a></dt>
<dd><p>Configuration info for (stream) socket chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddressLegacy" title="QMP:sockets.SocketAddressLegacy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddressLegacy</span></code></a></span>) -- socket address to listen on (server=true) or connect to
(server=false)</p></li>
<li><p><strong>tls-creds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the ID of the TLS credentials object (since 2.6)</p></li>
<li><p><strong>tls-authz</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the ID of the QAuthZ authorization object against which
the client's x509 distinguished name will be validated.  This
object is only resolved at time of use, so can be deleted and
recreated on the fly while the chardev server is active.  If
missing, it will default to denying access (since 4.0)</p></li>
<li><p><strong>server</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- create server socket (default: true)</p></li>
<li><p><strong>wait</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- wait for incoming connection on server sockets (default:
false).  Silently ignored with server: false.  This use is
deprecated.</p></li>
<li><p><strong>nodelay</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- set TCP_NODELAY socket option (default: false)</p></li>
<li><p><strong>telnet</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable telnet protocol on server sockets (default: false)</p></li>
<li><p><strong>tn3270</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable tn3270 protocol on server sockets (default: false)
(Since: 2.10)</p></li>
<li><p><strong>websocket</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable websocket protocol on server sockets
(default: false) (Since: 3.1)</p></li>
<li><p><strong>reconnect</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- For a client socket, if a socket is disconnected, then
attempt a reconnect after the given number of seconds.  Setting
this to zero disables this function.  The use of this member is
deprecated, use <code class="docutils literal notranslate"><span class="pre">reconnect-ms</span></code> instead.  (default: 0) (Since: 2.2)</p></li>
<li><p><strong>reconnect-ms</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- For a client socket, if a socket is disconnected,
then attempt a reconnect after the given number of milliseconds.
Setting this to zero disables this function.  This member is
mutually exclusive with <code class="docutils literal notranslate"><span class="pre">reconnect</span></code>.
(default: 0) (Since: 9.2)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">reconnect</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">reconnect-ms</span></code>
instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevUdp">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevUdp</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevUdp" title="Link to this definition"></a></dt>
<dd><p>Configuration info for datagram socket chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>remote</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddressLegacy" title="QMP:sockets.SocketAddressLegacy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddressLegacy</span></code></a></span>) -- remote address</p></li>
<li><p><strong>local</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddressLegacy" title="QMP:sockets.SocketAddressLegacy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddressLegacy</span></code></a>, <em>optional</em></span>) -- local address</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevMux">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevMux</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevMux" title="Link to this definition"></a></dt>
<dd><p>Configuration info for mux chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chardev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the base chardev.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevHub">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevHub</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#object-QMP-char.ChardevHub" title="Link to this definition"></a></dt>
<dd><p>Configuration info for hub chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chardevs</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- IDs to be added to this hub (maximum 4 devices).</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevStdio">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevStdio</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevStdio" title="Link to this definition"></a></dt>
<dd><p>Configuration info for stdio chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Allow signals (such as SIGINT triggered by ^C) be delivered
to QEMU.  Default: true.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevSpiceChannel">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevSpiceChannel</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevSpiceChannel" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Configuration info for spice vm channel chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- kind of channel (for example vdagent).</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevSpicePort">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevSpicePort</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevSpicePort" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Configuration info for spice port chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fqdn</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the channel (see docs/spice-port-fqdn.txt)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevDBus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevDBus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-char.ChardevDBus" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_DBUS_DISPLAY</span></code></div>
</div>
<p>Configuration info for DBus chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the channel (following docs/spice-port-fqdn.txt)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevVC">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevVC</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevVC" title="Link to this definition"></a></dt>
<dd><p>Configuration info for virtual console chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- console width, in pixels</p></li>
<li><p><strong>height</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- console height, in pixels</p></li>
<li><p><strong>cols</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- console width, in chars</p></li>
<li><p><strong>rows</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- console height, in chars</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The options are only effective when the VNC or SDL
graphical display backend is active.  They are ignored with the
GTK, Spice, VNC and D-Bus display backends.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevRingbuf">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevRingbuf</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevRingbuf" title="Link to this definition"></a></dt>
<dd><p>Configuration info for ring buffer chardevs.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- ring buffer size, must be power of two, default is 65536</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevQemuVDAgent">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevQemuVDAgent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-char.ChardevQemuVDAgent" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE_PROTOCOL</span></code></div>
</div>
<p>Configuration info for QEMU vdagent implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mouse</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable mouse, default is enabled.</p></li>
<li><p><strong>clipboard</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable clipboard, default is disabled.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevPty">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevPty</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.2)</span></span><a class="headerlink" href="#object-QMP-char.ChardevPty" title="Link to this definition"></a></dt>
<dd><p>Configuration info for pty implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- optional path to create a symbolic link that points to the
allocated PTY</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-char.ChardevBackendKind">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevBackendKind</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#enum-QMP-char.ChardevBackendKind" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> -- regular files</p></li>
<li><p><strong>serial</strong> -- serial host device</p></li>
<li><p><strong>parallel</strong> -- parallel host device</p></li>
<li><p><strong>pipe</strong> -- pipes (since 1.5)</p></li>
<li><p><strong>socket</strong> -- stream socket</p></li>
<li><p><strong>udp</strong> -- datagram socket (since 1.5)</p></li>
<li><p><strong>pty</strong> -- pseudo-terminal</p></li>
<li><p><strong>null</strong> -- provides no input, throws away output</p></li>
<li><p><strong>mux</strong> -- (since 1.5)</p></li>
<li><p><strong>hub</strong> -- (since 10.0)</p></li>
<li><p><strong>msmouse</strong> -- emulated Microsoft serial mouse (since 1.5)</p></li>
<li><p><strong>wctablet</strong> -- emulated Wacom Penpartner serial tablet (since 2.9)</p></li>
<li><p><strong>braille</strong> -- Baum Braille device (since 1.5)</p></li>
<li><p><strong>testdev</strong> -- device for test-suite control (since 2.2)</p></li>
<li><p><strong>stdio</strong> -- standard I/O (since 1.5)</p></li>
<li><p><strong>console</strong> -- Windows console (since 1.5)</p></li>
<li><p><strong>spicevmc</strong> -- spice vm channel (since 1.5)</p></li>
<li><p><strong>spiceport</strong> -- Spice port channel (since 1.5)</p></li>
<li><p><strong>qemu-vdagent</strong> -- Spice vdagent (since 6.1)</p></li>
<li><p><strong>dbus</strong> -- D-Bus channel (since 7.0)</p></li>
<li><p><strong>vc</strong> -- virtual console (since 1.5)</p></li>
<li><p><strong>ringbuf</strong> -- memory ring buffer (since 1.6)</p></li>
<li><p><strong>memory</strong> -- synonym for <code class="docutils literal notranslate"><span class="pre">ringbuf</span></code> (since 1.5)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">memory</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">ringbuf</span></code> instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevFileWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevFileWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-char.ChardevFileWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevFile" title="QMP:char.ChardevFile"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevFile</span></code></a></span>) -- Configuration info for file chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevHostdevWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevHostdevWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-char.ChardevHostdevWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevHostdev" title="QMP:char.ChardevHostdev"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevHostdev</span></code></a></span>) -- Configuration info for device and pipe chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevSocketWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevSocketWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-char.ChardevSocketWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevSocket" title="QMP:char.ChardevSocket"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevSocket</span></code></a></span>) -- Configuration info for (stream) socket chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevUdpWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevUdpWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevUdpWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevUdp" title="QMP:char.ChardevUdp"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevUdp</span></code></a></span>) -- Configuration info for datagram socket chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevCommonWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevCommonWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-char.ChardevCommonWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevCommon" title="QMP:char.ChardevCommon"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommon</span></code></a></span>) -- Configuration shared across all chardev backends</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevMuxWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevMuxWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevMuxWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevMux" title="QMP:char.ChardevMux"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevMux</span></code></a></span>) -- Configuration info for mux chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevHubWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevHubWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#object-QMP-char.ChardevHubWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevHub" title="QMP:char.ChardevHub"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevHub</span></code></a></span>) -- Configuration info for hub chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevStdioWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevStdioWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevStdioWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevStdio" title="QMP:char.ChardevStdio"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevStdio</span></code></a></span>) -- Configuration info for stdio chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevSpiceChannelWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevSpiceChannelWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevSpiceChannelWrapper" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevSpiceChannel" title="QMP:char.ChardevSpiceChannel"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevSpiceChannel</span></code></a></span>) -- Configuration info for spice vm channel chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevSpicePortWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevSpicePortWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevSpicePortWrapper" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevSpicePort" title="QMP:char.ChardevSpicePort"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevSpicePort</span></code></a></span>) -- Configuration info for spice port chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevQemuVDAgentWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevQemuVDAgentWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-char.ChardevQemuVDAgentWrapper" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE_PROTOCOL</span></code></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevQemuVDAgent" title="QMP:char.ChardevQemuVDAgent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevQemuVDAgent</span></code></a></span>) -- Configuration info for QEMU vdagent implementation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevDBusWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevDBusWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-char.ChardevDBusWrapper" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_DBUS_DISPLAY</span></code></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevDBus" title="QMP:char.ChardevDBus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevDBus</span></code></a></span>) -- Configuration info for DBus chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevVCWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevVCWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevVCWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevVC" title="QMP:char.ChardevVC"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevVC</span></code></a></span>) -- Configuration info for virtual console chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevRingbufWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevRingbufWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-char.ChardevRingbufWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevRingbuf" title="QMP:char.ChardevRingbuf"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevRingbuf</span></code></a></span>) -- Configuration info for ring buffer chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevPtyWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevPtyWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.2)</span></span><a class="headerlink" href="#object-QMP-char.ChardevPtyWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevPty" title="QMP:char.ChardevPty"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevPty</span></code></a></span>) -- Configuration info for pty chardevs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevBackend">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevBackend</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-char.ChardevBackend" title="Link to this definition"></a></dt>
<dd><p>Configuration info for the new chardev backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-char.ChardevBackendKind" title="QMP:char.ChardevBackendKind"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevBackendKind</span></code></a></span>) -- backend type</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">file</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevFileWrapper" title="QMP:char.ChardevFileWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevFileWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">serial</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevHostdevWrapper" title="QMP:char.ChardevHostdevWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevHostdevWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">parallel</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevHostdevWrapper" title="QMP:char.ChardevHostdevWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevHostdevWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">pipe</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevHostdevWrapper" title="QMP:char.ChardevHostdevWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevHostdevWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">socket</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevSocketWrapper" title="QMP:char.ChardevSocketWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevSocketWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">udp</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevUdpWrapper" title="QMP:char.ChardevUdpWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevUdpWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">pty</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevPtyWrapper" title="QMP:char.ChardevPtyWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevPtyWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">null</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevCommonWrapper" title="QMP:char.ChardevCommonWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommonWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">mux</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevMuxWrapper" title="QMP:char.ChardevMuxWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevMuxWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">hub</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevHubWrapper" title="QMP:char.ChardevHubWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevHubWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">msmouse</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevCommonWrapper" title="QMP:char.ChardevCommonWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommonWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">wctablet</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevCommonWrapper" title="QMP:char.ChardevCommonWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommonWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">braille</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevCommonWrapper" title="QMP:char.ChardevCommonWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommonWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">testdev</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevCommonWrapper" title="QMP:char.ChardevCommonWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommonWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">stdio</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevStdioWrapper" title="QMP:char.ChardevStdioWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevStdioWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">console</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevCommonWrapper" title="QMP:char.ChardevCommonWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevCommonWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">spicevmc</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevSpiceChannelWrapper" title="QMP:char.ChardevSpiceChannelWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevSpiceChannelWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">spiceport</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevSpicePortWrapper" title="QMP:char.ChardevSpicePortWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevSpicePortWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">qemu-vdagent</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevQemuVDAgentWrapper" title="QMP:char.ChardevQemuVDAgentWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevQemuVDAgentWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">dbus</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevDBusWrapper" title="QMP:char.ChardevDBusWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevDBusWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vc</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevVCWrapper" title="QMP:char.ChardevVCWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevVCWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">ringbuf</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevRingbufWrapper" title="QMP:char.ChardevRingbufWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevRingbufWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">memory</span></code>: The members of <a class="reference internal" href="#object-QMP-char.ChardevRingbufWrapper" title="QMP:char.ChardevRingbufWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevRingbufWrapper</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-char.ChardevReturn">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChardevReturn</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#object-QMP-char.ChardevReturn" title="Link to this definition"></a></dt>
<dd><p>Return info about the chardev backend just created.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pty</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the slave pseudoterminal device, present if and only
if a chardev of type 'pty' was created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-char.chardev-add">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chardev-add</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#command-QMP-char.chardev-add" title="Link to this definition"></a></dt>
<dd><p>Add a character device backend</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the chardev's ID, must be unique</p></li>
<li><p><strong>backend</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevBackend" title="QMP:char.ChardevBackend"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevBackend</span></code></a></span>) -- backend type and parameters</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-char.ChardevReturn" title="QMP:char.ChardevReturn"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevReturn</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chardev-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;backend&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chardev-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;backend&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;out&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/bar.log&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chardev-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;baz&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;backend&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pty&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;pty&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/dev/pty/42&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-char.chardev-change">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chardev-change</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#command-QMP-char.chardev-change" title="Link to this definition"></a></dt>
<dd><p>Change a character device backend</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the chardev's ID, must exist</p></li>
<li><p><strong>backend</strong> (<span><a class="reference internal" href="#object-QMP-char.ChardevBackend" title="QMP:char.ChardevBackend"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevBackend</span></code></a></span>) -- new backend type and parameters</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-char.ChardevReturn" title="QMP:char.ChardevReturn"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ChardevReturn</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chardev-change&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;baz&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;backend&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pty&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;pty&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/dev/pty/42&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chardev-change&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;arguments&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;charchannel2&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;backend&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;socket&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;addr&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unix&quot;</span><span class="w"> </span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;path&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/charchannel2.socket&quot;</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                 </span><span class="p">},</span>
<span class="w">                 </span><span class="nt">&quot;server&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;wait&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}}}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-char.chardev-remove">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chardev-remove</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.4)</span></span><a class="headerlink" href="#command-QMP-char.chardev-remove" title="Link to this definition"></a></dt>
<dd><p>Remove a character device backend</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the chardev's ID, must exist and not be in use</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chardev-remove&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-char.chardev-send-break">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chardev-send-break</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#command-QMP-char.chardev-send-break" title="Link to this definition"></a></dt>
<dd><p>Send a break to a character device</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the chardev's ID, must exist</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chardev-send-break&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-char.VSERPORT_CHANGE">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VSERPORT_CHANGE</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#event-QMP-char.VSERPORT_CHANGE" title="Link to this definition"></a></dt>
<dd><p>Emitted when the guest opens or closes a virtio-serial port.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- device identifier of the virtio-serial port</p></li>
<li><p><strong>open</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the guest has opened the virtio-serial port</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VSERPORT_CHANGE&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;channel0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;open&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1401385907</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">422329</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="dump-guest-memory">
<span id="module-QMP-dump"></span><h2><a class="toc-backref" href="#id16" role="doc-backlink">Dump guest memory</a><a class="headerlink" href="#dump-guest-memory" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-dump.DumpGuestMemoryFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DumpGuestMemoryFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#enum-QMP-dump.DumpGuestMemoryFormat" title="Link to this definition"></a></dt>
<dd><p>An enumeration of guest-memory-dump's format.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elf</strong> -- elf format</p></li>
<li><p><strong>kdump-zlib</strong> -- makedumpfile flattened, kdump-compressed format with
zlib compression</p></li>
<li><p><strong>kdump-lzo</strong> -- makedumpfile flattened, kdump-compressed format with lzo
compression</p></li>
<li><p><strong>kdump-snappy</strong> -- makedumpfile flattened, kdump-compressed format with
snappy compression</p></li>
<li><p><strong>kdump-raw-zlib</strong> -- raw assembled kdump-compressed format with zlib
compression (since 8.2)</p></li>
<li><p><strong>kdump-raw-lzo</strong> -- raw assembled kdump-compressed format with lzo
compression (since 8.2)</p></li>
<li><p><strong>kdump-raw-snappy</strong> -- raw assembled kdump-compressed format with snappy
compression (since 8.2)</p></li>
<li><p><strong>win-dmp</strong> -- Windows full crashdump format, can be used instead of ELF
converting (since 2.13)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-dump.dump-guest-memory">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dump-guest-memory</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-dump.dump-guest-memory" title="Link to this definition"></a></dt>
<dd><p>Dump guest's memory to vmcore.  It is a synchronous operation that
can take very long depending on the amount of guest memory.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paging</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- <p>if true, do paging to get guest's memory mapping.  This
allows using gdb to process the core file.</p>
<p><strong>Important</strong>: this option can make QEMU allocate several
gigabytes of RAM.  This can happen for a large guest, or a
malicious guest pretending to be large.</p>
<p>Also, paging=true has the following limitations:</p>
<ol class="arabic simple">
<li><p>The guest may be in a catastrophic state or can have
corrupted memory, which cannot be trusted</p></li>
<li><p>The guest can be in real-mode even if paging is enabled.  For
example, the guest uses ACPI to sleep, and ACPI sleep state
goes in real-mode</p></li>
<li><p>Currently only supported on i386 and x86_64.</p></li>
</ol>
</p></li>
<li><p><strong>protocol</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- <p>the filename or file descriptor of the vmcore.  The
supported protocols are:</p>
<ol class="arabic simple">
<li><p>file: the protocol starts with &quot;file:&quot;, and the following
string is the file's path.</p></li>
<li><p>fd: the protocol starts with &quot;fd:&quot;, and the following string
is the fd's name.</p></li>
</ol>
</p></li>
<li><p><strong>detach</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, QMP will return immediately rather than waiting
for the dump to finish.  The user can track progress using
<a class="reference internal" href="#command-QMP-dump.query-dump" title="QMP:dump.query-dump"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-dump</span></code></a>.  (since 2.6).</p></li>
<li><p><strong>begin</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- if specified, the starting physical address.</p></li>
<li><p><strong>length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- if specified, the memory size, in bytes.  If you don't want
to dump all guest's memory, please specify the start <code class="docutils literal notranslate"><span class="pre">begin</span></code> and
<code class="docutils literal notranslate"><span class="pre">length</span></code></p></li>
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-dump.DumpGuestMemoryFormat" title="QMP:dump.DumpGuestMemoryFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DumpGuestMemoryFormat</span></code></a>, <em>optional</em></span>) -- if specified, the format of guest memory dump.  But non-elf
format is conflict with paging and filter, ie.  <code class="docutils literal notranslate"><span class="pre">paging</span></code>, <code class="docutils literal notranslate"><span class="pre">begin</span></code>
and <code class="docutils literal notranslate"><span class="pre">length</span></code> is not allowed to be specified with non-elf <code class="docutils literal notranslate"><span class="pre">format</span></code>
at the same time (since 2.0)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>All boolean arguments default to false.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dump-guest-memory&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;paging&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fd:dump&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-dump.DumpStatus">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DumpStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#enum-QMP-dump.DumpStatus" title="Link to this definition"></a></dt>
<dd><p>Describe the status of a long-running background guest memory dump.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- no <a class="reference internal" href="#command-QMP-dump.dump-guest-memory" title="QMP:dump.dump-guest-memory"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">dump-guest-memory</span></code></a> has started yet.</p></li>
<li><p><strong>active</strong> -- there is one dump running in background.</p></li>
<li><p><strong>completed</strong> -- the last dump has finished successfully.</p></li>
<li><p><strong>failed</strong> -- the last dump has failed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-dump.DumpQueryResult">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DumpQueryResult</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-dump.DumpQueryResult" title="Link to this definition"></a></dt>
<dd><p>The result format for <a class="reference internal" href="#command-QMP-dump.query-dump" title="QMP:dump.query-dump"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-dump</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> (<span><a class="reference internal" href="#enum-QMP-dump.DumpStatus" title="QMP:dump.DumpStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DumpStatus</span></code></a></span>) -- enum of <a class="reference internal" href="#enum-QMP-dump.DumpStatus" title="QMP:dump.DumpStatus"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">DumpStatus</span></code></a>, which shows current dump status</p></li>
<li><p><strong>completed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- bytes written in latest dump (uncompressed)</p></li>
<li><p><strong>total</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- total bytes to be written in latest dump (uncompressed)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-dump.query-dump">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-dump</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#command-QMP-dump.query-dump" title="Link to this definition"></a></dt>
<dd><p>Query latest dump status.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-dump.DumpQueryResult" title="QMP:dump.DumpQueryResult"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DumpQueryResult</span></code></a></span> -- An object showing the dump status.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-dump&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;completed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1024000</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2048000</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-dump.DUMP_COMPLETED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DUMP_COMPLETED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#event-QMP-dump.DUMP_COMPLETED" title="Link to this definition"></a></dt>
<dd><p>Emitted when background dump has completed</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result</strong> (<span><a class="reference internal" href="#object-QMP-dump.DumpQueryResult" title="QMP:dump.DumpQueryResult"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DumpQueryResult</span></code></a></span>) -- final dump status</p></li>
<li><p><strong>error</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- human-readable error string that provides hint on why dump
failed.  Only presents on failure.  The user should not try to
interpret the error string.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DUMP_COMPLETED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1090650112</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">                           </span><span class="nt">&quot;completed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1090650112</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1648244171</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">950316</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-dump.DumpGuestMemoryCapability">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DumpGuestMemoryCapability</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-dump.DumpGuestMemoryCapability" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formats</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-dump.DumpGuestMemoryFormat" title="QMP:dump.DumpGuestMemoryFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DumpGuestMemoryFormat</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the available formats for <a class="reference internal" href="#command-QMP-dump.dump-guest-memory" title="QMP:dump.dump-guest-memory"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">dump-guest-memory</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-dump.query-dump-guest-memory-capability">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-dump-guest-memory-capability</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#command-QMP-dump.query-dump-guest-memory-capability" title="Link to this definition"></a></dt>
<dd><p>Return the available formats for <a class="reference internal" href="#command-QMP-dump.dump-guest-memory" title="QMP:dump.dump-guest-memory"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">dump-guest-memory</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-dump.DumpGuestMemoryCapability" title="QMP:dump.DumpGuestMemoryCapability"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DumpGuestMemoryCapability</span></code></a></span> -- An object listing available formats for <a class="reference internal" href="#command-QMP-dump.dump-guest-memory" title="QMP:dump.dump-guest-memory"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">dump-guest-memory</span></code></a></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-dump-guest-memory-capability&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;formats&quot;</span><span class="p">:</span>
<span class="w">                 </span><span class="p">[</span><span class="s2">&quot;elf&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;kdump-zlib&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;kdump-lzo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;kdump-snappy&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="net-devices">
<span id="module-QMP-net"></span><h2><a class="toc-backref" href="#id17" role="doc-backlink">Net devices</a><a class="headerlink" href="#net-devices" title="Link to this heading"></a></h2>
<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-net.set_link">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_link</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-net.set_link" title="Link to this definition"></a></dt>
<dd><p>Sets the link status of a virtual network adapter.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device name of the virtual network adapter</p></li>
<li><p><strong>up</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true to set the link status to be up</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">name</span></code> is not a valid network device, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Not all network adapters support setting link status.
This command will succeed even if the network adapter does not
support link status notification.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;set_link&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e1000.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;up&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-net.netdev_add">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">netdev_add</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-net.netdev_add" title="Link to this definition"></a></dt>
<dd><p>Add a network backend.</p>
<p>Additional arguments depend on the type.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-net.Netdev" title="QMP:net.Netdev"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Netdev</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">type</span></code> is not a valid network backend, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev_add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev1&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;dnssearch&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;str&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example.org&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-net.netdev_del">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">netdev_del</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-net.netdev_del" title="Link to this definition"></a></dt>
<dd><p>Remove a network backend.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the network backend to remove</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">id</span></code> is not a valid network backend, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev_del&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetLegacyNicOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetLegacyNicOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.NetLegacyNicOptions" title="Link to this definition"></a></dt>
<dd><p>Create a new Network Interface Card.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>netdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- id of -netdev to connect to</p></li>
<li><p><strong>macaddr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- MAC address</p></li>
<li><p><strong>model</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- device model (e1000, rtl8139, virtio etc.)</p></li>
<li><p><strong>addr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- PCI device address</p></li>
<li><p><strong>vectors</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of MSI-x vectors, 0 to disable MSI-X</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.String">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">String</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.String" title="Link to this definition"></a></dt>
<dd><p>A fat type wrapping 'str', to be embedded in lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetDevPasstOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetDevPasstOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.1)</span></span><a class="headerlink" href="#object-QMP-net.NetDevPasstOptions" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_PASST</span></code></div>
</div>
<p>Unprivileged user-mode network connectivity using passt</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Filename of the passt program to run (by default 'passt', and use PATH)</p></li>
<li><p><strong>quiet</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- don't print informational messages (default, passed as '--quiet')</p></li>
<li><p><strong>vhost-user</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable vhost-user</p></li>
<li><p><strong>mtu</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- assign MTU via DHCP/NDP</p></li>
<li><p><strong>address</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- IPv4 or IPv6 address</p></li>
<li><p><strong>netmask</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- IPv4 mask</p></li>
<li><p><strong>mac</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- source MAC address</p></li>
<li><p><strong>gateway</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- IPv4 or IPv6 address as gateway</p></li>
<li><p><strong>interface</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- interface for addresses and routes</p></li>
<li><p><strong>outbound</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- bind to address as outbound source</p></li>
<li><p><strong>outbound-if4</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- bind to outbound interface for IPv4</p></li>
<li><p><strong>outbound-if6</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- bind to outbound interface for IPv6</p></li>
<li><p><strong>dns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- IPv4 or IPv6 address as DNS</p></li>
<li><p><strong>search</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-net.String" title="QMP:net.String"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">String</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- search domains</p></li>
<li><p><strong>fqdn</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- FQDN to configure client with</p></li>
<li><p><strong>dhcp-dns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable DNS list in DHCP/DHCPv6/NDP</p></li>
<li><p><strong>dhcp-search</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable list in DHCP/DHCPv6/NDP</p></li>
<li><p><strong>map-host-loopback</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- addresse to refer to host</p></li>
<li><p><strong>map-guest-addr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- addr to translate to guest's address</p></li>
<li><p><strong>dns-forward</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- forward DNS queries sent to</p></li>
<li><p><strong>dns-host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- host nameserver to direct queries to</p></li>
<li><p><strong>tcp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable TCP</p></li>
<li><p><strong>udp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable UDP</p></li>
<li><p><strong>icmp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable ICMP</p></li>
<li><p><strong>dhcp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable DHCP</p></li>
<li><p><strong>ndp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable NDP</p></li>
<li><p><strong>dhcpv6</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable DHCPv6</p></li>
<li><p><strong>ra</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable route advertisements</p></li>
<li><p><strong>freebind</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- bind to any address for forwarding</p></li>
<li><p><strong>ipv4</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable IPv4</p></li>
<li><p><strong>ipv6</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable/disable IPv6</p></li>
<li><p><strong>tcp-ports</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-net.String" title="QMP:net.String"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">String</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- TCP ports to forward</p></li>
<li><p><strong>udp-ports</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-net.String" title="QMP:net.String"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">String</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- UDP ports to forward</p></li>
<li><p><strong>param</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-net.String" title="QMP:net.String"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">String</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- parameter to pass to passt command</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevUserOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevUserOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevUserOptions" title="Link to this definition"></a></dt>
<dd><p>Use the user mode network stack which requires no administrator
privilege to run.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hostname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- client hostname reported by the builtin DHCP server</p></li>
<li><p><strong>restrict</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- isolate the guest from the host</p></li>
<li><p><strong>ipv4</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to support IPv4, default true for enabled (since 2.6)</p></li>
<li><p><strong>ipv6</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to support IPv6, default true for enabled (since 2.6)</p></li>
<li><p><strong>ip</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- legacy parameter, use net= instead</p></li>
<li><p><strong>net</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- IP network address that the guest will see, in the form
addr[/netmask] The netmask is optional, and can be either in the
form a.b.c.d or as a number of valid top-most bits.  Default is
10.0.2.0/24.</p></li>
<li><p><strong>host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- guest-visible address of the host</p></li>
<li><p><strong>tftp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- root directory of the built-in TFTP server</p></li>
<li><p><strong>bootfile</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- BOOTP filename, for use with tftp=</p></li>
<li><p><strong>dhcpstart</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the first of the 16 IPs the built-in DHCP server can
assign</p></li>
<li><p><strong>dns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- guest-visible address of the virtual nameserver</p></li>
<li><p><strong>dnssearch</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-net.String" title="QMP:net.String"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">String</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of DNS suffixes to search, passed as DHCP option to
the guest</p></li>
<li><p><strong>domainname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- guest-visible domain name of the virtual nameserver
(since 3.0)</p></li>
<li><p><strong>ipv6-prefix</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- IPv6 network prefix (default is fec0::).  The network
prefix is given in the usual hexadecimal IPv6 address notation.
(since 2.6)</p></li>
<li><p><strong>ipv6-prefixlen</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- IPv6 network prefix length (default is 64)
(since 2.6)</p></li>
<li><p><strong>ipv6-host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- guest-visible IPv6 address of the host (since 2.6)</p></li>
<li><p><strong>ipv6-dns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- guest-visible IPv6 address of the virtual nameserver
(since 2.6)</p></li>
<li><p><strong>smb</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- root directory of the built-in SMB server</p></li>
<li><p><strong>smbserver</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- IP address of the built-in SMB server</p></li>
<li><p><strong>hostfwd</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-net.String" title="QMP:net.String"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">String</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- redirect incoming TCP or UDP host connections to guest
endpoints</p></li>
<li><p><strong>guestfwd</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-net.String" title="QMP:net.String"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">String</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- forward guest TCP connections</p></li>
<li><p><strong>tftp-server-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- RFC2132 &quot;TFTP server name&quot; string (Since 3.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevTapOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevTapOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevTapOptions" title="Link to this definition"></a></dt>
<dd><p>Used to configure a host TAP network interface backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- interface name</p></li>
<li><p><strong>fd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- file descriptor of an already opened tap</p></li>
<li><p><strong>fds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- multiple file descriptors of already opened multiqueue capable
tap</p></li>
<li><p><strong>script</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- script to initialize the interface</p></li>
<li><p><strong>downscript</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- script to shut down the interface</p></li>
<li><p><strong>br</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- bridge name (since 2.8)</p></li>
<li><p><strong>helper</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- command to execute to configure bridge</p></li>
<li><p><strong>sndbuf</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- send buffer limit.  Understands [TGMKkb] suffixes.</p></li>
<li><p><strong>vnet_hdr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable the IFF_VNET_HDR flag on the tap interface</p></li>
<li><p><strong>vhost</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enable vhost-net network accelerator</p></li>
<li><p><strong>vhostfd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- file descriptor of an already opened vhost net device</p></li>
<li><p><strong>vhostfds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- file descriptors of multiple already opened vhost net
devices</p></li>
<li><p><strong>vhostforce</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- vhost on for non-MSIX virtio guests</p></li>
<li><p><strong>queues</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of queues to be created for multiqueue capable tap</p></li>
<li><p><strong>poll-us</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum number of microseconds that could be spent on busy
polling for tap (since 2.7)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevSocketOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevSocketOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevSocketOptions" title="Link to this definition"></a></dt>
<dd><p>Socket netdevs are used to establish a network connection to another
QEMU virtual machine via a TCP socket.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- file descriptor of an already opened socket</p></li>
<li><p><strong>listen</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- port number, and optional hostname, to listen on</p></li>
<li><p><strong>connect</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- port number, and optional hostname, to connect to</p></li>
<li><p><strong>mcast</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- UDP multicast address and port number</p></li>
<li><p><strong>localaddr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- source address and port for multicast and udp packets</p></li>
<li><p><strong>udp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- UDP unicast address and port number</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevL2TPv3Options">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevL2TPv3Options</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-net.NetdevL2TPv3Options" title="Link to this definition"></a></dt>
<dd><p>Configure an Ethernet over L2TPv3 tunnel.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- source address</p></li>
<li><p><strong>dst</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- destination address</p></li>
<li><p><strong>srcport</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- source port - mandatory for udp, optional for ip</p></li>
<li><p><strong>dstport</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- destination port - mandatory for udp, optional for ip</p></li>
<li><p><strong>ipv6</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- force the use of ipv6</p></li>
<li><p><strong>udp</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- use the udp version of l2tpv3 encapsulation</p></li>
<li><p><strong>cookie64</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- use 64 bit cookies</p></li>
<li><p><strong>counter</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- have sequence counter</p></li>
<li><p><strong>pincounter</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- pin sequence counter to zero - workaround for buggy
implementations or networks with packet reorder</p></li>
<li><p><strong>txcookie</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- 32 or 64 bit transmit cookie</p></li>
<li><p><strong>rxcookie</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- 32 or 64 bit receive cookie</p></li>
<li><p><strong>txsession</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- 32 bit transmit session</p></li>
<li><p><strong>rxsession</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- 32 bit receive session - if not specified set to the
same value as transmit</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- additional offset - allows the insertion of additional
application-specific data before the packet payload</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevVdeOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevVdeOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevVdeOptions" title="Link to this definition"></a></dt>
<dd><p>Connect to a vde switch running on the host.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- socket path</p></li>
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- port number</p></li>
<li><p><strong>group</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- group owner of socket</p></li>
<li><p><strong>mode</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- permissions for socket</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevBridgeOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevBridgeOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevBridgeOptions" title="Link to this definition"></a></dt>
<dd><p>Connect a host TAP network interface to a host bridge device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>br</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- bridge name</p></li>
<li><p><strong>helper</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- command to execute to configure bridge</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevHubPortOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevHubPortOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevHubPortOptions" title="Link to this definition"></a></dt>
<dd><p>Connect two or more net clients through a software hub.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hubid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- hub identifier number</p></li>
<li><p><strong>netdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- used to connect hub to a netdev instead of a device
(since 2.12)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevNetmapOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevNetmapOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-net.NetdevNetmapOptions" title="Link to this definition"></a></dt>
<dd><p>Connect a client to a netmap-enabled NIC or to a VALE switch port</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Either the name of an existing network interface supported
by netmap, or the name of a VALE port (created on the fly).  A
VALE port name is in the form 'valeXXX:YYY', where XXX and YYY
are non-negative integers.  XXX identifies a switch and YYY
identifies a port of the switch.  VALE ports having the same XXX
are therefore connected to the same switch.</p></li>
<li><p><strong>devname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- path of the netmap device (default: '/dev/netmap').</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-net.AFXDPMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AFXDPMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#enum-QMP-net.AFXDPMode" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_AF_XDP</span></code></div>
</div>
<p>Attach mode for a default XDP program</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>skb</strong> -- generic mode, no driver support necessary</p></li>
<li><p><strong>native</strong> -- DRV mode, program is attached to a driver, packets are
passed to the socket without allocation of skb.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevAFXDPOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevAFXDPOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevAFXDPOptions" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_AF_XDP</span></code></div>
</div>
<p>AF_XDP network backend</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name of an existing network interface.</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-net.AFXDPMode" title="QMP:net.AFXDPMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AFXDPMode</span></code></a>, <em>optional</em></span>) -- Attach mode for a default XDP program.  If not specified,
then 'native' will be tried first, then 'skb'.</p></li>
<li><p><strong>force-copy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Force XDP copy mode even if device supports zero-copy.
(default: false)</p></li>
<li><p><strong>queues</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of queues to be used for multiqueue interfaces
(default: 1).</p></li>
<li><p><strong>start-queue</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Use <code class="docutils literal notranslate"><span class="pre">queues</span></code> starting from this queue number
(default: 0).</p></li>
<li><p><strong>inhibit</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Don't load a default XDP program, use one already loaded
to the interface (default: false).  Requires <code class="docutils literal notranslate"><span class="pre">sock-fds</span></code> or <code class="docutils literal notranslate"><span class="pre">map-path</span></code>.</p></li>
<li><p><strong>sock-fds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- A colon (:) separated list of file descriptors for
already open but not bound AF_XDP sockets in the queue order.
One fd per queue.  These descriptors should already be added
into XDP socket map for corresponding queues.  <code class="docutils literal notranslate"><span class="pre">sock-fds</span></code> and
<code class="docutils literal notranslate"><span class="pre">map-path</span></code> are mutually exclusive.  Requires <code class="docutils literal notranslate"><span class="pre">inhibit</span></code>.</p></li>
<li><p><strong>map-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The path to a pinned xsk map to push file descriptors
for bound AF_XDP sockets into.  <code class="docutils literal notranslate"><span class="pre">map-path</span></code> and <code class="docutils literal notranslate"><span class="pre">sock-fds</span></code> are
mutually exclusive.  Requires <code class="docutils literal notranslate"><span class="pre">inhibit</span></code>.  (Since 10.1)</p></li>
<li><p><strong>map-start-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Use <code class="docutils literal notranslate"><span class="pre">map-path</span></code> to insert xsk sockets starting from
this index number (default: 0).  Requires <code class="docutils literal notranslate"><span class="pre">map-path</span></code>.  (Since 10.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevVhostUserOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevVhostUserOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-net.NetdevVhostUserOptions" title="Link to this definition"></a></dt>
<dd><p>Vhost-user network backend</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chardev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of a unix socket chardev</p></li>
<li><p><strong>vhostforce</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- vhost on for non-MSIX virtio guests (default: false).</p></li>
<li><p><strong>queues</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of queues to be created for multiqueue vhost-user
(default: 1) (Since 2.5)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevVhostVDPAOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevVhostVDPAOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-net.NetdevVhostVDPAOptions" title="Link to this definition"></a></dt>
<dd><p>Vhost-vdpa network backend</p>
<p>vDPA device is a device that uses a datapath which complies with the
virtio specifications with a vendor specific control path.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vhostdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- path of vhost-vdpa device (default:'/dev/vhost-vdpa-0')</p></li>
<li><p><strong>vhostfd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- file descriptor of an already opened vhost vdpa device</p></li>
<li><p><strong>queues</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of queues to be created for multiqueue vhost-vdpa
(default: 1)</p></li>
<li><p><strong>x-svq</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Start device with (experimental) shadow virtqueue.
(Since 7.1) (default: false)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Member <code class="docutils literal notranslate"><span class="pre">x-svq</span></code> is experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevVmnetHostOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevVmnetHostOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-net.NetdevVmnetHostOptions" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VMNET</span></code></div>
</div>
<p>vmnet (host mode) network backend.</p>
<p>Allows the vmnet interface to communicate with other vmnet
interfaces that are in host mode and also with the host.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start-address</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The starting IPv4 address to use for the interface.
Must be in the private IP range (RFC 1918).  Must be specified
along with <code class="docutils literal notranslate"><span class="pre">end-address</span></code> and <code class="docutils literal notranslate"><span class="pre">subnet-mask</span></code>.  This address is used
as the gateway address.  The subsequent address up to and
including end-address are placed in the DHCP pool.</p></li>
<li><p><strong>end-address</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The DHCP IPv4 range end address to use for the
interface.  Must be in the private IP range (RFC 1918).  Must be
specified along with <code class="docutils literal notranslate"><span class="pre">start-address</span></code> and <code class="docutils literal notranslate"><span class="pre">subnet-mask</span></code>.</p></li>
<li><p><strong>subnet-mask</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The IPv4 subnet mask to use on the interface.  Must be
specified along with <code class="docutils literal notranslate"><span class="pre">start-address</span></code> and <code class="docutils literal notranslate"><span class="pre">subnet-mask</span></code>.</p></li>
<li><p><strong>isolated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Enable isolation for this interface.  Interface isolation
ensures that vmnet interface is not able to communicate with any
other vmnet interfaces.  Only communication with host is
allowed.  Requires at least macOS Big Sur 11.0.</p></li>
<li><p><strong>net-uuid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The identifier (UUID) to uniquely identify the isolated
network vmnet interface should be added to.  If set, no DHCP
service is provided for this interface and network communication
is allowed only with other interfaces added to this network
identified by the UUID.  Requires at least macOS Big Sur 11.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevVmnetSharedOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevVmnetSharedOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-net.NetdevVmnetSharedOptions" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VMNET</span></code></div>
</div>
<p>vmnet (shared mode) network backend.</p>
<p>Allows traffic originating from the vmnet interface to reach the
Internet through a network address translator (NAT).  The vmnet
interface can communicate with the host and with other shared mode
interfaces on the same subnet.  If no DHCP settings, subnet mask and
IPv6 prefix specified, the interface can communicate with any of
other interfaces in shared mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start-address</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The starting IPv4 address to use for the interface.
Must be in the private IP range (RFC 1918).  Must be specified
along with <code class="docutils literal notranslate"><span class="pre">end-address</span></code> and <code class="docutils literal notranslate"><span class="pre">subnet-mask</span></code>.  This address is used
as the gateway address.  The subsequent address up to and
including end-address are placed in the DHCP pool.</p></li>
<li><p><strong>end-address</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The DHCP IPv4 range end address to use for the
interface.  Must be in the private IP range (RFC 1918).  Must be
specified along with <code class="docutils literal notranslate"><span class="pre">start-address</span></code> and <code class="docutils literal notranslate"><span class="pre">subnet-mask</span></code>.</p></li>
<li><p><strong>subnet-mask</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The IPv4 subnet mask to use on the interface.  Must be
specified along with <code class="docutils literal notranslate"><span class="pre">start-address</span></code> and <code class="docutils literal notranslate"><span class="pre">subnet-mask</span></code>.</p></li>
<li><p><strong>isolated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Enable isolation for this interface.  Interface isolation
ensures that vmnet interface is not able to communicate with any
other vmnet interfaces.  Only communication with host is
allowed.  Requires at least macOS Big Sur 11.0.</p></li>
<li><p><strong>nat66-prefix</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The IPv6 prefix to use into guest network.  Must be a
unique local address i.e. start with fd00::/8 and have length of
64.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevVmnetBridgedOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevVmnetBridgedOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-net.NetdevVmnetBridgedOptions" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VMNET</span></code></div>
</div>
<p>vmnet (bridged mode) network backend.</p>
<p>Bridges the vmnet interface with a physical network interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name of the physical interface to be bridged.</p></li>
<li><p><strong>isolated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Enable isolation for this interface.  Interface isolation
ensures that vmnet interface is not able to communicate with any
other vmnet interfaces.  Only communication with host is
allowed.  Requires at least macOS Big Sur 11.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevStreamOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevStreamOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevStreamOptions" title="Link to this definition"></a></dt>
<dd><p>Configuration info for stream socket netdev</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a></span>) -- socket address to listen on (server=true) or connect to
(server=false)</p></li>
<li><p><strong>server</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- create server socket (default: false)</p></li>
<li><p><strong>reconnect</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- For a client socket, if a socket is disconnected, then
attempt a reconnect after the given number of seconds.  Setting
this to zero disables this function.  (default: 0) (since 8.0)</p></li>
<li><p><strong>reconnect-ms</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- For a client socket, if a socket is disconnected, then
attempt a reconnect after the given number of milliseconds.  Setting
this to zero disables this function.  This member is mutually
exclusive with <code class="docutils literal notranslate"><span class="pre">reconnect</span></code>.  (default: 0) (Since: 9.2)</p></li>
</ul>
</dd>
</dl>
<p>Only <a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SocketAddress</span></code></a> types 'unix', 'inet' and 'fd' are supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">reconnect</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">reconnect-ms</span></code>
instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.NetdevDgramOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetdevDgramOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-net.NetdevDgramOptions" title="Link to this definition"></a></dt>
<dd><p>Configuration info for datagram socket netdev.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>remote</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a>, <em>optional</em></span>) -- remote address</p></li>
<li><p><strong>local</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a>, <em>optional</em></span>) -- local address</p></li>
</ul>
</dd>
</dl>
<p>Only <a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SocketAddress</span></code></a> types 'unix', 'inet' and 'fd' are supported.</p>
<p>If remote address is present and it's a multicast address, local
address is optional.  Otherwise local address is required and remote
address is optional.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Valid parameters combination table</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>remote</p></th>
<th class="head"><p>local</p></th>
<th class="head"><p>okay?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>absent</p></td>
<td><p>absent</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>absent</p></td>
<td><p>not fd</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>absent</p></td>
<td><p>fd</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>multicast</p></td>
<td><p>absent</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>multicast</p></td>
<td><p>present</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>not multicast</p></td>
<td><p>absent</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>not multicast</p></td>
<td><p>present</p></td>
<td><p>yes</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-net.NetClientDriver">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetClientDriver</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#enum-QMP-net.NetClientDriver" title="Link to this definition"></a></dt>
<dd><p>Available netdev drivers.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l2tpv3</strong> -- since 2.1</p></li>
<li><p><strong>vhost-vdpa</strong> -- since 5.1</p></li>
<li><p><strong>vmnet-host</strong> -- since 7.1</p></li>
<li><p><strong>vmnet-shared</strong> -- since 7.1</p></li>
<li><p><strong>vmnet-bridged</strong> -- since 7.1</p></li>
<li><p><strong>stream</strong> -- since 7.2</p></li>
<li><p><strong>dgram</strong> -- since 7.2</p></li>
<li><p><strong>af-xdp</strong> -- since 8.2</p></li>
<li><p><strong>passt</strong> -- since 10.1</p></li>
<li><p><strong>none</strong> -- Not documented</p></li>
<li><p><strong>nic</strong> -- Not documented</p></li>
<li><p><strong>user</strong> -- Not documented</p></li>
<li><p><strong>tap</strong> -- Not documented</p></li>
<li><p><strong>socket</strong> -- Not documented</p></li>
<li><p><strong>vde</strong> -- Not documented</p></li>
<li><p><strong>bridge</strong> -- Not documented</p></li>
<li><p><strong>hubport</strong> -- Not documented</p></li>
<li><p><strong>netmap</strong> -- Not documented</p></li>
<li><p><strong>vhost-user</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.Netdev">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Netdev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-net.Netdev" title="Link to this definition"></a></dt>
<dd><p>Captures the configuration of a network device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- identifier for monitor commands.</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-net.NetClientDriver" title="QMP:net.NetClientDriver"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetClientDriver</span></code></a></span>) -- Specify the driver used for interpreting remaining arguments.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">nic</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetLegacyNicOptions" title="QMP:net.NetLegacyNicOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetLegacyNicOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">passt</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetDevPasstOptions" title="QMP:net.NetDevPasstOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetDevPasstOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">user</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevUserOptions" title="QMP:net.NetdevUserOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevUserOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">tap</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevTapOptions" title="QMP:net.NetdevTapOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevTapOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">l2tpv3</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevL2TPv3Options" title="QMP:net.NetdevL2TPv3Options"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevL2TPv3Options</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">socket</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevSocketOptions" title="QMP:net.NetdevSocketOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevSocketOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">stream</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevStreamOptions" title="QMP:net.NetdevStreamOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevStreamOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">dgram</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevDgramOptions" title="QMP:net.NetdevDgramOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevDgramOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vde</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevVdeOptions" title="QMP:net.NetdevVdeOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevVdeOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">bridge</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevBridgeOptions" title="QMP:net.NetdevBridgeOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevBridgeOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">hubport</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevHubPortOptions" title="QMP:net.NetdevHubPortOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevHubPortOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">netmap</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevNetmapOptions" title="QMP:net.NetdevNetmapOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevNetmapOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">af-xdp</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevAFXDPOptions" title="QMP:net.NetdevAFXDPOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevAFXDPOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vhost-user</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevVhostUserOptions" title="QMP:net.NetdevVhostUserOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevVhostUserOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vhost-vdpa</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevVhostVDPAOptions" title="QMP:net.NetdevVhostVDPAOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevVhostVDPAOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vmnet-host</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevVmnetHostOptions" title="QMP:net.NetdevVmnetHostOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevVmnetHostOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vmnet-shared</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevVmnetSharedOptions" title="QMP:net.NetdevVmnetSharedOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevVmnetSharedOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vmnet-bridged</span></code>: The members of <a class="reference internal" href="#object-QMP-net.NetdevVmnetBridgedOptions" title="QMP:net.NetdevVmnetBridgedOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetdevVmnetBridgedOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-net.RxState">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RxState</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#enum-QMP-net.RxState" title="Link to this definition"></a></dt>
<dd><p>Packets receiving state</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>normal</strong> -- filter assigned packets according to the mac-table</p></li>
<li><p><strong>none</strong> -- don't receive any assigned packet</p></li>
<li><p><strong>all</strong> -- receive all assigned packets</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.RxFilterInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RxFilterInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#object-QMP-net.RxFilterInfo" title="Link to this definition"></a></dt>
<dd><p>Rx-filter information for a NIC.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- net client name</p></li>
<li><p><strong>promiscuous</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether promiscuous mode is enabled</p></li>
<li><p><strong>multicast</strong> (<span><a class="reference internal" href="#enum-QMP-net.RxState" title="QMP:net.RxState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RxState</span></code></a></span>) -- multicast receive state</p></li>
<li><p><strong>unicast</strong> (<span><a class="reference internal" href="#enum-QMP-net.RxState" title="QMP:net.RxState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RxState</span></code></a></span>) -- unicast receive state</p></li>
<li><p><strong>vlan</strong> (<span><a class="reference internal" href="#enum-QMP-net.RxState" title="QMP:net.RxState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RxState</span></code></a></span>) -- vlan receive state (Since 2.0)</p></li>
<li><p><strong>broadcast-allowed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether to receive broadcast</p></li>
<li><p><strong>multicast-overflow</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- multicast table is overflowed or not</p></li>
<li><p><strong>unicast-overflow</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- unicast table is overflowed or not</p></li>
<li><p><strong>main-mac</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the main macaddr string</p></li>
<li><p><strong>vlan-table</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- a list of active vlan id</p></li>
<li><p><strong>unicast-table</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- a list of unicast macaddr string</p></li>
<li><p><strong>multicast-table</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- a list of multicast macaddr string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-net.query-rx-filter">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-rx-filter</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#command-QMP-net.query-rx-filter" title="Link to this definition"></a></dt>
<dd><p>Return rx-filter information for all NICs (or for the given NIC).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- net client name</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-net.RxFilterInfo" title="QMP:net.RxFilterInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RxFilterInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- list of info for all NICs (or for the given NIC).</p>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>if the given <code class="docutils literal notranslate"><span class="pre">name</span></code> doesn't exist</p></li>
<li><p>if the given NIC doesn't support rx-filter querying</p></li>
<li><p>if the given net client isn't a NIC</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-rx-filter&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vnet0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;promiscuous&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vnet0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;main-mac&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;52:54:00:12:34:56&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;unicast&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;vlan&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;vlan-table&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="mi">4</span><span class="p">,</span>
<span class="w">                </span><span class="mi">0</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;unicast-table&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;multicast&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;multicast-overflow&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;unicast-overflow&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;multicast-table&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;01:00:5e:00:00:01&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;33:33:00:00:00:01&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;33:33:ff:12:34:56&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;broadcast-allowed&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-net.NIC_RX_FILTER_CHANGED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NIC_RX_FILTER_CHANGED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#event-QMP-net.NIC_RX_FILTER_CHANGED" title="Link to this definition"></a></dt>
<dd><p>Emitted once until the <a class="reference internal" href="#command-QMP-net.query-rx-filter" title="QMP:net.query-rx-filter"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-rx-filter</span></code></a> command is executed, the
first event will always be emitted</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- net client name</p></li>
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- device path</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NIC_RX_FILTER_CHANGED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vnet0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/vnet0/virtio-backend&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1368697518</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">326866</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-net.AnnounceParameters">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AnnounceParameters</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-net.AnnounceParameters" title="Link to this definition"></a></dt>
<dd><p>Parameters for self-announce timers</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initial</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Initial delay (in ms) before sending the first GARP/RARP
announcement</p></li>
<li><p><strong>max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Maximum delay (in ms) between GARP/RARP announcement packets</p></li>
<li><p><strong>rounds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of self-announcement attempts</p></li>
<li><p><strong>step</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Delay increase (in ms) after each self-announcement attempt</p></li>
<li><p><strong>interfaces</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- An optional list of interface names, which restricts
the announcement to the listed interfaces.  (Since 4.1)</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- A name to be used to identify an instance of announce-timers
and to allow it to modified later.  Not for use as part of the
migration parameters.  (Since 4.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-net.announce-self">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">announce-self</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#command-QMP-net.announce-self" title="Link to this definition"></a></dt>
<dd><p>Trigger generation of broadcast RARP frames to update network
switches.  This can be useful when network bonds fail-over the
active slave.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-net.AnnounceParameters" title="QMP:net.AnnounceParameters"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AnnounceParameters</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;announce-self&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;initial&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">550</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;rounds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;step&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;interfaces&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;vn2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;vn3&quot;</span><span class="p">],</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bob&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-net.FAILOVER_NEGOTIATED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FAILOVER_NEGOTIATED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#event-QMP-net.FAILOVER_NEGOTIATED" title="Link to this definition"></a></dt>
<dd><p>Emitted when VIRTIO_NET_F_STANDBY was enabled during feature
negotiation.  Failover primary devices which were hidden (not
hotplugged when requested) before will now be hotplugged by the
virtio-net standby device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QEMU device id of the unplugged device</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FAILOVER_NEGOTIATED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;net1&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1368697518</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">326866</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-net.NETDEV_STREAM_CONNECTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NETDEV_STREAM_CONNECTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#event-QMP-net.NETDEV_STREAM_CONNECTED" title="Link to this definition"></a></dt>
<dd><p>Emitted when the netdev stream backend is connected</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>netdev-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QEMU netdev id that is connected</p></li>
<li><p><strong>addr</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a></span>) -- The destination address</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NETDEV_STREAM_CONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;netdev-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;47666&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;ipv6&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;::1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inet&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1666269863</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">311222</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NETDEV_STREAM_CONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;netdev-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/qemu0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unix&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1666269706</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">413651</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-net.NETDEV_STREAM_DISCONNECTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NETDEV_STREAM_DISCONNECTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#event-QMP-net.NETDEV_STREAM_DISCONNECTED" title="Link to this definition"></a></dt>
<dd><p>Emitted when the netdev stream backend is disconnected</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>netdev-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QEMU netdev id that is disconnected</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NETDEV_STREAM_DISCONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;netdev-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev0&quot;</span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1663330937</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">526695</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-net.NETDEV_VHOST_USER_CONNECTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NETDEV_VHOST_USER_CONNECTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#event-QMP-net.NETDEV_VHOST_USER_CONNECTED" title="Link to this definition"></a></dt>
<dd><p>Emitted when the vhost-user chardev is connected</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>netdev-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QEMU netdev id that is connected</p></li>
<li><p><strong>chardev-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The character device id used by the QEMU netdev</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1739538638</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">354181</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NETDEV_VHOST_USER_CONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;netdev-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;chardev-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chr0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-net.NETDEV_VHOST_USER_DISCONNECTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NETDEV_VHOST_USER_DISCONNECTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#event-QMP-net.NETDEV_VHOST_USER_DISCONNECTED" title="Link to this definition"></a></dt>
<dd><p>Emitted when the vhost-user chardev is disconnected</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>netdev-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QEMU netdev id that is disconnected</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1739538634</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">920450</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NETDEV_VHOST_USER_DISCONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;netdev-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;netdev0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="ebpf-objects">
<span id="module-QMP-ebpf"></span><h2><a class="toc-backref" href="#id18" role="doc-backlink">eBPF Objects</a><a class="headerlink" href="#ebpf-objects" title="Link to this heading"></a></h2>
<p>eBPF object is an ELF binary that contains the eBPF program and eBPF
map description(BTF).  Overall, eBPF object should contain the
program and enough metadata to create/load eBPF with libbpf.  As the
eBPF maps/program should correspond to QEMU, the eBPF can't be used
from different QEMU build.</p>
<p>Currently, there is a possible eBPF for receive-side scaling (RSS).</p>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ebpf.EbpfObject">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EbpfObject</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#object-QMP-ebpf.EbpfObject" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_EBPF</span></code></div>
</div>
<p>An eBPF ELF object.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the eBPF object encoded in base64</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ebpf.EbpfProgramID">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EbpfProgramID</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#enum-QMP-ebpf.EbpfProgramID" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_EBPF</span></code></div>
</div>
<p>The eBPF programs that can be gotten with <a class="reference internal" href="#command-QMP-ebpf.request-ebpf" title="QMP:ebpf.request-ebpf"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">request-ebpf</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> -- Receive side scaling, technology that allows steering traffic
between queues by calculation hash.  Users may set up
indirection table and hash/packet types configurations.  Used
with virtio-net.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ebpf.request-ebpf">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">request-ebpf</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#command-QMP-ebpf.request-ebpf" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_EBPF</span></code></div>
</div>
<p>Retrieve an eBPF object that can be loaded with libbpf.  Management
applications (e.g. libvirt) may load it and pass file descriptors to
QEMU, so they can run running QEMU without BPF capabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><a class="reference internal" href="#enum-QMP-ebpf.EbpfProgramID" title="QMP:ebpf.EbpfProgramID"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">EbpfProgramID</span></code></a></span>) -- The ID of the program to return.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-ebpf.EbpfObject" title="QMP:ebpf.EbpfObject"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">EbpfObject</span></code></a></span> -- eBPF object encoded in base64.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="rocker-switch-device">
<span id="module-QMP-rocker"></span><h2><a class="toc-backref" href="#id19" role="doc-backlink">Rocker switch device</a><a class="headerlink" href="#rocker-switch-device" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-rocker.RockerSwitch">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerSwitch</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-rocker.RockerSwitch" title="Link to this definition"></a></dt>
<dd><p>Rocker switch information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- switch name</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- switch ID</p></li>
<li><p><strong>ports</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of front-panel ports</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-rocker.query-rocker">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-rocker</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-rocker.query-rocker" title="Link to this definition"></a></dt>
<dd><p>Return rocker switch information.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- switch name</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-rocker.RockerSwitch" title="QMP:rocker.RockerSwitch"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerSwitch</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-rocker&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sw1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sw1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;ports&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1327446905938</span><span class="p">}}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-rocker.RockerPortDuplex">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerPortDuplex</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#enum-QMP-rocker.RockerPortDuplex" title="Link to this definition"></a></dt>
<dd><p>An enumeration of port duplex states.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>half</strong> -- half duplex</p></li>
<li><p><strong>full</strong> -- full duplex</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-rocker.RockerPortAutoneg">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerPortAutoneg</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#enum-QMP-rocker.RockerPortAutoneg" title="Link to this definition"></a></dt>
<dd><p>An enumeration of port autoneg states.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>off</strong> -- autoneg is off</p></li>
<li><p><strong>on</strong> -- autoneg is on</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-rocker.RockerPort">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerPort</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-rocker.RockerPort" title="Link to this definition"></a></dt>
<dd><p>Rocker switch port information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- port name</p></li>
<li><p><strong>enabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- port is enabled for I/O</p></li>
<li><p><strong>link-up</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- physical link is UP on port</p></li>
<li><p><strong>speed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- port link speed in Mbps</p></li>
<li><p><strong>duplex</strong> (<span><a class="reference internal" href="#enum-QMP-rocker.RockerPortDuplex" title="QMP:rocker.RockerPortDuplex"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerPortDuplex</span></code></a></span>) -- port link duplex</p></li>
<li><p><strong>autoneg</strong> (<span><a class="reference internal" href="#enum-QMP-rocker.RockerPortAutoneg" title="QMP:rocker.RockerPortAutoneg"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerPortAutoneg</span></code></a></span>) -- port link autoneg</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-rocker.query-rocker-ports">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-rocker-ports</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-rocker.query-rocker-ports" title="Link to this definition"></a></dt>
<dd><p>Return rocker switch port information.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- port name</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-rocker.RockerPort" title="QMP:rocker.RockerPort"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerPort</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-rocker-ports&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sw1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;duplex&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;full&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sw1.1&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;autoneg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;link-up&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;speed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="nt">&quot;duplex&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;full&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sw1.2&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;autoneg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;link-up&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;speed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">}</span>
<span class="w">   </span><span class="p">]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-rocker.RockerOfDpaFlowKey">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerOfDpaFlowKey</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-rocker.RockerOfDpaFlowKey" title="Link to this definition"></a></dt>
<dd><p>Rocker switch OF-DPA flow key</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>priority</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- key priority, 0 being lowest priority</p></li>
<li><p><strong>tbl-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- flow table ID</p></li>
<li><p><strong>in-pport</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- physical input port</p></li>
<li><p><strong>tunnel-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- tunnel ID</p></li>
<li><p><strong>vlan-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- VLAN ID</p></li>
<li><p><strong>eth-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Ethernet header type</p></li>
<li><p><strong>eth-src</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Ethernet header source MAC address</p></li>
<li><p><strong>eth-dst</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Ethernet header destination MAC address</p></li>
<li><p><strong>ip-proto</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- IP Header protocol field</p></li>
<li><p><strong>ip-tos</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- IP header TOS field</p></li>
<li><p><strong>ip-dst</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- IP header destination address</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Optional members may or may not appear in the flow key
depending if they're relevant to the flow key.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-rocker.RockerOfDpaFlowMask">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerOfDpaFlowMask</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-rocker.RockerOfDpaFlowMask" title="Link to this definition"></a></dt>
<dd><p>Rocker switch OF-DPA flow mask</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in-pport</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- physical input port</p></li>
<li><p><strong>tunnel-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- tunnel ID</p></li>
<li><p><strong>vlan-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- VLAN ID</p></li>
<li><p><strong>eth-src</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Ethernet header source MAC address</p></li>
<li><p><strong>eth-dst</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Ethernet header destination MAC address</p></li>
<li><p><strong>ip-proto</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- IP Header protocol field</p></li>
<li><p><strong>ip-tos</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- IP header TOS field</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Optional members may or may not appear in the flow mask
depending if they're relevant to the flow mask.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-rocker.RockerOfDpaFlowAction">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerOfDpaFlowAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-rocker.RockerOfDpaFlowAction" title="Link to this definition"></a></dt>
<dd><p>Rocker switch OF-DPA flow action</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>goto-tbl</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- next table ID</p></li>
<li><p><strong>group-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- group ID</p></li>
<li><p><strong>tunnel-lport</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- tunnel logical port ID</p></li>
<li><p><strong>vlan-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- VLAN ID</p></li>
<li><p><strong>new-vlan-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- new VLAN ID</p></li>
<li><p><strong>out-pport</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- physical output port</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Optional members may or may not appear in the flow action
depending if they're relevant to the flow action.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-rocker.RockerOfDpaFlow">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerOfDpaFlow</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-rocker.RockerOfDpaFlow" title="Link to this definition"></a></dt>
<dd><p>Rocker switch OF-DPA flow</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cookie</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- flow unique cookie ID</p></li>
<li><p><strong>hits</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- count of matches (hits) on flow</p></li>
<li><p><strong>key</strong> (<span><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaFlowKey" title="QMP:rocker.RockerOfDpaFlowKey"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerOfDpaFlowKey</span></code></a></span>) -- flow key</p></li>
<li><p><strong>mask</strong> (<span><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaFlowMask" title="QMP:rocker.RockerOfDpaFlowMask"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerOfDpaFlowMask</span></code></a></span>) -- flow mask</p></li>
<li><p><strong>action</strong> (<span><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaFlowAction" title="QMP:rocker.RockerOfDpaFlowAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerOfDpaFlowAction</span></code></a></span>) -- flow action</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-rocker.query-rocker-of-dpa-flows">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-rocker-of-dpa-flows</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-rocker.query-rocker-of-dpa-flows" title="Link to this definition"></a></dt>
<dd><p>Return rocker OF-DPA flow information.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- switch name</p></li>
<li><p><strong>tbl-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- flow table ID.  If tbl-id is not specified, returns flow
information for all tables.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaFlow" title="QMP:rocker.RockerOfDpaFlow"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerOfDpaFlow</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- rocker OF-DPA flow information</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-rocker-of-dpa-flows&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sw1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;in-pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;priority&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;tbl-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;hits&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">138</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;cookie&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;goto-tbl&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;mask&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;in-pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4294901760</span><span class="p">}</span>
<span class="w">                 </span><span class="p">},</span>
<span class="w">                 </span><span class="cm">...</span>
<span class="w">   </span><span class="p">]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-rocker.RockerOfDpaGroup">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RockerOfDpaGroup</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-rocker.RockerOfDpaGroup" title="Link to this definition"></a></dt>
<dd><p>Rocker switch OF-DPA group</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- group unique ID</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- group type</p></li>
<li><p><strong>vlan-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- VLAN ID</p></li>
<li><p><strong>pport</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- physical port number</p></li>
<li><p><strong>index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- group index, unique with group type</p></li>
<li><p><strong>out-pport</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- output physical port number</p></li>
<li><p><strong>group-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- next group ID</p></li>
<li><p><strong>set-vlan-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- VLAN ID to set</p></li>
<li><p><strong>pop-vlan</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- pop VLAN headr from packet</p></li>
<li><p><strong>group-ids</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of next group IDs</p></li>
<li><p><strong>set-eth-src</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- set source MAC address in Ethernet header</p></li>
<li><p><strong>set-eth-dst</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- set destination MAC address in Ethernet header</p></li>
<li><p><strong>ttl-check</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- perform TTL check</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Optional members may or may not appear in the group
depending if they're relevant to the group type.</p>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-rocker.query-rocker-of-dpa-groups">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-rocker-of-dpa-groups</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-rocker.query-rocker-of-dpa-groups" title="Link to this definition"></a></dt>
<dd><p>Return rocker OF-DPA group information.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- switch name</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- group type.  If type is not specified, returns group
information for all group types.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-rocker.RockerOfDpaGroup" title="QMP:rocker.RockerOfDpaGroup"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RockerOfDpaGroup</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- rocker OF-DPA group information</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-rocker-of-dpa-groups&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sw1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;out-pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vlan-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3841</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;pop-vlan&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">251723778</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;out-pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vlan-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3841</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;pop-vlan&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">251723776</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;out-pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vlan-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3840</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;pop-vlan&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">251658241</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;out-pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;pport&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vlan-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3840</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;pop-vlan&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">251658240</span><span class="p">}</span>
<span class="w">   </span><span class="p">]}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="tpm-trusted-platform-module-devices">
<span id="module-QMP-tpm"></span><h2><a class="toc-backref" href="#id20" role="doc-backlink">TPM (trusted platform module) devices</a><a class="headerlink" href="#tpm-trusted-platform-module-devices" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-tpm.TpmModel">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TpmModel</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#enum-QMP-tpm.TpmModel" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>An enumeration of TPM models</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tpm-tis</strong> -- TPM TIS model</p></li>
<li><p><strong>tpm-crb</strong> -- TPM CRB model (since 2.12)</p></li>
<li><p><strong>tpm-spapr</strong> -- TPM SPAPR model (since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-tpm.query-tpm-models">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-tpm-models</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#command-QMP-tpm.query-tpm-models" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>Return a list of supported TPM models</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-tpm.TpmModel" title="QMP:tpm.TpmModel"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TpmModel</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-tpm-models&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;tpm-tis&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tpm-crb&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tpm-spapr&quot;</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-tpm.TpmType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TpmType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#enum-QMP-tpm.TpmType" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>An enumeration of TPM types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>passthrough</strong> -- TPM passthrough type</p></li>
<li><p><strong>emulator</strong> -- Software Emulator TPM type (since 2.11)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-tpm.query-tpm-types">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-tpm-types</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#command-QMP-tpm.query-tpm-types" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>Return a list of supported TPM types</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-tpm.TpmType" title="QMP:tpm.TpmType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TpmType</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-tpm-types&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;passthrough&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;emulator&quot;</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-tpm.TPMPassthroughOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TPMPassthroughOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-tpm.TPMPassthroughOptions" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>Information about the TPM passthrough type</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- string describing the path used for accessing the TPM device</p></li>
<li><p><strong>cancel-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- string showing the TPM's sysfs cancel file for
cancellation of TPM commands while they are executing</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-tpm.TPMEmulatorOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TPMEmulatorOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#object-QMP-tpm.TPMEmulatorOptions" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>Information about the TPM emulator type</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chardev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of a unix socket chardev</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-tpm.TPMPassthroughOptionsWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TPMPassthroughOptionsWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-tpm.TPMPassthroughOptionsWrapper" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-tpm.TPMPassthroughOptions" title="QMP:tpm.TPMPassthroughOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TPMPassthroughOptions</span></code></a></span>) -- Information about the TPM passthrough type</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-tpm.TPMEmulatorOptionsWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TPMEmulatorOptionsWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#object-QMP-tpm.TPMEmulatorOptionsWrapper" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-tpm.TPMEmulatorOptions" title="QMP:tpm.TPMEmulatorOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TPMEmulatorOptions</span></code></a></span>) -- Information about the TPM emulator type</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-tpm.TpmTypeOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TpmTypeOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-tpm.TpmTypeOptions" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>A union referencing different TPM backend types' configuration
options</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-tpm.TpmType" title="QMP:tpm.TpmType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TpmType</span></code></a></span>) -- <ul>
<li><p>'passthrough' The configuration options for the TPM
passthrough type</p></li>
<li><p>'emulator' The configuration options for TPM emulator backend
type</p></li>
</ul>
</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">passthrough</span></code>: The members of <a class="reference internal" href="#object-QMP-tpm.TPMPassthroughOptionsWrapper" title="QMP:tpm.TPMPassthroughOptionsWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TPMPassthroughOptionsWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">emulator</span></code>: The members of <a class="reference internal" href="#object-QMP-tpm.TPMEmulatorOptionsWrapper" title="QMP:tpm.TPMEmulatorOptionsWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TPMEmulatorOptionsWrapper</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-tpm.TPMInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TPMInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-tpm.TPMInfo" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>Information about the TPM</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The Id of the TPM</p></li>
<li><p><strong>model</strong> (<span><a class="reference internal" href="#enum-QMP-tpm.TpmModel" title="QMP:tpm.TpmModel"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TpmModel</span></code></a></span>) -- The TPM frontend model</p></li>
<li><p><strong>options</strong> (<span><a class="reference internal" href="#object-QMP-tpm.TpmTypeOptions" title="QMP:tpm.TpmTypeOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TpmTypeOptions</span></code></a></span>) -- The TPM (backend) type configuration options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-tpm.query-tpm">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-tpm</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#command-QMP-tpm.query-tpm" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TPM</span></code></div>
</div>
<p>Return information about the TPM device</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-tpm.TPMInfo" title="QMP:tpm.TPMInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TPMInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-tpm&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span>
<span class="w">     </span><span class="p">[</span>
<span class="w">       </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tpm-tis&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;options&quot;</span><span class="p">:</span>
<span class="w">           </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;passthrough&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;data&quot;</span><span class="p">:</span>
<span class="w">               </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;cancel-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/sys/class/misc/tpm0/device/cancel&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/dev/tpm0&quot;</span>
<span class="w">               </span><span class="p">}</span>
<span class="w">           </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tpm0&quot;</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">     </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="remote-desktop">
<span id="module-QMP-ui"></span><h2><a class="toc-backref" href="#id21" role="doc-backlink">Remote desktop</a><a class="headerlink" href="#remote-desktop" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.DisplayProtocol">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayProtocol</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#enum-QMP-ui.DisplayProtocol" title="Link to this definition"></a></dt>
<dd><p>Display protocols which support changing password options.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vnc</strong> -- Not documented</p></li>
<li><p><strong>spice</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.SetPasswordAction">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SetPasswordAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#enum-QMP-ui.SetPasswordAction" title="Link to this definition"></a></dt>
<dd><p>An action to take on changing a password on a connection with active
clients.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keep</strong> -- maintain existing clients</p></li>
<li><p><strong>fail</strong> -- fail the command if clients are connected</p></li>
<li><p><strong>disconnect</strong> -- disconnect existing clients</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.SetPasswordOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SetPasswordOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-ui.SetPasswordOptions" title="Link to this definition"></a></dt>
<dd><p>Options for <a class="reference internal" href="#command-QMP-ui.set_password" title="QMP:ui.set_password"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">set_password</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protocol</strong> (<span><a class="reference internal" href="#enum-QMP-ui.DisplayProtocol" title="QMP:ui.DisplayProtocol"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayProtocol</span></code></a></span>) -- <ul>
<li><p>'vnc' to modify the VNC server password</p></li>
<li><p>'spice' to modify the Spice server password</p></li>
</ul>
</p></li>
<li><p><strong>password</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the new password</p></li>
<li><p><strong>connected</strong> (<span><a class="reference internal" href="#enum-QMP-ui.SetPasswordAction" title="QMP:ui.SetPasswordAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SetPasswordAction</span></code></a>, <em>optional</em></span>) -- How to handle existing clients when changing the
password.  If nothing is specified, defaults to 'keep'.  For
VNC, only 'keep' is currently implemented.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">protocol</span></code> is <code class="docutils literal notranslate"><span class="pre">vnc</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.SetPasswordOptionsVnc" title="QMP:ui.SetPasswordOptionsVnc"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SetPasswordOptionsVnc</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.SetPasswordOptionsVnc">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SetPasswordOptionsVnc</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-ui.SetPasswordOptionsVnc" title="Link to this definition"></a></dt>
<dd><p>Options for <a class="reference internal" href="#command-QMP-ui.set_password" title="QMP:ui.set_password"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">set_password</span></code></a> specific to the VNC protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>display</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The id of the display where the password should be
changed.  Defaults to the first.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.set_password">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_password</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-ui.set_password" title="Link to this definition"></a></dt>
<dd><p>Set the password of a remote display server.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.SetPasswordOptions" title="QMP:ui.SetPasswordOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SetPasswordOptions</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If Spice is not enabled, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;set_password&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vnc&quot;</span><span class="p">,</span>
<span class="w">                                               </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secret&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.ExpirePasswordOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExpirePasswordOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-ui.ExpirePasswordOptions" title="Link to this definition"></a></dt>
<dd><p>General options for <a class="reference internal" href="#command-QMP-ui.expire_password" title="QMP:ui.expire_password"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">expire_password</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protocol</strong> (<span><a class="reference internal" href="#enum-QMP-ui.DisplayProtocol" title="QMP:ui.DisplayProtocol"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayProtocol</span></code></a></span>) -- <ul>
<li><p>'vnc' to modify the VNC server expiration</p></li>
<li><p>'spice' to modify the Spice server expiration</p></li>
</ul>
</p></li>
<li><p><strong>time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- <p>when to expire the password.</p>
<ul>
<li><p>'now' to expire the password immediately</p></li>
<li><p>'never' to cancel password expiration</p></li>
<li><p>'+INT' where INT is the number of seconds from now (integer)</p></li>
<li><p>'INT' where INT is the absolute time in seconds</p></li>
</ul>
</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">protocol</span></code> is <code class="docutils literal notranslate"><span class="pre">vnc</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.ExpirePasswordOptionsVnc" title="QMP:ui.ExpirePasswordOptionsVnc"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ExpirePasswordOptionsVnc</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Time is relative to the server and currently there is no
way to coordinate server time with client time.  It is not
recommended to use the absolute time version of the <code class="docutils literal notranslate"><span class="pre">time</span></code>
parameter unless you're sure you are on the same machine as the
QEMU instance.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.ExpirePasswordOptionsVnc">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExpirePasswordOptionsVnc</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-ui.ExpirePasswordOptionsVnc" title="Link to this definition"></a></dt>
<dd><p>Options for <a class="reference internal" href="#command-QMP-ui.expire_password" title="QMP:ui.expire_password"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">expire_password</span></code></a> specific to the VNC protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>display</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The id of the display where the expiration should be
changed.  Defaults to the first.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.expire_password">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expire_password</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-ui.expire_password" title="Link to this definition"></a></dt>
<dd><p>Expire the password of a remote display server.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.ExpirePasswordOptions" title="QMP:ui.ExpirePasswordOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ExpirePasswordOptions</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">protocol</span></code> is 'spice' and Spice is not active,
DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;expire_password&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vnc&quot;</span><span class="p">,</span>
<span class="w">                                                  </span><span class="nt">&quot;time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;+60&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.ImageFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ImageFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-ui.ImageFormat" title="Link to this definition"></a></dt>
<dd><p>Supported image format types.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>png</strong> -- PNG format</p></li>
<li><p><strong>ppm</strong> -- PPM format</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.screendump">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">screendump</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-ui.screendump" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_PIXMAN</span></code></div>
</div>
<p>Capture the contents of a screen and write it to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the path of a new file to store the image</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of the display device that should be dumped.  If this
parameter is missing, the primary display will be used.
(Since 2.12)</p></li>
<li><p><strong>head</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- head to use in case the device supports multiple heads.  If
this parameter is missing, head #0 will be used.  Also note that
the head can only be specified in conjunction with the device
ID.  (Since 2.12)</p></li>
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-ui.ImageFormat" title="QMP:ui.ImageFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ImageFormat</span></code></a>, <em>optional</em></span>) -- image format for <a class="reference internal" href="#command-QMP-ui.screendump" title="QMP:ui.screendump"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">screendump</span></code></a>.  (default: ppm) (Since 7.1)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;screendump&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/image&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<section id="spice">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Spice</a><a class="headerlink" href="#spice" title="Link to this heading"></a></h3>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.SpiceBasicInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpiceBasicInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-ui.SpiceBasicInfo" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>The basic information for SPICE network connection</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- IP address</p></li>
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- port number</p></li>
<li><p><strong>family</strong> (<span><a class="reference internal" href="#enum-QMP-sockets.NetworkAddressFamily" title="QMP:sockets.NetworkAddressFamily"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetworkAddressFamily</span></code></a></span>) -- address family</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.SpiceServerInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpiceServerInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-ui.SpiceServerInfo" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Information about a SPICE server</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- authentication method</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.SpiceBasicInfo" title="QMP:ui.SpiceBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceBasicInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.SpiceChannel">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpiceChannel</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-ui.SpiceChannel" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Information about a SPICE client channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SPICE connection id number.  All channels with the
same id belong to the same SPICE session.</p></li>
<li><p><strong>channel-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SPICE channel type number.  &quot;1&quot; is the main control
channel, filter for this one if you want to track spice sessions
only</p></li>
<li><p><strong>channel-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SPICE channel ID number.  Usually &quot;0&quot;, might be
different when multiple channels of the same type exist, such as
multiple display channels in a multihead setup</p></li>
<li><p><strong>tls</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the channel is encrypted, false otherwise.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.SpiceBasicInfo" title="QMP:ui.SpiceBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceBasicInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.SpiceQueryMouseMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpiceQueryMouseMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#enum-QMP-ui.SpiceQueryMouseMode" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>An enumeration of Spice mouse states.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- Mouse cursor position is determined by the client.</p></li>
<li><p><strong>server</strong> -- Mouse cursor position is determined by the server.</p></li>
<li><p><strong>unknown</strong> -- No information is available about mouse mode used by the
spice server.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.SpiceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpiceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-ui.SpiceInfo" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Information about the SPICE session.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the SPICE server is enabled, false otherwise</p></li>
<li><p><strong>migrated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the last guest migration completed and spice
migration had completed as well, false otherwise (since 1.4)</p></li>
<li><p><strong>host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The hostname the SPICE server is bound to.  This depends on
the name resolution on the host and may be an IP address.</p></li>
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The SPICE server's port number.</p></li>
<li><p><strong>compiled-version</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- SPICE server version.</p></li>
<li><p><strong>tls-port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The SPICE server's TLS port number.</p></li>
<li><p><strong>auth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- <p>the current authentication type used by the server</p>
<ul>
<li><p>'none' if no authentication is being used</p></li>
<li><p>'spice' uses SASL or direct TLS authentication, depending on
command line options</p></li>
</ul>
</p></li>
<li><p><strong>mouse-mode</strong> (<span><a class="reference internal" href="#enum-QMP-ui.SpiceQueryMouseMode" title="QMP:ui.SpiceQueryMouseMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceQueryMouseMode</span></code></a></span>) -- The mode in which the mouse cursor is displayed
currently.  Can be determined by the client or the server, or
unknown if spice server doesn't provide this information.
(since: 1.1)</p></li>
<li><p><strong>channels</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-ui.SpiceChannel" title="QMP:ui.SpiceChannel"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceChannel</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- a list of <a class="reference internal" href="#object-QMP-ui.SpiceChannel" title="QMP:ui.SpiceChannel"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SpiceChannel</span></code></a> for each active spice channel</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.query-spice">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-spice</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-ui.query-spice" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Return information about the current SPICE server</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-ui.SpiceInfo" title="QMP:ui.SpiceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-spice&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;auth&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;spice&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5920</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;migrated&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;tls-port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5921</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;mouse-mode&quot;</span><span class="p">:</span><span class="s2">&quot;client&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;54924&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;connection-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1804289383</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;channel-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;tls&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;36710&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;connection-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1804289383</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;channel-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;tls&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="cm">...</span>
<span class="w">         </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-ui.SPICE_CONNECTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SPICE_CONNECTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#event-QMP-ui.SPICE_CONNECTED" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Emitted when a SPICE client establishes a connection</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-ui.SpiceBasicInfo" title="QMP:ui.SpiceBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceBasicInfo</span></code></a></span>) -- server information</p></li>
<li><p><strong>client</strong> (<span><a class="reference internal" href="#object-QMP-ui.SpiceBasicInfo" title="QMP:ui.SpiceBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceBasicInfo</span></code></a></span>) -- client information</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1290688046</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">388707</span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SPICE_CONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5920&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">},</span>
<span class="w">       </span><span class="nt">&quot;client&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;52873&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">}</span>
<span class="w">   </span><span class="p">}}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-ui.SPICE_INITIALIZED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SPICE_INITIALIZED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#event-QMP-ui.SPICE_INITIALIZED" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Emitted after initial handshake and authentication takes place (if
any) and the SPICE channel is up and running</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-ui.SpiceServerInfo" title="QMP:ui.SpiceServerInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceServerInfo</span></code></a></span>) -- server information</p></li>
<li><p><strong>client</strong> (<span><a class="reference internal" href="#object-QMP-ui.SpiceChannel" title="QMP:ui.SpiceChannel"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceChannel</span></code></a></span>) -- client information</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1290688046</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">417172</span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SPICE_INITIALIZED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;auth&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;spice&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5921&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;client&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;49004&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;connection-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1804289383</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;channel-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;tls&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span>
<span class="w">   </span><span class="p">}}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-ui.SPICE_DISCONNECTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SPICE_DISCONNECTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#event-QMP-ui.SPICE_DISCONNECTED" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Emitted when the SPICE connection is closed</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-ui.SpiceBasicInfo" title="QMP:ui.SpiceBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceBasicInfo</span></code></a></span>) -- server information</p></li>
<li><p><strong>client</strong> (<span><a class="reference internal" href="#object-QMP-ui.SpiceBasicInfo" title="QMP:ui.SpiceBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SpiceBasicInfo</span></code></a></span>) -- client information</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1290688046</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">388707</span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SPICE_DISCONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5920&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">},</span>
<span class="w">       </span><span class="nt">&quot;client&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;52873&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">}</span>
<span class="w">   </span><span class="p">}}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-ui.SPICE_MIGRATE_COMPLETED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SPICE_MIGRATE_COMPLETED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#event-QMP-ui.SPICE_MIGRATE_COMPLETED" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_SPICE</span></code></div>
</div>
<p>Emitted when SPICE migration has completed</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1290688046</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">417172</span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SPICE_MIGRATE_COMPLETED&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="vnc">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">VNC</a><a class="headerlink" href="#vnc" title="Link to this heading"></a></h3>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.VncBasicInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VncBasicInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-ui.VncBasicInfo" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>The basic information for vnc network connection</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- IP address</p></li>
<li><p><strong>service</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The service name of the vnc port.  This may depend on the
host system's service database so symbolic names should not be
relied on.</p></li>
<li><p><strong>family</strong> (<span><a class="reference internal" href="#enum-QMP-sockets.NetworkAddressFamily" title="QMP:sockets.NetworkAddressFamily"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetworkAddressFamily</span></code></a></span>) -- address family</p></li>
<li><p><strong>websocket</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true in case the socket is a websocket (since 2.3).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.VncServerInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VncServerInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-ui.VncServerInfo" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>The network connection information for server</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- authentication method used for the plain (non-websocket) VNC
server</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.VncBasicInfo" title="QMP:ui.VncBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncBasicInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.VncClientInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VncClientInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-ui.VncClientInfo" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Information about a connected VNC client.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x509_dname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- If x509 authentication is in use, the Distinguished
Name of the client.</p></li>
<li><p><strong>sasl_username</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- If SASL authentication is in use, the SASL username
used for authentication.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.VncBasicInfo" title="QMP:ui.VncBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncBasicInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.VncInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VncInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-ui.VncInfo" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Information about the VNC session.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the VNC server is enabled, false otherwise</p></li>
<li><p><strong>host</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The hostname the VNC server is bound to.  This depends on the
name resolution on the host and may be an IP address.</p></li>
<li><p><strong>family</strong> (<span><a class="reference internal" href="#enum-QMP-sockets.NetworkAddressFamily" title="QMP:sockets.NetworkAddressFamily"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetworkAddressFamily</span></code></a>, <em>optional</em></span>) -- <ul>
<li><p>'ipv6' if the host is listening for IPv6 connections</p></li>
<li><p>'ipv4' if the host is listening for IPv4 connections</p></li>
<li><p>'unix' if the host is listening on a unix domain socket</p></li>
<li><p>'unknown' otherwise</p></li>
</ul>
</p></li>
<li><p><strong>service</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The service name of the server's port.  This may depends
on the host system's service database so symbolic names should
not be relied on.</p></li>
<li><p><strong>auth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- <p>the current authentication type used by the server</p>
<ul>
<li><p>'none' if no authentication is being used</p></li>
<li><p>'vnc' if VNC authentication is being used</p></li>
<li><p>'vencrypt+plain' if VEncrypt is used with plain text
authentication</p></li>
<li><p>'vencrypt+tls+none' if VEncrypt is used with TLS and no
authentication</p></li>
<li><p>'vencrypt+tls+vnc' if VEncrypt is used with TLS and VNC
authentication</p></li>
<li><p>'vencrypt+tls+plain' if VEncrypt is used with TLS and plain
text auth</p></li>
<li><p>'vencrypt+x509+none' if VEncrypt is used with x509 and no auth</p></li>
<li><p>'vencrypt+x509+vnc' if VEncrypt is used with x509 and VNC auth</p></li>
<li><p>'vencrypt+x509+plain' if VEncrypt is used with x509 and plain
text auth</p></li>
<li><p>'vencrypt+tls+sasl' if VEncrypt is used with TLS and SASL auth</p></li>
<li><p>'vencrypt+x509+sasl' if VEncrypt is used with x509 and SASL
auth</p></li>
</ul>
</p></li>
<li><p><strong>clients</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-ui.VncClientInfo" title="QMP:ui.VncClientInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncClientInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- a list of <a class="reference internal" href="#object-QMP-ui.VncClientInfo" title="QMP:ui.VncClientInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">VncClientInfo</span></code></a> of all currently connected
clients</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.VncPrimaryAuth">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VncPrimaryAuth</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#enum-QMP-ui.VncPrimaryAuth" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>vnc primary authentication method.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- Not documented</p></li>
<li><p><strong>vnc</strong> -- Not documented</p></li>
<li><p><strong>ra2</strong> -- Not documented</p></li>
<li><p><strong>ra2ne</strong> -- Not documented</p></li>
<li><p><strong>tight</strong> -- Not documented</p></li>
<li><p><strong>ultra</strong> -- Not documented</p></li>
<li><p><strong>tls</strong> -- Not documented</p></li>
<li><p><strong>vencrypt</strong> -- Not documented</p></li>
<li><p><strong>sasl</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.VncVencryptSubAuth">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VncVencryptSubAuth</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#enum-QMP-ui.VncVencryptSubAuth" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>vnc sub authentication method with vencrypt.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plain</strong> -- Not documented</p></li>
<li><p><strong>tls-none</strong> -- Not documented</p></li>
<li><p><strong>x509-none</strong> -- Not documented</p></li>
<li><p><strong>tls-vnc</strong> -- Not documented</p></li>
<li><p><strong>x509-vnc</strong> -- Not documented</p></li>
<li><p><strong>tls-plain</strong> -- Not documented</p></li>
<li><p><strong>x509-plain</strong> -- Not documented</p></li>
<li><p><strong>tls-sasl</strong> -- Not documented</p></li>
<li><p><strong>x509-sasl</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.VncServerInfo2">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VncServerInfo2</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-ui.VncServerInfo2" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>The network connection information for server</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auth</strong> (<span><a class="reference internal" href="#enum-QMP-ui.VncPrimaryAuth" title="QMP:ui.VncPrimaryAuth"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncPrimaryAuth</span></code></a></span>) -- The current authentication type used by the servers</p></li>
<li><p><strong>vencrypt</strong> (<span><a class="reference internal" href="#enum-QMP-ui.VncVencryptSubAuth" title="QMP:ui.VncVencryptSubAuth"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncVencryptSubAuth</span></code></a>, <em>optional</em></span>) -- The vencrypt sub authentication type used by the servers,
only specified in case auth == vencrypt.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.VncBasicInfo" title="QMP:ui.VncBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncBasicInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.VncInfo2">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VncInfo2</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#object-QMP-ui.VncInfo2" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Information about a vnc server</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- vnc server name.</p></li>
<li><p><strong>server</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-ui.VncServerInfo2" title="QMP:ui.VncServerInfo2"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncServerInfo2</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- A list of <a class="reference internal" href="#object-QMP-ui.VncBasicInfo" title="QMP:ui.VncBasicInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">VncBasicInfo</span></code></a> describing all listening sockets.
The list can be empty (in case the vnc server is disabled).  It
also may have multiple entries: normal + websocket, possibly
also ipv4 + ipv6 in the future.</p></li>
<li><p><strong>clients</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-ui.VncClientInfo" title="QMP:ui.VncClientInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncClientInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- A list of <a class="reference internal" href="#object-QMP-ui.VncClientInfo" title="QMP:ui.VncClientInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">VncClientInfo</span></code></a> of all currently connected
clients.  The list can be empty, for obvious reasons.</p></li>
<li><p><strong>auth</strong> (<span><a class="reference internal" href="#enum-QMP-ui.VncPrimaryAuth" title="QMP:ui.VncPrimaryAuth"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncPrimaryAuth</span></code></a></span>) -- The current authentication type used by the non-websockets
servers</p></li>
<li><p><strong>vencrypt</strong> (<span><a class="reference internal" href="#enum-QMP-ui.VncVencryptSubAuth" title="QMP:ui.VncVencryptSubAuth"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncVencryptSubAuth</span></code></a>, <em>optional</em></span>) -- The vencrypt authentication type used by the servers,
only specified in case auth == vencrypt.</p></li>
<li><p><strong>display</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The display device the vnc server is linked to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.query-vnc">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-vnc</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-ui.query-vnc" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Return information about the current VNC server</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-ui.VncInfo" title="QMP:ui.VncInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-vnc&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="s2">&quot;50402&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;auth&quot;</span><span class="p">:</span><span class="s2">&quot;vnc&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;clients&quot;</span><span class="p">:[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="s2">&quot;50401&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;websocket&quot;</span><span class="p">:</span><span class="kc">false</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.query-vnc-servers">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-vnc-servers</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#command-QMP-ui.query-vnc-servers" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Return a list of vnc servers.  The list can be empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-ui.VncInfo2" title="QMP:ui.VncInfo2"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncInfo2</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.change-vnc-password">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">change-vnc-password</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-ui.change-vnc-password" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Change the VNC server password.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>password</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the new password to use with VNC authentication</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>An empty password in this command will set the password to
the empty string.  Existing clients are unaffected by executing
this command.</p>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-ui.VNC_CONNECTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VNC_CONNECTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.13)</span></span><a class="headerlink" href="#event-QMP-ui.VNC_CONNECTED" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Emitted when a VNC client establishes a connection</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-ui.VncServerInfo" title="QMP:ui.VncServerInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncServerInfo</span></code></a></span>) -- server information</p></li>
<li><p><strong>client</strong> (<span><a class="reference internal" href="#object-QMP-ui.VncBasicInfo" title="QMP:ui.VncBasicInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncBasicInfo</span></code></a></span>) -- client information</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is emitted before any authentication takes
place, thus the authentication ID is not provided.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VNC_CONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">           </span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;auth&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sasl&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;websocket&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                       </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5901&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">           </span><span class="nt">&quot;client&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;58425&quot;</span><span class="p">,</span>
<span class="w">                       </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;websocket&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1262976601</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">975795</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-ui.VNC_INITIALIZED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VNC_INITIALIZED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.13)</span></span><a class="headerlink" href="#event-QMP-ui.VNC_INITIALIZED" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Emitted after authentication takes place (if any) and the VNC
session is made active</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-ui.VncServerInfo" title="QMP:ui.VncServerInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncServerInfo</span></code></a></span>) -- server information</p></li>
<li><p><strong>client</strong> (<span><a class="reference internal" href="#object-QMP-ui.VncClientInfo" title="QMP:ui.VncClientInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncClientInfo</span></code></a></span>) -- client information</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VNC_INITIALIZED&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">           </span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;auth&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sasl&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;websocket&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                       </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5901&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">},</span>
<span class="w">           </span><span class="nt">&quot;client&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;46089&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;websocket&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                       </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sasl_username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;luiz&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1263475302</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">150772</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-ui.VNC_DISCONNECTED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VNC_DISCONNECTED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.13)</span></span><a class="headerlink" href="#event-QMP-ui.VNC_DISCONNECTED" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VNC</span></code></div>
</div>
<p>Emitted when the connection is closed</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<span><a class="reference internal" href="#object-QMP-ui.VncServerInfo" title="QMP:ui.VncServerInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncServerInfo</span></code></a></span>) -- server information</p></li>
<li><p><strong>client</strong> (<span><a class="reference internal" href="#object-QMP-ui.VncClientInfo" title="QMP:ui.VncClientInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VncClientInfo</span></code></a></span>) -- client information</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VNC_DISCONNECTED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">           </span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;auth&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sasl&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;websocket&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                       </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5901&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">           </span><span class="nt">&quot;client&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;family&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ipv4&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;58425&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;websocket&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                       </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sasl_username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;luiz&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1262976601</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">975795</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
</section>
<section id="input">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">Input</a><a class="headerlink" href="#input" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.MouseInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MouseInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-ui.MouseInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a mouse device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the mouse device</p></li>
<li><p><strong>index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the index of the mouse device</p></li>
<li><p><strong>current</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if this device is currently receiving mouse events</p></li>
<li><p><strong>absolute</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if this device supports absolute coordinates as
input</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.query-mice">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-mice</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-ui.query-mice" title="Link to this definition"></a></dt>
<dd><p>Return information about each active mouse device</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-ui.MouseInfo" title="QMP:ui.MouseInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MouseInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list of info for each device</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-mice&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;QEMU Microsoft Mouse&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;current&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;absolute&quot;</span><span class="p">:</span><span class="kc">false</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;QEMU PS/2 Mouse&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;current&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;absolute&quot;</span><span class="p">:</span><span class="kc">true</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.QKeyCode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QKeyCode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#enum-QMP-ui.QKeyCode" title="Link to this definition"></a></dt>
<dd><p>An enumeration of key name.</p>
<p>This is used by the <a class="reference internal" href="#command-QMP-ui.send-key" title="QMP:ui.send-key"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">send-key</span></code></a> command.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unmapped</strong> -- since 2.0</p></li>
<li><p><strong>pause</strong> -- since 2.0</p></li>
<li><p><strong>ro</strong> -- since 2.4</p></li>
<li><p><strong>kp_comma</strong> -- since 2.4</p></li>
<li><p><strong>kp_equals</strong> -- since 2.6</p></li>
<li><p><strong>power</strong> -- since 2.6</p></li>
<li><p><strong>hiragana</strong> -- since 2.9</p></li>
<li><p><strong>henkan</strong> -- since 2.9</p></li>
<li><p><strong>yen</strong> -- since 2.9</p></li>
<li><p><strong>sleep</strong> -- since 2.10</p></li>
<li><p><strong>wake</strong> -- since 2.10</p></li>
<li><p><strong>audionext</strong> -- since 2.10</p></li>
<li><p><strong>audioprev</strong> -- since 2.10</p></li>
<li><p><strong>audiostop</strong> -- since 2.10</p></li>
<li><p><strong>audioplay</strong> -- since 2.10</p></li>
<li><p><strong>audiomute</strong> -- since 2.10</p></li>
<li><p><strong>volumeup</strong> -- since 2.10</p></li>
<li><p><strong>volumedown</strong> -- since 2.10</p></li>
<li><p><strong>mediaselect</strong> -- since 2.10</p></li>
<li><p><strong>mail</strong> -- since 2.10</p></li>
<li><p><strong>calculator</strong> -- since 2.10</p></li>
<li><p><strong>computer</strong> -- since 2.10</p></li>
<li><p><strong>ac_home</strong> -- since 2.10</p></li>
<li><p><strong>ac_back</strong> -- since 2.10</p></li>
<li><p><strong>ac_forward</strong> -- since 2.10</p></li>
<li><p><strong>ac_refresh</strong> -- since 2.10</p></li>
<li><p><strong>ac_bookmarks</strong> -- since 2.10</p></li>
<li><p><strong>muhenkan</strong> -- since 2.12</p></li>
<li><p><strong>katakanahiragana</strong> -- since 2.12</p></li>
<li><p><strong>lang1</strong> -- since 6.1</p></li>
<li><p><strong>lang2</strong> -- since 6.1</p></li>
<li><p><strong>f13</strong> -- since 8.0</p></li>
<li><p><strong>f14</strong> -- since 8.0</p></li>
<li><p><strong>f15</strong> -- since 8.0</p></li>
<li><p><strong>f16</strong> -- since 8.0</p></li>
<li><p><strong>f17</strong> -- since 8.0</p></li>
<li><p><strong>f18</strong> -- since 8.0</p></li>
<li><p><strong>f19</strong> -- since 8.0</p></li>
<li><p><strong>f20</strong> -- since 8.0</p></li>
<li><p><strong>f21</strong> -- since 8.0</p></li>
<li><p><strong>f22</strong> -- since 8.0</p></li>
<li><p><strong>f23</strong> -- since 8.0</p></li>
<li><p><strong>f24</strong> -- since 8.0</p></li>
<li><p><strong>shift</strong> -- Not documented</p></li>
<li><p><strong>shift_r</strong> -- Not documented</p></li>
<li><p><strong>alt</strong> -- Not documented</p></li>
<li><p><strong>alt_r</strong> -- Not documented</p></li>
<li><p><strong>ctrl</strong> -- Not documented</p></li>
<li><p><strong>ctrl_r</strong> -- Not documented</p></li>
<li><p><strong>menu</strong> -- Not documented</p></li>
<li><p><strong>esc</strong> -- Not documented</p></li>
<li><p><strong>1</strong> -- Not documented</p></li>
<li><p><strong>2</strong> -- Not documented</p></li>
<li><p><strong>3</strong> -- Not documented</p></li>
<li><p><strong>4</strong> -- Not documented</p></li>
<li><p><strong>5</strong> -- Not documented</p></li>
<li><p><strong>6</strong> -- Not documented</p></li>
<li><p><strong>7</strong> -- Not documented</p></li>
<li><p><strong>8</strong> -- Not documented</p></li>
<li><p><strong>9</strong> -- Not documented</p></li>
<li><p><strong>0</strong> -- Not documented</p></li>
<li><p><strong>minus</strong> -- Not documented</p></li>
<li><p><strong>equal</strong> -- Not documented</p></li>
<li><p><strong>backspace</strong> -- Not documented</p></li>
<li><p><strong>tab</strong> -- Not documented</p></li>
<li><p><strong>q</strong> -- Not documented</p></li>
<li><p><strong>w</strong> -- Not documented</p></li>
<li><p><strong>e</strong> -- Not documented</p></li>
<li><p><strong>r</strong> -- Not documented</p></li>
<li><p><strong>t</strong> -- Not documented</p></li>
<li><p><strong>y</strong> -- Not documented</p></li>
<li><p><strong>u</strong> -- Not documented</p></li>
<li><p><strong>i</strong> -- Not documented</p></li>
<li><p><strong>o</strong> -- Not documented</p></li>
<li><p><strong>p</strong> -- Not documented</p></li>
<li><p><strong>bracket_left</strong> -- Not documented</p></li>
<li><p><strong>bracket_right</strong> -- Not documented</p></li>
<li><p><strong>ret</strong> -- Not documented</p></li>
<li><p><strong>a</strong> -- Not documented</p></li>
<li><p><strong>s</strong> -- Not documented</p></li>
<li><p><strong>d</strong> -- Not documented</p></li>
<li><p><strong>f</strong> -- Not documented</p></li>
<li><p><strong>g</strong> -- Not documented</p></li>
<li><p><strong>h</strong> -- Not documented</p></li>
<li><p><strong>j</strong> -- Not documented</p></li>
<li><p><strong>k</strong> -- Not documented</p></li>
<li><p><strong>l</strong> -- Not documented</p></li>
<li><p><strong>semicolon</strong> -- Not documented</p></li>
<li><p><strong>apostrophe</strong> -- Not documented</p></li>
<li><p><strong>grave_accent</strong> -- Not documented</p></li>
<li><p><strong>backslash</strong> -- Not documented</p></li>
<li><p><strong>z</strong> -- Not documented</p></li>
<li><p><strong>x</strong> -- Not documented</p></li>
<li><p><strong>c</strong> -- Not documented</p></li>
<li><p><strong>v</strong> -- Not documented</p></li>
<li><p><strong>b</strong> -- Not documented</p></li>
<li><p><strong>n</strong> -- Not documented</p></li>
<li><p><strong>m</strong> -- Not documented</p></li>
<li><p><strong>comma</strong> -- Not documented</p></li>
<li><p><strong>dot</strong> -- Not documented</p></li>
<li><p><strong>slash</strong> -- Not documented</p></li>
<li><p><strong>asterisk</strong> -- Not documented</p></li>
<li><p><strong>spc</strong> -- Not documented</p></li>
<li><p><strong>caps_lock</strong> -- Not documented</p></li>
<li><p><strong>f1</strong> -- Not documented</p></li>
<li><p><strong>f2</strong> -- Not documented</p></li>
<li><p><strong>f3</strong> -- Not documented</p></li>
<li><p><strong>f4</strong> -- Not documented</p></li>
<li><p><strong>f5</strong> -- Not documented</p></li>
<li><p><strong>f6</strong> -- Not documented</p></li>
<li><p><strong>f7</strong> -- Not documented</p></li>
<li><p><strong>f8</strong> -- Not documented</p></li>
<li><p><strong>f9</strong> -- Not documented</p></li>
<li><p><strong>f10</strong> -- Not documented</p></li>
<li><p><strong>num_lock</strong> -- Not documented</p></li>
<li><p><strong>scroll_lock</strong> -- Not documented</p></li>
<li><p><strong>kp_divide</strong> -- Not documented</p></li>
<li><p><strong>kp_multiply</strong> -- Not documented</p></li>
<li><p><strong>kp_subtract</strong> -- Not documented</p></li>
<li><p><strong>kp_add</strong> -- Not documented</p></li>
<li><p><strong>kp_enter</strong> -- Not documented</p></li>
<li><p><strong>kp_decimal</strong> -- Not documented</p></li>
<li><p><strong>sysrq</strong> -- Not documented</p></li>
<li><p><strong>kp_0</strong> -- Not documented</p></li>
<li><p><strong>kp_1</strong> -- Not documented</p></li>
<li><p><strong>kp_2</strong> -- Not documented</p></li>
<li><p><strong>kp_3</strong> -- Not documented</p></li>
<li><p><strong>kp_4</strong> -- Not documented</p></li>
<li><p><strong>kp_5</strong> -- Not documented</p></li>
<li><p><strong>kp_6</strong> -- Not documented</p></li>
<li><p><strong>kp_7</strong> -- Not documented</p></li>
<li><p><strong>kp_8</strong> -- Not documented</p></li>
<li><p><strong>kp_9</strong> -- Not documented</p></li>
<li><p><strong>less</strong> -- Not documented</p></li>
<li><p><strong>f11</strong> -- Not documented</p></li>
<li><p><strong>f12</strong> -- Not documented</p></li>
<li><p><strong>print</strong> -- Not documented</p></li>
<li><p><strong>home</strong> -- Not documented</p></li>
<li><p><strong>pgup</strong> -- Not documented</p></li>
<li><p><strong>pgdn</strong> -- Not documented</p></li>
<li><p><strong>end</strong> -- Not documented</p></li>
<li><p><strong>left</strong> -- Not documented</p></li>
<li><p><strong>up</strong> -- Not documented</p></li>
<li><p><strong>down</strong> -- Not documented</p></li>
<li><p><strong>right</strong> -- Not documented</p></li>
<li><p><strong>insert</strong> -- Not documented</p></li>
<li><p><strong>delete</strong> -- Not documented</p></li>
<li><p><strong>stop</strong> -- Not documented</p></li>
<li><p><strong>again</strong> -- Not documented</p></li>
<li><p><strong>props</strong> -- Not documented</p></li>
<li><p><strong>undo</strong> -- Not documented</p></li>
<li><p><strong>front</strong> -- Not documented</p></li>
<li><p><strong>copy</strong> -- Not documented</p></li>
<li><p><strong>open</strong> -- Not documented</p></li>
<li><p><strong>paste</strong> -- Not documented</p></li>
<li><p><strong>find</strong> -- Not documented</p></li>
<li><p><strong>cut</strong> -- Not documented</p></li>
<li><p><strong>lf</strong> -- Not documented</p></li>
<li><p><strong>help</strong> -- Not documented</p></li>
<li><p><strong>meta_l</strong> -- Not documented</p></li>
<li><p><strong>meta_r</strong> -- Not documented</p></li>
<li><p><strong>compose</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
<p>'sysrq' was mistakenly added to hack around the fact that the ps2
driver was not generating correct scancodes sequences when
'alt+print' was pressed.  This flaw is now fixed and the 'sysrq' key
serves no further purpose.  Any further use of 'sysrq' will be
transparently changed to 'print', so they are effectively synonyms.</p>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.KeyValueKind">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KeyValueKind</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#enum-QMP-ui.KeyValueKind" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> -- Not documented</p></li>
<li><p><strong>qcode</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.IntWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IntWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-ui.IntWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- a numeric key code</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.QKeyCodeWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QKeyCodeWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-ui.QKeyCodeWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#enum-QMP-ui.QKeyCode" title="QMP:ui.QKeyCode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QKeyCode</span></code></a></span>) -- An enumeration of key name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.KeyValue">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KeyValue</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-ui.KeyValue" title="Link to this definition"></a></dt>
<dd><p>Represents a keyboard key.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-ui.KeyValueKind" title="QMP:ui.KeyValueKind"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">KeyValueKind</span></code></a></span>) -- key encoding</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">number</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.IntWrapper" title="QMP:ui.IntWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IntWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">qcode</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.QKeyCodeWrapper" title="QMP:ui.QKeyCodeWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QKeyCodeWrapper</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.send-key">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">send-key</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-ui.send-key" title="Link to this definition"></a></dt>
<dd><p>Send keys to guest.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-ui.KeyValue" title="QMP:ui.KeyValue"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">KeyValue</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- An array of <a class="reference internal" href="#object-QMP-ui.KeyValue" title="QMP:ui.KeyValue"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">KeyValue</span></code></a> elements.  All <code class="docutils literal notranslate"><span class="pre">KeyValues</span></code> in this array
are simultaneously sent to the guest.  A <a class="reference internal" href="#object-QMP-ui.KeyValue" title="QMP:ui.KeyValue"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">KeyValue</span></code></a>.number value
is sent directly to the guest, while <a class="reference internal" href="#object-QMP-ui.KeyValue" title="QMP:ui.KeyValue"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">KeyValue</span></code></a>.qcode must be a
valid <a class="reference internal" href="#enum-QMP-ui.QKeyCode" title="QMP:ui.QKeyCode"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">QKeyCode</span></code></a> value</p></li>
<li><p><strong>hold-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- time to delay key up events, milliseconds.  Defaults to
100</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If key is unknown or redundant, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;send-key&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcode&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ctrl&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">                              </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcode&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;alt&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">                              </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcode&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;delete&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.InputButton">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputButton</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#enum-QMP-ui.InputButton" title="Link to this definition"></a></dt>
<dd><p>Button of a pointer input device (mouse, tablet).</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>side</strong> -- front side button of a 5-button mouse (since 2.9)</p></li>
<li><p><strong>extra</strong> -- rear side button of a 5-button mouse (since 2.9)</p></li>
<li><p><strong>touch</strong> -- screen contact on a multi-touch device (since 8.1)</p></li>
<li><p><strong>left</strong> -- Not documented</p></li>
<li><p><strong>middle</strong> -- Not documented</p></li>
<li><p><strong>right</strong> -- Not documented</p></li>
<li><p><strong>wheel-up</strong> -- Not documented</p></li>
<li><p><strong>wheel-down</strong> -- Not documented</p></li>
<li><p><strong>wheel-left</strong> -- Not documented</p></li>
<li><p><strong>wheel-right</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.InputAxis">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputAxis</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#enum-QMP-ui.InputAxis" title="Link to this definition"></a></dt>
<dd><p>Position axis of a pointer input device (mouse, tablet).</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> -- Not documented</p></li>
<li><p><strong>y</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.InputMultiTouchType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputMultiTouchType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#enum-QMP-ui.InputMultiTouchType" title="Link to this definition"></a></dt>
<dd><p>Type of a multi-touch event.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>begin</strong> -- A new touch event sequence has just started.</p></li>
<li><p><strong>update</strong> -- A touch event sequence has been updated.</p></li>
<li><p><strong>end</strong> -- A touch event sequence has finished.</p></li>
<li><p><strong>cancel</strong> -- A touch event sequence has been canceled.</p></li>
<li><p><strong>data</strong> -- Absolute position data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputKeyEvent">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputKeyEvent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-ui.InputKeyEvent" title="Link to this definition"></a></dt>
<dd><p>Keyboard input event.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<span><a class="reference internal" href="#object-QMP-ui.KeyValue" title="QMP:ui.KeyValue"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">KeyValue</span></code></a></span>) -- Which key this event is for.</p></li>
<li><p><strong>down</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- True for key-down and false for key-up events.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputBtnEvent">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputBtnEvent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-ui.InputBtnEvent" title="Link to this definition"></a></dt>
<dd><p>Pointer button input event.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>button</strong> (<span><a class="reference internal" href="#enum-QMP-ui.InputButton" title="QMP:ui.InputButton"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputButton</span></code></a></span>) -- Which button this event is for.</p></li>
<li><p><strong>down</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- True for key-down and false for key-up events.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputMoveEvent">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputMoveEvent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-ui.InputMoveEvent" title="Link to this definition"></a></dt>
<dd><p>Pointer motion input event.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<span><a class="reference internal" href="#enum-QMP-ui.InputAxis" title="QMP:ui.InputAxis"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputAxis</span></code></a></span>) -- Which axis is referenced by <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p></li>
<li><p><strong>value</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Pointer position.  For absolute coordinates the valid range
is 0 to 0x7fff.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputMultiTouchEvent">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputMultiTouchEvent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#object-QMP-ui.InputMultiTouchEvent" title="Link to this definition"></a></dt>
<dd><p>MultiTouch input event.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-ui.InputMultiTouchType" title="QMP:ui.InputMultiTouchType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputMultiTouchType</span></code></a></span>) -- The type of multi-touch event.</p></li>
<li><p><strong>slot</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Which slot has generated the event.</p></li>
<li><p><strong>tracking-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- ID to correlate this event with previously generated
events.</p></li>
<li><p><strong>axis</strong> (<span><a class="reference internal" href="#enum-QMP-ui.InputAxis" title="QMP:ui.InputAxis"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputAxis</span></code></a></span>) -- Which axis is referenced by <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p></li>
<li><p><strong>value</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Contact position.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.InputEventKind">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputEventKind</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#enum-QMP-ui.InputEventKind" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> -- a keyboard input event</p></li>
<li><p><strong>btn</strong> -- a pointer button input event</p></li>
<li><p><strong>rel</strong> -- a relative pointer motion input event</p></li>
<li><p><strong>abs</strong> -- an absolute pointer motion input event</p></li>
<li><p><strong>mtt</strong> -- a multi-touch input event</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputKeyEventWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputKeyEventWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-ui.InputKeyEventWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-ui.InputKeyEvent" title="QMP:ui.InputKeyEvent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputKeyEvent</span></code></a></span>) -- Keyboard input event</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputBtnEventWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputBtnEventWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-ui.InputBtnEventWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-ui.InputBtnEvent" title="QMP:ui.InputBtnEvent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputBtnEvent</span></code></a></span>) -- Pointer button input event</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputMoveEventWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputMoveEventWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-ui.InputMoveEventWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-ui.InputMoveEvent" title="QMP:ui.InputMoveEvent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputMoveEvent</span></code></a></span>) -- Pointer motion input event</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputMultiTouchEventWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputMultiTouchEventWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#object-QMP-ui.InputMultiTouchEventWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-ui.InputMultiTouchEvent" title="QMP:ui.InputMultiTouchEvent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputMultiTouchEvent</span></code></a></span>) -- MultiTouch input event</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.InputEvent">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputEvent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-ui.InputEvent" title="Link to this definition"></a></dt>
<dd><p>Input event union.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-ui.InputEventKind" title="QMP:ui.InputEventKind"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputEventKind</span></code></a></span>) -- the type of input event</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">key</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.InputKeyEventWrapper" title="QMP:ui.InputKeyEventWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputKeyEventWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">btn</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.InputBtnEventWrapper" title="QMP:ui.InputBtnEventWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputBtnEventWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">rel</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.InputMoveEventWrapper" title="QMP:ui.InputMoveEventWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputMoveEventWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">abs</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.InputMoveEventWrapper" title="QMP:ui.InputMoveEventWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputMoveEventWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">mtt</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.InputMultiTouchEventWrapper" title="QMP:ui.InputMultiTouchEventWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputMultiTouchEventWrapper</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.input-send-event">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input-send-event</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#command-QMP-ui.input-send-event" title="Link to this definition"></a></dt>
<dd><p>Send input event(s) to guest.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">device</span></code> and <code class="docutils literal notranslate"><span class="pre">head</span></code> parameters can be used to send the input event
to specific input devices in case (a) multiple input devices of the
same kind are added to the virtual machine and (b) you have
configured input routing (see docs/multiseat.txt) for those input
devices.  The parameters work exactly like the device and head
properties of input devices.  If <code class="docutils literal notranslate"><span class="pre">device</span></code> is missing, only devices
that have no input routing config are admissible.  If <code class="docutils literal notranslate"><span class="pre">device</span></code> is
specified, both input devices with and without input routing config
are admissible, but devices with input routing config take
precedence.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- display device to send event(s) to.</p></li>
<li><p><strong>head</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- head to send event(s) to, in case the display device supports
multiple scanouts.</p></li>
<li><p><strong>events</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-ui.InputEvent" title="QMP:ui.InputEvent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputEvent</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of <a class="reference internal" href="#object-QMP-ui.InputEvent" title="QMP:ui.InputEvent"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">InputEvent</span></code></a> union.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The consoles are visible in the qom tree, under
<code class="docutils literal notranslate"><span class="pre">/backend/console[$index]</span></code>.  They have a device link and head
property, so it is possible to map which console belongs to which
device and display.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Press left mouse button</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;input-send-event&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;video0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;btn&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;down&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;button&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;input-send-event&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;video0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;btn&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;down&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;button&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Press ctrl-alt-del</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;input-send-event&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;key&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;down&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcode&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ctrl&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;key&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;down&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcode&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;alt&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;key&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;down&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcode&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;delete&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Move mouse pointer to absolute coordinates</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;input-send-event&quot;</span><span class="w"> </span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abs&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;value&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abs&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;value&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayGTK">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayGTK</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayGTK" title="Link to this definition"></a></dt>
<dd><p>GTK display options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grab-on-hover</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Grab keyboard input on mouse hover.</p></li>
<li><p><strong>zoom-to-fit</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Zoom guest display to fit into the host window.  When
turned off the host window will be resized instead.  In case the
display device can notify the guest on window resizes
(virtio-gpu) this will default to &quot;on&quot;, assuming the guest will
resize the display to match the window size then.  Otherwise it
defaults to &quot;off&quot;.  (Since 3.1)</p></li>
<li><p><strong>show-tabs</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Display the tab bar for switching between the various
graphical interfaces (e.g. VGA and virtual console character
devices) by default.  (Since 7.1)</p></li>
<li><p><strong>show-menubar</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Display the main window menubar.  Defaults to &quot;on&quot;.
(Since 8.0)</p></li>
<li><p><strong>keep-aspect-ratio</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Keep width/height aspect ratio of guest content when
resizing host window.  Defaults to &quot;on&quot;. (Since 10.1)</p></li>
<li><p><strong>scale</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code>, <em>optional</em></span>) -- Set preferred scale of the display.  Defaults to 1.0.  (Since 10.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayEGLHeadless">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayEGLHeadless</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.1)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayEGLHeadless" title="Link to this definition"></a></dt>
<dd><p>EGL headless display options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rendernode</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Which DRM render node should be used.  Default is the
first available node on the host.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayDBus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayDBus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayDBus" title="Link to this definition"></a></dt>
<dd><p>DBus display options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The D-Bus bus address (default to the session bus).</p></li>
<li><p><strong>rendernode</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Which DRM render node should be used.  Default is the
first available node on the host.</p></li>
<li><p><strong>p2p</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether to use peer-to-peer connections (accepted through
<a class="reference internal" href="#command-QMP-misc.add_client" title="QMP:misc.add_client"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">add_client</span></code></a>).</p></li>
<li><p><strong>audiodev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Use the specified DBus audiodev to export audio.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.DisplayGLMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayGLMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#enum-QMP-ui.DisplayGLMode" title="Link to this definition"></a></dt>
<dd><p>Display OpenGL mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>off</strong> -- Disable OpenGL (default).</p></li>
<li><p><strong>on</strong> -- Use OpenGL, pick context type automatically.  Would better be
named 'auto' but is called 'on' for backward compatibility with
bool type.</p></li>
<li><p><strong>core</strong> -- Use OpenGL with Core (desktop) Context.</p></li>
<li><p><strong>es</strong> -- Use OpenGL with ES (embedded systems) Context.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayCurses">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayCurses</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayCurses" title="Link to this definition"></a></dt>
<dd><p>Curses display options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>charset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Font charset used by guest (default: CP437).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayCocoa">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayCocoa</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayCocoa" title="Link to this definition"></a></dt>
<dd><p>Cocoa display options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left-command-key</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Enable/disable forwarding of left command key to
guest.  Allows command-tab window switching on the host without
sending this key to the guest when &quot;off&quot;.  Defaults to &quot;on&quot;</p></li>
<li><p><strong>full-grab</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Capture all key presses, including system combos.  This
requires accessibility permissions, since it performs a global
grab on key events.  (default: off)  See
<a class="reference external" href="https://support.apple.com/en-in/guide/mac-help/mh32356/mac">https://support.apple.com/en-in/guide/mac-help/mh32356/mac</a></p></li>
<li><p><strong>swap-opt-cmd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Swap the Option and Command keys so that their key
codes match their position on non-Mac keyboards and you can use
Meta/Super and Alt where you expect them.  (default: off)</p></li>
<li><p><strong>zoom-to-fit</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Zoom guest display to fit into the host window.  When
turned off the host window will be resized instead.  Defaults to
&quot;off&quot;.  (Since 8.2)</p></li>
<li><p><strong>zoom-interpolation</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Apply interpolation to smooth output when
zoom-to-fit is enabled.  Defaults to &quot;off&quot;.  (Since 9.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.HotKeyMod">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HotKeyMod</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-ui.HotKeyMod" title="Link to this definition"></a></dt>
<dd><p>Set of modifier keys that need to be held for shortcut key actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lctrl-lalt</strong> -- Not documented</p></li>
<li><p><strong>lshift-lctrl-lalt</strong> -- Not documented</p></li>
<li><p><strong>rctrl</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplaySDL">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplaySDL</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-ui.DisplaySDL" title="Link to this definition"></a></dt>
<dd><p>SDL2 display options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grab-mod</strong> (<span><a class="reference internal" href="#enum-QMP-ui.HotKeyMod" title="QMP:ui.HotKeyMod"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HotKeyMod</span></code></a>, <em>optional</em></span>) -- Modifier keys that should be pressed together with the
&quot;G&quot; key to release the mouse grab.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.DisplayType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-ui.DisplayType" title="Link to this definition"></a></dt>
<dd><p>Display (user interface) type.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default</strong> -- The default user interface, selecting from the first
available of gtk, sdl, cocoa, and vnc.</p></li>
<li><p><strong>none</strong> -- No user interface or video output display.  The guest will
still see an emulated graphics card, but its output will not be
displayed to the QEMU user.</p></li>
<li><p><strong>gtk</strong> -- The GTK user interface.</p></li>
<li><p><strong>sdl</strong> -- The SDL user interface.</p></li>
<li><p><strong>egl-headless</strong> -- No user interface, offload GL operations to a local
DRI device.  Graphical display need to be paired with VNC or
Spice.  (Since 3.1)</p></li>
<li><p><strong>curses</strong> -- Display video output via curses.  For graphics device
models which support a text mode, QEMU can display this output
using a curses/ncurses interface.  Nothing is displayed when the
graphics device is in graphical mode or if the graphics device
does not support a text mode.  Generally only the VGA device
models support text mode.</p></li>
<li><p><strong>cocoa</strong> -- The Cocoa user interface.</p></li>
<li><p><strong>spice-app</strong> -- Set up a Spice server and run the default associated
application to connect to it.  The server will redirect the
serial console and QEMU monitors.  (Since 4.0)</p></li>
<li><p><strong>dbus</strong> -- Start a D-Bus service for the display.  (Since 7.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayOptions" title="Link to this definition"></a></dt>
<dd><p>Display (user interface) options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-ui.DisplayType" title="QMP:ui.DisplayType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayType</span></code></a></span>) -- Which <a class="reference internal" href="#enum-QMP-ui.DisplayType" title="QMP:ui.DisplayType"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">DisplayType</span></code></a> QEMU should use.</p></li>
<li><p><strong>full-screen</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Start user interface in fullscreen mode
(default: off).</p></li>
<li><p><strong>window-close</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Allow to quit QEMU with window close button
(default: on).</p></li>
<li><p><strong>show-cursor</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Force showing the mouse cursor (default: off).
(since: 5.0)</p></li>
<li><p><strong>gl</strong> (<span><a class="reference internal" href="#enum-QMP-ui.DisplayGLMode" title="QMP:ui.DisplayGLMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayGLMode</span></code></a>, <em>optional</em></span>) -- Enable OpenGL support (default: off).</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">gtk</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.DisplayGTK" title="QMP:ui.DisplayGTK"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayGTK</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">cocoa</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.DisplayCocoa" title="QMP:ui.DisplayCocoa"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayCocoa</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">curses</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.DisplayCurses" title="QMP:ui.DisplayCurses"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayCurses</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">egl-headless</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.DisplayEGLHeadless" title="QMP:ui.DisplayEGLHeadless"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayEGLHeadless</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">dbus</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.DisplayDBus" title="QMP:ui.DisplayDBus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayDBus</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">sdl</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.DisplaySDL" title="QMP:ui.DisplaySDL"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplaySDL</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.query-display-options">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-display-options</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.1)</span></span><a class="headerlink" href="#command-QMP-ui.query-display-options" title="Link to this definition"></a></dt>
<dd><p>Return information about display configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-ui.DisplayOptions" title="QMP:ui.DisplayOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayOptions</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.DisplayReloadType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayReloadType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#enum-QMP-ui.DisplayReloadType" title="Link to this definition"></a></dt>
<dd><p>Available DisplayReload types.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vnc</strong> -- VNC display</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayReloadOptionsVNC">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayReloadOptionsVNC</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayReloadOptionsVNC" title="Link to this definition"></a></dt>
<dd><p>Specify the VNC reload options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tls-certs</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- reload tls certs or not.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayReloadOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayReloadOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayReloadOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the display configuration reload.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-ui.DisplayReloadType" title="QMP:ui.DisplayReloadType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayReloadType</span></code></a></span>) -- Specify the display type.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vnc</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.DisplayReloadOptionsVNC" title="QMP:ui.DisplayReloadOptionsVNC"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayReloadOptionsVNC</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.display-reload">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">display-reload</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#command-QMP-ui.display-reload" title="Link to this definition"></a></dt>
<dd><p>Reload display configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.DisplayReloadOptions" title="QMP:ui.DisplayReloadOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayReloadOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;display-reload&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vnc&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;tls-certs&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-ui.DisplayUpdateType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayUpdateType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-ui.DisplayUpdateType" title="Link to this definition"></a></dt>
<dd><p>Available DisplayUpdate types.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vnc</strong> -- VNC display</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayUpdateOptionsVNC">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayUpdateOptionsVNC</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayUpdateOptionsVNC" title="Link to this definition"></a></dt>
<dd><p>Specify the VNC reload options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addresses</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- If specified, change set of addresses to listen for
connections.  Addresses configured for websockets are not
touched.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-ui.DisplayUpdateOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DisplayUpdateOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-ui.DisplayUpdateOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the display configuration reload.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-ui.DisplayUpdateType" title="QMP:ui.DisplayUpdateType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayUpdateType</span></code></a></span>) -- Specify the display type.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">vnc</span></code>: The members of <a class="reference internal" href="#object-QMP-ui.DisplayUpdateOptionsVNC" title="QMP:ui.DisplayUpdateOptionsVNC"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayUpdateOptionsVNC</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.display-update">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">display-update</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#command-QMP-ui.display-update" title="Link to this definition"></a></dt>
<dd><p>Update display configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-ui.DisplayUpdateOptions" title="QMP:ui.DisplayUpdateOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DisplayUpdateOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;display-update&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vnc&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;addresses&quot;</span><span class="p">:</span>
<span class="w">                    </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inet&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5901&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-ui.client_migrate_info">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">client_migrate_info</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-ui.client_migrate_info" title="Link to this definition"></a></dt>
<dd><p>Set migration information for remote display.  This makes the server
ask the client to automatically reconnect using the new parameters
once migration finished successfully.  Only implemented for SPICE.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protocol</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- must be &quot;spice&quot;</p></li>
<li><p><strong>hostname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- migration target hostname</p></li>
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- spice tcp port for plaintext channels</p></li>
<li><p><strong>tls-port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- spice tcp port for tls-secured channels</p></li>
<li><p><strong>cert-subject</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- server certificate subject</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;client_migrate_info&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;spice&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;hostname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virt42.lab.kraxel.org&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="user-authorization">
<span id="module-QMP-authz"></span><h2><a class="toc-backref" href="#id25" role="doc-backlink">User authorization</a><a class="headerlink" href="#user-authorization" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-authz.QAuthZListPolicy">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QAuthZListPolicy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-authz.QAuthZListPolicy" title="Link to this definition"></a></dt>
<dd><p>The authorization policy result</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deny</strong> -- deny access</p></li>
<li><p><strong>allow</strong> -- allow access</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-authz.QAuthZListFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QAuthZListFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-authz.QAuthZListFormat" title="Link to this definition"></a></dt>
<dd><p>The authorization policy match format</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exact</strong> -- an exact string match</p></li>
<li><p><strong>glob</strong> -- string with ? and * shell wildcard support</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-authz.QAuthZListRule">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QAuthZListRule</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-authz.QAuthZListRule" title="Link to this definition"></a></dt>
<dd><p>A single authorization rule.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>match</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- a string or glob to match against a user identity</p></li>
<li><p><strong>policy</strong> (<span><a class="reference internal" href="#enum-QMP-authz.QAuthZListPolicy" title="QMP:authz.QAuthZListPolicy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QAuthZListPolicy</span></code></a></span>) -- the result to return if <code class="docutils literal notranslate"><span class="pre">match</span></code> evaluates to true</p></li>
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-authz.QAuthZListFormat" title="QMP:authz.QAuthZListFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QAuthZListFormat</span></code></a>, <em>optional</em></span>) -- the format of the <code class="docutils literal notranslate"><span class="pre">match</span></code> rule (default 'exact')</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-authz.AuthZListProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AuthZListProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-authz.AuthZListProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for authz-list objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>policy</strong> (<span><a class="reference internal" href="#enum-QMP-authz.QAuthZListPolicy" title="QMP:authz.QAuthZListPolicy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QAuthZListPolicy</span></code></a>, <em>optional</em></span>) -- Default policy to apply when no rule matches (default:
deny)</p></li>
<li><p><strong>rules</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-authz.QAuthZListRule" title="QMP:authz.QAuthZListRule"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QAuthZListRule</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Authorization rules based on matching user</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-authz.AuthZListFileProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AuthZListFileProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-authz.AuthZListFileProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for authz-listfile objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- File name to load the configuration from.  The file must
contain valid JSON for <a class="reference internal" href="#object-QMP-authz.AuthZListProperties" title="QMP:authz.AuthZListProperties"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">AuthZListProperties</span></code></a>.</p></li>
<li><p><strong>refresh</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If true, inotify is used to monitor the file,
automatically reloading changes.  If an error occurs during
reloading, all authorizations will fail until the file is next
successfully loaded.  (default: true if the binary was built
with CONFIG_INOTIFY1, false otherwise)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-authz.AuthZPAMProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AuthZPAMProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-authz.AuthZPAMProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for authz-pam objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- PAM service name to use for authorization</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-authz.AuthZSimpleProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AuthZSimpleProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-authz.AuthZSimpleProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for authz-simple objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identity</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Identifies the allowed user.  Its format depends on the
network service that authorization object is associated with.
For authorizing based on TLS x509 certificates, the identity
must be the x509 distinguished name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="migration">
<span id="module-QMP-migration"></span><h2><a class="toc-backref" href="#id26" role="doc-backlink">Migration</a><a class="headerlink" href="#migration" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrationStats">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationStats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-migration.MigrationStats" title="Link to this definition"></a></dt>
<dd><p>Detailed migration status.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transferred</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- amount of bytes already transferred to the target VM</p></li>
<li><p><strong>remaining</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- amount of bytes remaining to be transferred to the
target VM</p></li>
<li><p><strong>total</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- total amount of bytes involved in the migration process</p></li>
<li><p><strong>duplicate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of duplicate (zero) pages (since 1.2)</p></li>
<li><p><strong>normal</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of normal pages (since 1.2)</p></li>
<li><p><strong>normal-bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of normal bytes sent (since 1.2)</p></li>
<li><p><strong>dirty-pages-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of pages dirtied by second by the guest
(since 1.3)</p></li>
<li><p><strong>mbps</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code></span>) -- throughput in megabits/sec.  (since 1.6)</p></li>
<li><p><strong>dirty-sync-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of times that dirty ram was synchronized
(since 2.1)</p></li>
<li><p><strong>postcopy-requests</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of page requests received from the
destination (since 2.7)</p></li>
<li><p><strong>page-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes per page for the various page-based
statistics (since 2.10)</p></li>
<li><p><strong>multifd-bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes sent through multifd (since 3.0)</p></li>
<li><p><strong>pages-per-second</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the number of memory pages transferred per second
(Since 4.0)</p></li>
<li><p><strong>precopy-bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes sent in the pre-copy phase
(since 7.0).</p></li>
<li><p><strong>downtime-bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes sent while the guest is paused
(since 7.0).</p></li>
<li><p><strong>postcopy-bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The number of bytes sent during the post-copy phase
(since 7.0).</p></li>
<li><p><strong>dirty-sync-missed-zero-copy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of times dirty RAM
synchronization could not avoid copying dirty pages.  This is
between 0 and <code class="docutils literal notranslate"><span class="pre">dirty-sync-count</span></code> * <code class="docutils literal notranslate"><span class="pre">multifd-channels</span></code>.
(since 7.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.XBZRLECacheStats">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">XBZRLECacheStats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-migration.XBZRLECacheStats" title="Link to this definition"></a></dt>
<dd><p>Detailed XBZRLE migration cache statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- XBZRLE cache size</p></li>
<li><p><strong>bytes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- amount of bytes already transferred to the target VM</p></li>
<li><p><strong>pages</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- amount of pages transferred to the target VM</p></li>
<li><p><strong>cache-miss</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of cache miss</p></li>
<li><p><strong>cache-miss-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code></span>) -- rate of cache miss (since 2.1)</p></li>
<li><p><strong>encoding-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code></span>) -- rate of encoded bytes (since 5.1)</p></li>
<li><p><strong>overflow</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of overflows</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.CompressionStats">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CompressionStats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.1)</span></span><a class="headerlink" href="#object-QMP-migration.CompressionStats" title="Link to this definition"></a></dt>
<dd><p>Detailed migration compression statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pages</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- amount of pages compressed and transferred to the target VM</p></li>
<li><p><strong>busy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- count of times that no free thread was available to compress
data</p></li>
<li><p><strong>busy-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code></span>) -- rate of thread busy</p></li>
<li><p><strong>compressed-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- amount of bytes after compression</p></li>
<li><p><strong>compression-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">number</span></code></span>) -- rate of compressed size</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.MigrationStatus">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#enum-QMP-migration.MigrationStatus" title="Link to this definition"></a></dt>
<dd><p>An enumeration of migration status.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- no migration has ever happened.</p></li>
<li><p><strong>setup</strong> -- migration process has been initiated.</p></li>
<li><p><strong>cancelling</strong> -- in the process of cancelling migration.</p></li>
<li><p><strong>cancelled</strong> -- cancelling migration is finished.</p></li>
<li><p><strong>active</strong> -- in the process of doing migration.</p></li>
<li><p><strong>postcopy-active</strong> -- like active, but now in postcopy mode.
(since 2.5)</p></li>
<li><p><strong>postcopy-paused</strong> -- during postcopy but paused.  (since 3.0)</p></li>
<li><p><strong>postcopy-recover-setup</strong> -- setup phase for a postcopy recovery
process, preparing for a recovery phase to start.  (since 9.1)</p></li>
<li><p><strong>postcopy-recover</strong> -- trying to recover from a paused postcopy.
(since 3.0)</p></li>
<li><p><strong>completed</strong> -- migration is finished.</p></li>
<li><p><strong>failed</strong> -- some error occurred during migration process.</p></li>
<li><p><strong>colo</strong> -- VM is in the process of fault tolerance, VM can not get into
this state unless colo capability is enabled for migration.
(since 2.8)</p></li>
<li><p><strong>pre-switchover</strong> -- Paused before device serialisation.  (since 2.11)</p></li>
<li><p><strong>device</strong> -- During device serialisation (also known as switchover phase).
Before 9.2, this is only used when (1) in precopy, and (2) when
pre-switchover capability is enabled.  After 10.0, this state will
always be present for every migration procedure as the switchover
phase.  (since 2.11)</p></li>
<li><p><strong>wait-unplug</strong> -- wait for device unplug request by guest OS to be
completed.  (since 4.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.VfioStats">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VfioStats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-migration.VfioStats" title="Link to this definition"></a></dt>
<dd><p>Detailed VFIO devices migration statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transferred</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- amount of bytes transferred to the target VM by VFIO
devices</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrationInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-migration.MigrationInfo" title="Link to this definition"></a></dt>
<dd><p>Information about current migration process.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MigrationStatus" title="QMP:migration.MigrationStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationStatus</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#enum-QMP-migration.MigrationStatus" title="QMP:migration.MigrationStatus"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">MigrationStatus</span></code></a> describing the current migration status.
If this field is not returned, no migration process has been
initiated</p></li>
<li><p><strong>ram</strong> (<span><a class="reference internal" href="#object-QMP-migration.MigrationStats" title="QMP:migration.MigrationStats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationStats</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#object-QMP-migration.MigrationStats" title="QMP:migration.MigrationStats"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">MigrationStats</span></code></a> containing detailed migration status, only
returned if status is 'active' or 'completed'(since 1.2)</p></li>
<li><p><strong>xbzrle-cache</strong> (<span><a class="reference internal" href="#object-QMP-migration.XBZRLECacheStats" title="QMP:migration.XBZRLECacheStats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">XBZRLECacheStats</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#object-QMP-migration.XBZRLECacheStats" title="QMP:migration.XBZRLECacheStats"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">XBZRLECacheStats</span></code></a> containing detailed XBZRLE
migration statistics, only returned if XBZRLE feature is on and
status is 'active' or 'completed' (since 1.2)</p></li>
<li><p><strong>total-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total amount of milliseconds since migration started.
If migration has ended, it returns the total migration time.
(since 1.2)</p></li>
<li><p><strong>downtime</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- only present when migration finishes correctly total
downtime in milliseconds for the guest.  (since 1.3)</p></li>
<li><p><strong>expected-downtime</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- only present while migration is active expected
downtime in milliseconds for the guest in last walk of the dirty
bitmap.  (since 1.3)</p></li>
<li><p><strong>setup-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- amount of setup time in milliseconds <em>before</em> the
iterations begin but <em>after</em> the QMP command is issued.  This is
designed to provide an accounting of any activities (such as
RDMA pinning) which may be expensive, but do not actually occur
during the iterative migration rounds themselves.  (since 1.6)</p></li>
<li><p><strong>cpu-throttle-percentage</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- percentage of time guest cpus are being
throttled during auto-converge.  This is only present when
auto-converge has started throttling guest cpus.  (Since 2.7)</p></li>
<li><p><strong>error-desc</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the human readable error description string.  Clients
should not attempt to parse the error strings.  (Since 2.7)</p></li>
<li><p><strong>postcopy-blocktime</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- total time when all vCPU were blocked during
postcopy live migration.  This is only present when the
postcopy-blocktime migration capability is enabled.  (Since 3.0)</p></li>
<li><p><strong>postcopy-vcpu-blocktime</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of the postcopy blocktime per vCPU.
This is only present when the postcopy-blocktime migration
capability is enabled.  (Since 3.0)</p></li>
<li><p><strong>postcopy-latency</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- average remote page fault latency (in ns).  Note that
this doesn't include all faults, but only the ones that require a
remote page request.  So it should be always bigger than the real
average page fault latency. This is only present when the
postcopy-blocktime migration capability is enabled.  (Since 10.1)</p></li>
<li><p><strong>postcopy-latency-dist</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- remote page fault latency distributions.  Each
element of the array is the number of faults that fall into the
bucket period.  For the N-th bucket (N&gt;=0), the latency window is
[2^Nus, 2^(N+1)us).  For example, the 8th element stores how many
remote faults got resolved within [256us, 512us) window. This is only
present when the postcopy-blocktime migration capability is enabled.
(Since 10.1)</p></li>
<li><p><strong>postcopy-vcpu-latency</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- average remote page fault latency per vCPU (in
ns).  It has the same definition of <code class="docutils literal notranslate"><span class="pre">postcopy-latency</span></code>, but instead
this is the per-vCPU statistics.  This is only present when the
postcopy-blocktime migration capability is enabled.  (Since 10.1)</p></li>
<li><p><strong>postcopy-non-vcpu-latency</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- average remote page fault latency for all
faults happend in non-vCPU threads (in ns).  It has the same
definition of <code class="docutils literal notranslate"><span class="pre">postcopy-latency</span></code> but this only provides statistics to
non-vCPU faults.  This is only present when the postcopy-blocktime
migration capability is enabled.  (Since 10.1)</p></li>
<li><p><strong>socket-address</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Only used for tcp, to know what the real port is
(Since 4.0)</p></li>
<li><p><strong>vfio</strong> (<span><a class="reference internal" href="#object-QMP-migration.VfioStats" title="QMP:migration.VfioStats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VfioStats</span></code></a>, <em>optional</em></span>) -- <a class="reference internal" href="#object-QMP-migration.VfioStats" title="QMP:migration.VfioStats"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">VfioStats</span></code></a> containing detailed VFIO devices migration
statistics, only returned if VFIO device is present, migration
is supported by all VFIO devices and status is 'active' or
'completed' (since 5.2)</p></li>
<li><p><strong>blocked-reasons</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- A list of reasons an outgoing migration is
blocked.  Present and non-empty when migration is blocked.
(since 6.0)</p></li>
<li><p><strong>dirty-limit-throttle-time-per-round</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Maximum throttle time (in
microseconds) of virtual CPUs each dirty ring full round, which
shows how <a class="reference internal" href="#enum-QMP-migration.MigrationCapability" title="QMP:migration.MigrationCapability"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">MigrationCapability</span></code></a> dirty-limit affects the guest
during live migration.  (Since 8.1)</p></li>
<li><p><strong>dirty-limit-ring-full-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Estimated average dirty ring full time
(in microseconds) for each dirty ring full round.  The value
equals the dirty ring memory size divided by the average dirty
page rate of the virtual CPU, which can be used to observe the
average memory load of the virtual CPU indirectly.  Note that
zero means guest doesn't dirty memory.  (Since 8.1)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Members <code class="docutils literal notranslate"><span class="pre">postcopy-latency</span></code>, <code class="docutils literal notranslate"><span class="pre">postcopy-vcpu-latency</span></code>,
<code class="docutils literal notranslate"><span class="pre">postcopy-latency-dist</span></code>, <code class="docutils literal notranslate"><span class="pre">postcopy-non-vcpu-latency</span></code> are experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.query-migrate">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-migrate</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-migration.query-migrate" title="Link to this definition"></a></dt>
<dd><p>Return information about current migration process.  If migration
is active there will be another json-object with RAM migration
status.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-migration.MigrationInfo" title="QMP:migration.MigrationInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Before the first migration</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-migrate&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Migration is done and has succeeded</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-migrate&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;total-time&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;setup-time&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;downtime&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;ram&quot;</span><span class="p">:{</span>
<span class="w">           </span><span class="nt">&quot;transferred&quot;</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;remaining&quot;</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="mi">246</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;duplicate&quot;</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;normal&quot;</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;normal-bytes&quot;</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;dirty-sync-count&quot;</span><span class="p">:</span><span class="mi">15</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Migration is done and has failed</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-migrate&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Migration is being performed</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-migrate&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span>
<span class="w">       </span><span class="nt">&quot;return&quot;</span><span class="p">:{</span>
<span class="w">          </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;active&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;total-time&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;setup-time&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;expected-downtime&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;ram&quot;</span><span class="p">:{</span>
<span class="w">             </span><span class="nt">&quot;transferred&quot;</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;remaining&quot;</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="mi">246</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;duplicate&quot;</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;normal&quot;</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;normal-bytes&quot;</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;dirty-sync-count&quot;</span><span class="p">:</span><span class="mi">15</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Migration is being performed and XBZRLE is active</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-migrate&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span>
<span class="w">       </span><span class="nt">&quot;return&quot;</span><span class="p">:{</span>
<span class="w">          </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;active&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;total-time&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;setup-time&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;expected-downtime&quot;</span><span class="p">:</span><span class="mi">12345</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;ram&quot;</span><span class="p">:{</span>
<span class="w">             </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="mi">1057024</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;remaining&quot;</span><span class="p">:</span><span class="mi">1053304</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;transferred&quot;</span><span class="p">:</span><span class="mi">3720</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;duplicate&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;normal&quot;</span><span class="p">:</span><span class="mi">3333</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;normal-bytes&quot;</span><span class="p">:</span><span class="mi">3412992</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;dirty-sync-count&quot;</span><span class="p">:</span><span class="mi">15</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;xbzrle-cache&quot;</span><span class="p">:{</span>
<span class="w">             </span><span class="nt">&quot;cache-size&quot;</span><span class="p">:</span><span class="mi">67108864</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;bytes&quot;</span><span class="p">:</span><span class="mi">20971520</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;pages&quot;</span><span class="p">:</span><span class="mi">2444343</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;cache-miss&quot;</span><span class="p">:</span><span class="mi">2244</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;cache-miss-rate&quot;</span><span class="p">:</span><span class="mf">0.123</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;encoding-rate&quot;</span><span class="p">:</span><span class="mf">80.1</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;overflow&quot;</span><span class="p">:</span><span class="mi">34434</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.MigrationCapability">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationCapability</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#enum-QMP-migration.MigrationCapability" title="Link to this definition"></a></dt>
<dd><p>Migration capabilities enumeration</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xbzrle</strong> -- Migration supports xbzrle (Xor Based Zero Run Length
Encoding).  This feature allows us to minimize migration traffic
for certain work loads, by sending compressed difference of the
pages</p></li>
<li><p><strong>rdma-pin-all</strong> -- Controls whether or not the entire VM memory
footprint is mlock()'d on demand or all at once.  Refer to
docs/rdma.txt for usage.  Disabled by default.  (since 2.0)</p></li>
<li><p><strong>zero-blocks</strong> -- During storage migration encode blocks of zeroes
efficiently.  This essentially saves 1MB of zeroes per block on
the wire.  Enabling requires source and target VM to support
this feature.  To enable it is sufficient to enable the
capability on the source VM.  The feature is disabled by
default.  (since 1.6)</p></li>
<li><p><strong>events</strong> -- generate events for each migration state change (since 2.4)</p></li>
<li><p><strong>auto-converge</strong> -- If enabled, QEMU will automatically throttle down
the guest to speed up convergence of RAM migration.  (since 1.6)</p></li>
<li><p><strong>postcopy-ram</strong> -- Start executing on the migration target before all of
RAM has been migrated, pulling the remaining pages along as
needed.  The capacity must have the same setting on both source
and target or migration will not even start.  <strong>Note:</strong> if the
migration fails during postcopy the VM will fail.  (since 2.6)</p></li>
<li><p><strong>x-colo</strong> -- If enabled, migration will never end, and the state of the
VM on the primary side will be migrated continuously to the VM
on secondary side, this process is called COarse-Grain LOck
Stepping (COLO) for Non-stop Service.  (since 2.8)</p></li>
<li><p><strong>release-ram</strong> -- if enabled, QEMU will free the migrated ram pages on
the source during postcopy-ram migration.  (since 2.9)</p></li>
<li><p><strong>return-path</strong> -- If enabled, migration will use the return path even
for precopy.  (since 2.10)</p></li>
<li><p><strong>pause-before-switchover</strong> -- Pause outgoing migration before
serialising device state and before disabling block IO
(since 2.11)</p></li>
<li><p><strong>multifd</strong> -- Use more than one fd for migration (since 4.0)</p></li>
<li><p><strong>dirty-bitmaps</strong> -- If enabled, QEMU will migrate named dirty bitmaps.
(since 2.12)</p></li>
<li><p><strong>postcopy-blocktime</strong> -- Calculate downtime for postcopy live migration
(since 3.0)</p></li>
<li><p><strong>late-block-activate</strong> -- If enabled, the destination will not activate
block devices (and thus take locks) immediately at the end of
migration.  (since 3.0)</p></li>
<li><p><strong>x-ignore-shared</strong> -- If enabled, QEMU will not migrate shared memory
that is accessible on the destination machine.  (since 4.0)</p></li>
<li><p><strong>validate-uuid</strong> -- Send the UUID of the source to allow the destination
to ensure it is the same.  (since 4.2)</p></li>
<li><p><strong>background-snapshot</strong> -- If enabled, the migration stream will be a
snapshot of the VM exactly at the point when the migration
procedure starts.  The VM RAM is saved with running VM.
(since 6.0)</p></li>
<li><p><strong>zero-copy-send</strong> -- Controls behavior on sending memory pages on
migration.  When true, enables a zero-copy mechanism for sending
memory pages, if host supports it.  Requires that QEMU be
permitted to use locked memory for guest RAM pages.  (since 7.1)</p></li>
<li><p><strong>postcopy-preempt</strong> -- If enabled, the migration process will allow
postcopy requests to preempt precopy stream, so postcopy
requests will be handled faster.  This is a performance feature
and should not affect the correctness of postcopy migration.
(since 7.1)</p></li>
<li><p><strong>switchover-ack</strong> -- If enabled, migration will not stop the source VM
and complete the migration until an ACK is received from the
destination that it's OK to do so.  Exactly when this ACK is
sent depends on the migrated devices that use this feature.  For
example, a device can use it to make sure some of its data is
sent and loaded in the destination before doing switchover.
This can reduce downtime if devices that support this capability
are present.  'return-path' capability must be enabled to use
it.  (since 8.1)</p></li>
<li><p><strong>dirty-limit</strong> -- If enabled, migration will throttle vCPUs as needed to
keep their dirty page rate within <code class="docutils literal notranslate"><span class="pre">vcpu-dirty-limit</span></code>.  This can
improve responsiveness of large guests during live migration,
and can result in more stable read performance.  Requires KVM
with accelerator property &quot;dirty-ring-size&quot; set.  (Since 8.1)</p></li>
<li><p><strong>mapped-ram</strong> -- Migrate using fixed offsets in the migration file for
each RAM page.  Requires a migration URI that supports seeking,
such as a file.  (since 9.0)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Members <code class="docutils literal notranslate"><span class="pre">x-colo</span></code> and <code class="docutils literal notranslate"><span class="pre">x-ignore-shared</span></code> are experimental.</p></li>
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">zero-blocks</span></code> is deprecated as being part of
block migration which was already removed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrationCapabilityStatus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationCapabilityStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-migration.MigrationCapabilityStatus" title="Link to this definition"></a></dt>
<dd><p>Migration capability information</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>capability</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MigrationCapability" title="QMP:migration.MigrationCapability"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationCapability</span></code></a></span>) -- capability enum</p></li>
<li><p><strong>state</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- capability state bool</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate-set-capabilities">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate-set-capabilities</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-migration.migrate-set-capabilities" title="Link to this definition"></a></dt>
<dd><p>Enable/Disable the following migration capabilities (like xbzrle)</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>capabilities</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.MigrationCapabilityStatus" title="QMP:migration.MigrationCapabilityStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationCapabilityStatus</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- json array of capability modifications to make</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-set-capabilities&quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;capabilities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;capability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xbzrle&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.query-migrate-capabilities">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-migrate-capabilities</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-migration.query-migrate-capabilities" title="Link to this definition"></a></dt>
<dd><p>Return information about the current migration capabilities status</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.MigrationCapabilityStatus" title="QMP:migration.MigrationCapabilityStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationCapabilityStatus</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-migrate-capabilities&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;capability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xbzrle&quot;</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;capability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rdma-pin-all&quot;</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;capability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;auto-converge&quot;</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;capability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;zero-blocks&quot;</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;capability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;events&quot;</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;capability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;postcopy-ram&quot;</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;capability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-colo&quot;</span><span class="p">}</span>
<span class="w">   </span><span class="p">]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.MultiFDCompression">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultiFDCompression</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#enum-QMP-migration.MultiFDCompression" title="Link to this definition"></a></dt>
<dd><p>An enumeration of multifd compression methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- no compression.</p></li>
<li><p><strong>zlib</strong> -- use zlib compression method.</p></li>
<li><p><strong>zstd</strong> -- use zstd compression method.</p></li>
<li><p><strong>qatzip</strong> -- use qatzip compression method.  (Since 9.2)</p></li>
<li><p><strong>qpl</strong> -- use qpl compression method.  Query Processing Library(qpl) is
based on the deflate compression algorithm and use the Intel
In-Memory Analytics Accelerator(IAA) accelerated compression and
decompression.  (Since 9.1)</p></li>
<li><p><strong>uadk</strong> -- use UADK library compression method.  (Since 9.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.MigMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigMode</span></span><a class="headerlink" href="#enum-QMP-migration.MigMode" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>normal</strong> -- the original form of migration.  (since 8.2)</p></li>
<li><p><strong>cpr-reboot</strong> -- <p>The <a class="reference internal" href="#command-QMP-migration.migrate" title="QMP:migration.migrate"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">migrate</span></code></a> command stops the VM and saves state to the
URI.  After quitting QEMU, the user resumes by running QEMU
-incoming.</p>
<p>This mode allows the user to quit QEMU, optionally update and
reboot the OS, and restart QEMU.  If the user reboots, the URI
must persist across the reboot, such as by using a file.</p>
<p>Unlike normal mode, the use of certain local storage options
does not block the migration, but the user must not modify the
contents of guest block devices between the quit and restart.</p>
<p>This mode supports VFIO devices provided the user first puts the
guest in the suspended runstate, such as by issuing
<a class="reference internal" href="qemu-ga-ref.html#command-QGA-qapi-schema.guest-suspend-ram" title="QGA:qapi-schema.guest-suspend-ram"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">guest-suspend-ram</span></code></a> to the QEMU guest agent.</p>
<p>Best performance is achieved when the memory backend is shared
and the <code class="docutils literal notranslate"><span class="pre">x-ignore-shared</span></code> migration capability is set, but this
is not required.  Further, if the user reboots before restarting
such a configuration, the shared memory must persist across the
reboot, such as by backing it with a dax device.</p>
<p><code class="docutils literal notranslate"><span class="pre">cpr-reboot</span></code> may not be used with postcopy, background-snapshot,
or COLO.</p>
<p>(since 8.2)</p>
</p></li>
<li><p><strong>cpr-transfer</strong> -- <p>This mode allows the user to transfer a guest to a
new QEMU instance on the same host with minimal guest pause
time by preserving guest RAM in place.</p>
<p>Devices and their pinned pages are also preserved for VFIO and
IOMMUFD. (since 10.1)</p>
<p>The user starts new QEMU on the same host as old QEMU, with
command-line arguments to create the same machine, plus the
-incoming option for the main migration channel, like normal
live migration.  In addition, the user adds a second -incoming
option with channel type &quot;cpr&quot;.  This CPR channel must support
file descriptor transfer with SCM_RIGHTS, i.e. it must be a
UNIX domain socket.</p>
<p>To initiate CPR, the user issues a migrate command to old QEMU,
adding a second migration channel of type &quot;cpr&quot; in the channels
argument.  Old QEMU stops the VM, saves state to the migration
channels, and enters the postmigrate state.  Execution resumes
in new QEMU.</p>
<p>New QEMU reads the CPR channel before opening a monitor, hence
the CPR channel cannot be specified in the list of channels for
a <a class="reference internal" href="#command-QMP-migration.migrate-incoming" title="QMP:migration.migrate-incoming"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">migrate-incoming</span></code></a> command.  It may only be specified on the
command line.</p>
<p>The main channel address cannot be a file type, and for an
inet socket, the port cannot be 0 (meaning dynamically choose
a port).</p>
<p>Memory-backend objects must have the share=on attribute, but
memory-backend-epc is not supported.  The VM must be started
with the '-machine aux-ram-share=on' option.</p>
<p>When using -incoming defer, you must issue the <a class="reference internal" href="#command-QMP-migration.migrate" title="QMP:migration.migrate"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">migrate</span></code></a> command
to old QEMU before issuing any monitor commands to new QEMU.
However, new QEMU does not open and read the migration stream
until you issue the <a class="reference internal" href="#command-QMP-migration.migrate-incoming" title="QMP:migration.migrate-incoming"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">migrate-incoming</span></code></a> command.</p>
<p>(since 10.0)</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.ZeroPageDetection">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ZeroPageDetection</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#enum-QMP-migration.ZeroPageDetection" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- Do not perform zero page checking.</p></li>
<li><p><strong>legacy</strong> -- Perform zero page checking in main migration thread.</p></li>
<li><p><strong>multifd</strong> -- Perform zero page checking in multifd sender thread if
multifd migration is enabled, else in the main migration thread
as for <code class="docutils literal notranslate"><span class="pre">legacy</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.BitmapMigrationBitmapAliasTransform">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BitmapMigrationBitmapAliasTransform</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-migration.BitmapMigrationBitmapAliasTransform" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>persistent</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- If present, the bitmap will be made persistent or
transient depending on this parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.BitmapMigrationBitmapAlias">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BitmapMigrationBitmapAlias</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-migration.BitmapMigrationBitmapAlias" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The name of the bitmap.</p></li>
<li><p><strong>alias</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- An alias name for migration (for example the bitmap name on
the opposite site).</p></li>
<li><p><strong>transform</strong> (<span><a class="reference internal" href="#object-QMP-migration.BitmapMigrationBitmapAliasTransform" title="QMP:migration.BitmapMigrationBitmapAliasTransform"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BitmapMigrationBitmapAliasTransform</span></code></a>, <em>optional</em></span>) -- Allows the modification of the migrated bitmap.
(since 6.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.BitmapMigrationNodeAlias">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BitmapMigrationNodeAlias</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-migration.BitmapMigrationNodeAlias" title="Link to this definition"></a></dt>
<dd><p>Maps a block node name and the bitmaps it has to aliases for dirty
bitmap migration.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- A block node name.</p></li>
<li><p><strong>alias</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- An alias block node name for migration (for example the node
name on the opposite site).</p></li>
<li><p><strong>bitmaps</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.BitmapMigrationBitmapAlias" title="QMP:migration.BitmapMigrationBitmapAlias"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BitmapMigrationBitmapAlias</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Mappings for the bitmaps on this node.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.MigrationParameter">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationParameter</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#enum-QMP-migration.MigrationParameter" title="Link to this definition"></a></dt>
<dd><p>Migration parameters enumeration</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>announce-initial</strong> -- Initial delay (in milliseconds) before sending
the first announce (Since 4.0)</p></li>
<li><p><strong>announce-max</strong> -- Maximum delay (in milliseconds) between packets in
the announcement (Since 4.0)</p></li>
<li><p><strong>announce-rounds</strong> -- Number of self-announce packets sent after
migration (Since 4.0)</p></li>
<li><p><strong>announce-step</strong> -- Increase in delay (in milliseconds) between
subsequent packets in the announcement (Since 4.0)</p></li>
<li><p><strong>throttle-trigger-threshold</strong> -- The ratio of bytes_dirty_period and
bytes_xfer_period to trigger throttling.  It is expressed as
percentage.  The default value is 50.  (Since 5.0)</p></li>
<li><p><strong>cpu-throttle-initial</strong> -- Initial percentage of time guest cpus are
throttled when migration auto-converge is activated.  The
default value is 20.  (Since 2.7)</p></li>
<li><p><strong>cpu-throttle-increment</strong> -- throttle percentage increase each time
auto-converge detects that migration is not making progress.
The default value is 10.  (Since 2.7)</p></li>
<li><p><strong>cpu-throttle-tailslow</strong> -- Make CPU throttling slower at tail stage.
At the tail stage of throttling, the Guest is very sensitive to
CPU percentage while the <code class="docutils literal notranslate"><span class="pre">cpu-throttle</span></code> -increment is excessive
usually at tail stage.  If this parameter is true, we will
compute the ideal CPU percentage used by the Guest, which may
exactly make the dirty rate match the dirty rate threshold.
Then we will choose a smaller throttle increment between the one
specified by <code class="docutils literal notranslate"><span class="pre">cpu-throttle-increment</span></code> and the one generated by
ideal CPU percentage.  Therefore, it is compatible to
traditional throttling, meanwhile the throttle increment won't
be excessive at tail stage.  The default value is false.
(Since 5.1)</p></li>
<li><p><strong>tls-creds</strong> -- ID of the 'tls-creds' object that provides credentials
for establishing a TLS connection over the migration data
channel.  On the outgoing side of the migration, the credentials
must be for a 'client' endpoint, while for the incoming side the
credentials must be for a 'server' endpoint.  Setting this to a
non-empty string enables TLS for all migrations.  An empty
string means that QEMU will use plain text mode for migration,
rather than TLS.  (Since 2.7)</p></li>
<li><p><strong>tls-hostname</strong> -- <p>migration target's hostname for validating the
server's x509 certificate identity.  If empty, QEMU will use the
hostname from the migration URI, if any.  A non-empty value is
required when using x509 based TLS credentials and the migration
URI does not include a hostname, such as fd: or exec: based
migration.  (Since 2.7)</p>
<p>Note: empty value works only since 2.9.</p>
</p></li>
<li><p><strong>tls-authz</strong> -- ID of the 'authz' object subclass that provides access
control checking of the TLS x509 certificate distinguished name.
This object is only resolved at time of use, so can be deleted
and recreated on the fly while the migration server is active.
If missing, it will default to denying access (Since 4.0)</p></li>
<li><p><strong>max-bandwidth</strong> -- maximum speed for migration, in bytes per second.
(Since 2.8)</p></li>
<li><p><strong>avail-switchover-bandwidth</strong> -- to set the available bandwidth that
migration can use during switchover phase.  <strong>Note:</strong> this does
not limit the bandwidth during switchover, but only for
calculations when making decisions to switchover.  By default,
this value is zero, which means QEMU will estimate the bandwidth
automatically.  This can be set when the estimated value is not
accurate, while the user is able to guarantee such bandwidth is
available when switching over.  When specified correctly, this
can make the switchover decision much more accurate.
(Since 8.2)</p></li>
<li><p><strong>downtime-limit</strong> -- set maximum tolerated downtime for migration.
maximum downtime in milliseconds (Since 2.8)</p></li>
<li><p><strong>x-checkpoint-delay</strong> -- The delay time (in ms) between two COLO
checkpoints in periodic mode.  (Since 2.8)</p></li>
<li><p><strong>multifd-channels</strong> -- Number of channels used to migrate data in
parallel.  This is the same number that the number of sockets
used for migration.  The default value is 2 (since 4.0)</p></li>
<li><p><strong>xbzrle-cache-size</strong> -- cache size to be used by XBZRLE migration.  It
needs to be a multiple of the target page size and a power of 2
(Since 2.11)</p></li>
<li><p><strong>max-postcopy-bandwidth</strong> -- Background transfer bandwidth during
postcopy.  Defaults to 0 (unlimited).  In bytes per second.
(Since 3.0)</p></li>
<li><p><strong>max-cpu-throttle</strong> -- maximum cpu throttle percentage.  Defaults to 99.
(Since 3.1)</p></li>
<li><p><strong>multifd-compression</strong> -- Which compression method to use.  Defaults to
none.  (Since 5.0)</p></li>
<li><p><strong>multifd-zlib-level</strong> -- Set the compression level to be used in live
migration, the compression level is an integer between 0 and 9,
where 0 means no compression, 1 means the best compression
speed, and 9 means best compression ratio which will consume
more CPU.  Defaults to 1.  (Since 5.0)</p></li>
<li><p><strong>multifd-qatzip-level</strong> -- Set the compression level to be used in live
migration.  The level is an integer between 1 and 9, where 1 means
the best compression speed, and 9 means the best compression
ratio which will consume more CPU.  Defaults to 1.  (Since 9.2)</p></li>
<li><p><strong>multifd-zstd-level</strong> -- Set the compression level to be used in live
migration, the compression level is an integer between 0 and 20,
where 0 means no compression, 1 means the best compression
speed, and 20 means best compression ratio which will consume
more CPU.  Defaults to 1.  (Since 5.0)</p></li>
<li><p><strong>block-bitmap-mapping</strong> -- Maps block nodes and bitmaps on them to
aliases for the purpose of dirty bitmap migration.  Such aliases
may for example be the corresponding names on the opposite site.
The mapping must be one-to-one, but not necessarily complete: On
the source, unmapped bitmaps and all bitmaps on unmapped nodes
will be ignored.  On the destination, encountering an unmapped
alias in the incoming migration stream will result in a report,
and all further bitmap migration data will then be discarded.
Note that the destination does not know about bitmaps it does
not receive, so there is no limitation or requirement regarding
the number of bitmaps received, or how they are named, or on
which nodes they are placed.  By default (when this parameter
has never been set), bitmap names are mapped to themselves.
Nodes are mapped to their block device name if there is one, and
to their node name otherwise.  (Since 5.2)</p></li>
<li><p><strong>x-vcpu-dirty-limit-period</strong> -- Periodic time (in milliseconds) of dirty
limit during live migration.  Should be in the range 1 to
1000ms.  Defaults to 1000ms.  (Since 8.1)</p></li>
<li><p><strong>vcpu-dirty-limit</strong> -- Dirtyrate limit (MB/s) during live migration.
Defaults to 1.  (Since 8.1)</p></li>
<li><p><strong>mode</strong> -- Migration mode.  See description in <a class="reference internal" href="#enum-QMP-migration.MigMode" title="QMP:migration.MigMode"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">MigMode</span></code></a>.  Default is
'normal'.  (Since 8.2)</p></li>
<li><p><strong>zero-page-detection</strong> -- Whether and how to detect zero pages.
See description in <a class="reference internal" href="#enum-QMP-migration.ZeroPageDetection" title="QMP:migration.ZeroPageDetection"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">ZeroPageDetection</span></code></a>.  Default is 'multifd'.
(since 9.0)</p></li>
<li><p><strong>direct-io</strong> -- Open migration files with O_DIRECT when possible.  This
only has effect if the <code class="docutils literal notranslate"><span class="pre">mapped-ram</span></code> capability is enabled.
(Since 9.1)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Members <code class="docutils literal notranslate"><span class="pre">x-checkpoint-delay</span></code> and
<code class="docutils literal notranslate"><span class="pre">x-vcpu-dirty-limit-period</span></code> are experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrateSetParameters">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrateSetParameters</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-migration.MigrateSetParameters" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>announce-initial</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Initial delay (in milliseconds) before sending
the first announce (Since 4.0)</p></li>
<li><p><strong>announce-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Maximum delay (in milliseconds) between packets in
the announcement (Since 4.0)</p></li>
<li><p><strong>announce-rounds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Number of self-announce packets sent after
migration (Since 4.0)</p></li>
<li><p><strong>announce-step</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Increase in delay (in milliseconds) between
subsequent packets in the announcement (Since 4.0)</p></li>
<li><p><strong>throttle-trigger-threshold</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The ratio of bytes_dirty_period and
bytes_xfer_period to trigger throttling.  It is expressed as
percentage.  The default value is 50.  (Since 5.0)</p></li>
<li><p><strong>cpu-throttle-initial</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Initial percentage of time guest cpus are
throttled when migration auto-converge is activated.  The
default value is 20.  (Since 2.7)</p></li>
<li><p><strong>cpu-throttle-increment</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- throttle percentage increase each time
auto-converge detects that migration is not making progress.
The default value is 10.  (Since 2.7)</p></li>
<li><p><strong>cpu-throttle-tailslow</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Make CPU throttling slower at tail stage.
At the tail stage of throttling, the Guest is very sensitive to
CPU percentage while the <code class="docutils literal notranslate"><span class="pre">cpu-throttle</span></code> -increment is excessive
usually at tail stage.  If this parameter is true, we will
compute the ideal CPU percentage used by the Guest, which may
exactly make the dirty rate match the dirty rate threshold.
Then we will choose a smaller throttle increment between the one
specified by <code class="docutils literal notranslate"><span class="pre">cpu-throttle-increment</span></code> and the one generated by
ideal CPU percentage.  Therefore, it is compatible to
traditional throttling, meanwhile the throttle increment won't
be excessive at tail stage.  The default value is false.
(Since 5.1)</p></li>
<li><p><strong>tls-creds</strong> (<span><a class="reference internal" href="#alternate-QMP-common.StrOrNull" title="QMP:common.StrOrNull"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StrOrNull</span></code></a>, <em>optional</em></span>) -- ID of the 'tls-creds' object that provides credentials
for establishing a TLS connection over the migration data
channel.  On the outgoing side of the migration, the credentials
must be for a 'client' endpoint, while for the incoming side the
credentials must be for a 'server' endpoint.  Setting this to a
non-empty string enables TLS for all migrations.  An empty
string means that QEMU will use plain text mode for migration,
rather than TLS.  This is the default.  (Since 2.7)</p></li>
<li><p><strong>tls-hostname</strong> (<span><a class="reference internal" href="#alternate-QMP-common.StrOrNull" title="QMP:common.StrOrNull"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StrOrNull</span></code></a>, <em>optional</em></span>) -- <p>migration target's hostname for validating the
server's x509 certificate identity.  If empty, QEMU will use the
hostname from the migration URI, if any.  A non-empty value is
required when using x509 based TLS credentials and the migration
URI does not include a hostname, such as fd: or exec: based
migration.  (Since 2.7)</p>
<p>Note: empty value works only since 2.9.</p>
</p></li>
<li><p><strong>tls-authz</strong> (<span><a class="reference internal" href="#alternate-QMP-common.StrOrNull" title="QMP:common.StrOrNull"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StrOrNull</span></code></a>, <em>optional</em></span>) -- ID of the 'authz' object subclass that provides access
control checking of the TLS x509 certificate distinguished name.
This object is only resolved at time of use, so can be deleted
and recreated on the fly while the migration server is active.
If missing, it will default to denying access (Since 4.0)</p></li>
<li><p><strong>max-bandwidth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum speed for migration, in bytes per second.
(Since 2.8)</p></li>
<li><p><strong>avail-switchover-bandwidth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- to set the available bandwidth that
migration can use during switchover phase.  <strong>Note:</strong> this does
not limit the bandwidth during switchover, but only for
calculations when making decisions to switchover.  By default,
this value is zero, which means QEMU will estimate the bandwidth
automatically.  This can be set when the estimated value is not
accurate, while the user is able to guarantee such bandwidth is
available when switching over.  When specified correctly, this
can make the switchover decision much more accurate.
(Since 8.2)</p></li>
<li><p><strong>downtime-limit</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- set maximum tolerated downtime for migration.
maximum downtime in milliseconds (Since 2.8)</p></li>
<li><p><strong>x-checkpoint-delay</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The delay time (in ms) between two COLO
checkpoints in periodic mode.  (Since 2.8)</p></li>
<li><p><strong>multifd-channels</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Number of channels used to migrate data in
parallel.  This is the same number that the number of sockets
used for migration.  The default value is 2 (since 4.0)</p></li>
<li><p><strong>xbzrle-cache-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- cache size to be used by XBZRLE migration.  It
needs to be a multiple of the target page size and a power of 2
(Since 2.11)</p></li>
<li><p><strong>max-postcopy-bandwidth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Background transfer bandwidth during
postcopy.  Defaults to 0 (unlimited).  In bytes per second.
(Since 3.0)</p></li>
<li><p><strong>max-cpu-throttle</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum cpu throttle percentage.  Defaults to 99.
(Since 3.1)</p></li>
<li><p><strong>multifd-compression</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MultiFDCompression" title="QMP:migration.MultiFDCompression"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MultiFDCompression</span></code></a>, <em>optional</em></span>) -- Which compression method to use.  Defaults to
none.  (Since 5.0)</p></li>
<li><p><strong>multifd-zlib-level</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Set the compression level to be used in live
migration, the compression level is an integer between 0 and 9,
where 0 means no compression, 1 means the best compression
speed, and 9 means best compression ratio which will consume
more CPU.  Defaults to 1.  (Since 5.0)</p></li>
<li><p><strong>multifd-qatzip-level</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Set the compression level to be used in live
migration.  The level is an integer between 1 and 9, where 1 means
the best compression speed, and 9 means the best compression
ratio which will consume more CPU.  Defaults to 1.  (Since 9.2)</p></li>
<li><p><strong>multifd-zstd-level</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Set the compression level to be used in live
migration, the compression level is an integer between 0 and 20,
where 0 means no compression, 1 means the best compression
speed, and 20 means best compression ratio which will consume
more CPU.  Defaults to 1.  (Since 5.0)</p></li>
<li><p><strong>block-bitmap-mapping</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.BitmapMigrationNodeAlias" title="QMP:migration.BitmapMigrationNodeAlias"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BitmapMigrationNodeAlias</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Maps block nodes and bitmaps on them to
aliases for the purpose of dirty bitmap migration.  Such aliases
may for example be the corresponding names on the opposite site.
The mapping must be one-to-one, but not necessarily complete: On
the source, unmapped bitmaps and all bitmaps on unmapped nodes
will be ignored.  On the destination, encountering an unmapped
alias in the incoming migration stream will result in a report,
and all further bitmap migration data will then be discarded.
Note that the destination does not know about bitmaps it does
not receive, so there is no limitation or requirement regarding
the number of bitmaps received, or how they are named, or on
which nodes they are placed.  By default (when this parameter
has never been set), bitmap names are mapped to themselves.
Nodes are mapped to their block device name if there is one, and
to their node name otherwise.  (Since 5.2)</p></li>
<li><p><strong>x-vcpu-dirty-limit-period</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Periodic time (in milliseconds) of dirty
limit during live migration.  Should be in the range 1 to
1000ms.  Defaults to 1000ms.  (Since 8.1)</p></li>
<li><p><strong>vcpu-dirty-limit</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Dirtyrate limit (MB/s) during live migration.
Defaults to 1.  (Since 8.1)</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MigMode" title="QMP:migration.MigMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigMode</span></code></a>, <em>optional</em></span>) -- Migration mode.  See description in <a class="reference internal" href="#enum-QMP-migration.MigMode" title="QMP:migration.MigMode"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">MigMode</span></code></a>.  Default is
'normal'.  (Since 8.2)</p></li>
<li><p><strong>zero-page-detection</strong> (<span><a class="reference internal" href="#enum-QMP-migration.ZeroPageDetection" title="QMP:migration.ZeroPageDetection"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ZeroPageDetection</span></code></a>, <em>optional</em></span>) -- Whether and how to detect zero pages.
See description in <a class="reference internal" href="#enum-QMP-migration.ZeroPageDetection" title="QMP:migration.ZeroPageDetection"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">ZeroPageDetection</span></code></a>.  Default is 'multifd'.
(since 9.0)</p></li>
<li><p><strong>direct-io</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Open migration files with O_DIRECT when possible.  This
only has effect if the <code class="docutils literal notranslate"><span class="pre">mapped-ram</span></code> capability is enabled.
(Since 9.1)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Members <code class="docutils literal notranslate"><span class="pre">x-checkpoint-delay</span></code> and
<code class="docutils literal notranslate"><span class="pre">x-vcpu-dirty-limit-period</span></code> are experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate-set-parameters">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate-set-parameters</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-migration.migrate-set-parameters" title="Link to this definition"></a></dt>
<dd><p>Set various migration parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-migration.MigrateSetParameters" title="QMP:migration.MigrateSetParameters"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrateSetParameters</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-set-parameters&quot;</span><span class="w"> </span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;multifd-channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrationParameters">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationParameters</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-migration.MigrationParameters" title="Link to this definition"></a></dt>
<dd><p>The optional members aren't actually optional.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>announce-initial</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Initial delay (in milliseconds) before sending
the first announce (Since 4.0)</p></li>
<li><p><strong>announce-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Maximum delay (in milliseconds) between packets in
the announcement (Since 4.0)</p></li>
<li><p><strong>announce-rounds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Number of self-announce packets sent after
migration (Since 4.0)</p></li>
<li><p><strong>announce-step</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Increase in delay (in milliseconds) between
subsequent packets in the announcement (Since 4.0)</p></li>
<li><p><strong>throttle-trigger-threshold</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The ratio of bytes_dirty_period and
bytes_xfer_period to trigger throttling.  It is expressed as
percentage.  The default value is 50.  (Since 5.0)</p></li>
<li><p><strong>cpu-throttle-initial</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Initial percentage of time guest cpus are
throttled when migration auto-converge is activated.
(Since 2.7)</p></li>
<li><p><strong>cpu-throttle-increment</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- throttle percentage increase each time
auto-converge detects that migration is not making progress.
(Since 2.7)</p></li>
<li><p><strong>cpu-throttle-tailslow</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Make CPU throttling slower at tail stage.
At the tail stage of throttling, the Guest is very sensitive to
CPU percentage while the <code class="docutils literal notranslate"><span class="pre">cpu-throttle</span></code> -increment is excessive
usually at tail stage.  If this parameter is true, we will
compute the ideal CPU percentage used by the Guest, which may
exactly make the dirty rate match the dirty rate threshold.
Then we will choose a smaller throttle increment between the one
specified by <code class="docutils literal notranslate"><span class="pre">cpu-throttle-increment</span></code> and the one generated by
ideal CPU percentage.  Therefore, it is compatible to
traditional throttling, meanwhile the throttle increment won't
be excessive at tail stage.  The default value is false.
(Since 5.1)</p></li>
<li><p><strong>tls-creds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- <p>ID of the 'tls-creds' object that provides credentials
for establishing a TLS connection over the migration data
channel.  On the outgoing side of the migration, the credentials
must be for a 'client' endpoint, while for the incoming side the
credentials must be for a 'server' endpoint.  An empty string
means that QEMU will use plain text mode for migration, rather
than TLS.  (Since 2.7)</p>
<p>Note: 2.8 omits empty <code class="docutils literal notranslate"><span class="pre">tls-creds</span></code> instead.</p>
</p></li>
<li><p><strong>tls-hostname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- <p>migration target's hostname for validating the
server's x509 certificate identity.  If empty, QEMU will use the
hostname from the migration URI, if any.  (Since 2.7)</p>
<p>Note: 2.8 omits empty <code class="docutils literal notranslate"><span class="pre">tls-hostname</span></code> instead.</p>
</p></li>
<li><p><strong>tls-authz</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID of the 'authz' object subclass that provides access
control checking of the TLS x509 certificate distinguished name.
(Since 4.0)</p></li>
<li><p><strong>max-bandwidth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum speed for migration, in bytes per second.
(Since 2.8)</p></li>
<li><p><strong>avail-switchover-bandwidth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- to set the available bandwidth that
migration can use during switchover phase.  <strong>Note:</strong> this does
not limit the bandwidth during switchover, but only for
calculations when making decisions to switchover.  By default,
this value is zero, which means QEMU will estimate the bandwidth
automatically.  This can be set when the estimated value is not
accurate, while the user is able to guarantee such bandwidth is
available when switching over.  When specified correctly, this
can make the switchover decision much more accurate.
(Since 8.2)</p></li>
<li><p><strong>downtime-limit</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- set maximum tolerated downtime for migration.
maximum downtime in milliseconds (Since 2.8)</p></li>
<li><p><strong>x-checkpoint-delay</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the delay time between two COLO checkpoints.
(Since 2.8)</p></li>
<li><p><strong>multifd-channels</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Number of channels used to migrate data in
parallel.  This is the same number that the number of sockets
used for migration.  The default value is 2 (since 4.0)</p></li>
<li><p><strong>xbzrle-cache-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- cache size to be used by XBZRLE migration.  It
needs to be a multiple of the target page size and a power of 2
(Since 2.11)</p></li>
<li><p><strong>max-postcopy-bandwidth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Background transfer bandwidth during
postcopy.  Defaults to 0 (unlimited).  In bytes per second.
(Since 3.0)</p></li>
<li><p><strong>max-cpu-throttle</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum cpu throttle percentage.  Defaults to 99.
(Since 3.1)</p></li>
<li><p><strong>multifd-compression</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MultiFDCompression" title="QMP:migration.MultiFDCompression"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MultiFDCompression</span></code></a>, <em>optional</em></span>) -- Which compression method to use.  Defaults to
none.  (Since 5.0)</p></li>
<li><p><strong>multifd-zlib-level</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Set the compression level to be used in live
migration, the compression level is an integer between 0 and 9,
where 0 means no compression, 1 means the best compression
speed, and 9 means best compression ratio which will consume
more CPU.  Defaults to 1.  (Since 5.0)</p></li>
<li><p><strong>multifd-qatzip-level</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Set the compression level to be used in live
migration.  The level is an integer between 1 and 9, where 1 means
the best compression speed, and 9 means the best compression
ratio which will consume more CPU.  Defaults to 1.  (Since 9.2)</p></li>
<li><p><strong>multifd-zstd-level</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Set the compression level to be used in live
migration, the compression level is an integer between 0 and 20,
where 0 means no compression, 1 means the best compression
speed, and 20 means best compression ratio which will consume
more CPU.  Defaults to 1.  (Since 5.0)</p></li>
<li><p><strong>block-bitmap-mapping</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.BitmapMigrationNodeAlias" title="QMP:migration.BitmapMigrationNodeAlias"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BitmapMigrationNodeAlias</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Maps block nodes and bitmaps on them to
aliases for the purpose of dirty bitmap migration.  Such aliases
may for example be the corresponding names on the opposite site.
The mapping must be one-to-one, but not necessarily complete: On
the source, unmapped bitmaps and all bitmaps on unmapped nodes
will be ignored.  On the destination, encountering an unmapped
alias in the incoming migration stream will result in a report,
and all further bitmap migration data will then be discarded.
Note that the destination does not know about bitmaps it does
not receive, so there is no limitation or requirement regarding
the number of bitmaps received, or how they are named, or on
which nodes they are placed.  By default (when this parameter
has never been set), bitmap names are mapped to themselves.
Nodes are mapped to their block device name if there is one, and
to their node name otherwise.  (Since 5.2)</p></li>
<li><p><strong>x-vcpu-dirty-limit-period</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Periodic time (in milliseconds) of dirty
limit during live migration.  Should be in the range 1 to
1000ms.  Defaults to 1000ms.  (Since 8.1)</p></li>
<li><p><strong>vcpu-dirty-limit</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Dirtyrate limit (MB/s) during live migration.
Defaults to 1.  (Since 8.1)</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MigMode" title="QMP:migration.MigMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigMode</span></code></a>, <em>optional</em></span>) -- Migration mode.  See description in <a class="reference internal" href="#enum-QMP-migration.MigMode" title="QMP:migration.MigMode"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">MigMode</span></code></a>.  Default is
'normal'.  (Since 8.2)</p></li>
<li><p><strong>zero-page-detection</strong> (<span><a class="reference internal" href="#enum-QMP-migration.ZeroPageDetection" title="QMP:migration.ZeroPageDetection"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ZeroPageDetection</span></code></a>, <em>optional</em></span>) -- Whether and how to detect zero pages.
See description in <a class="reference internal" href="#enum-QMP-migration.ZeroPageDetection" title="QMP:migration.ZeroPageDetection"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">ZeroPageDetection</span></code></a>.  Default is 'multifd'.
(since 9.0)</p></li>
<li><p><strong>direct-io</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Open migration files with O_DIRECT when possible.  This
only has effect if the <code class="docutils literal notranslate"><span class="pre">mapped-ram</span></code> capability is enabled.
(Since 9.1)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Members <code class="docutils literal notranslate"><span class="pre">x-checkpoint-delay</span></code> and
<code class="docutils literal notranslate"><span class="pre">x-vcpu-dirty-limit-period</span></code> are experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.query-migrate-parameters">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-migrate-parameters</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#command-QMP-migration.query-migrate-parameters" title="Link to this definition"></a></dt>
<dd><p>Return information about the current migration parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-migration.MigrationParameters" title="QMP:migration.MigrationParameters"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationParameters</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-migrate-parameters&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;multifd-channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;cpu-throttle-increment&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;cpu-throttle-initial&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;max-bandwidth&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">33554432</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;downtime-limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate-start-postcopy">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate-start-postcopy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#command-QMP-migration.migrate-start-postcopy" title="Link to this definition"></a></dt>
<dd><p>Followup to a migration command to switch the migration to postcopy
mode.  The postcopy-ram capability must be set on both source and
destination before the original migration command.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-start-postcopy&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-migration.MIGRATION">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MIGRATION</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#event-QMP-migration.MIGRATION" title="Link to this definition"></a></dt>
<dd><p>Emitted when a migration event happens</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MigrationStatus" title="QMP:migration.MigrationStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationStatus</span></code></a></span>) -- <a class="reference internal" href="#enum-QMP-migration.MigrationStatus" title="QMP:migration.MigrationStatus"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">MigrationStatus</span></code></a> describing the current migration status.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1432121972</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MIGRATION&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-migration.MIGRATION_PASS">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MIGRATION_PASS</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#event-QMP-migration.MIGRATION_PASS" title="Link to this definition"></a></dt>
<dd><p>Emitted from the source side of a migration at the start of each
pass (when it syncs the dirty bitmap)</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pass</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- An incrementing count (starting at 1 on the first pass)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1449669631</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">239225</span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MIGRATION_PASS&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;pass&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.COLOMessage">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">COLOMessage</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#enum-QMP-migration.COLOMessage" title="Link to this definition"></a></dt>
<dd><p>The message transmission between Primary side and Secondary side.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>checkpoint-ready</strong> -- Secondary VM (SVM) is ready for checkpointing</p></li>
<li><p><strong>checkpoint-request</strong> -- Primary VM (PVM) tells SVM to prepare for
checkpointing</p></li>
<li><p><strong>checkpoint-reply</strong> -- SVM gets PVM's checkpoint request</p></li>
<li><p><strong>vmstate-send</strong> -- VM's state will be sent by PVM.</p></li>
<li><p><strong>vmstate-size</strong> -- The total size of VMstate.</p></li>
<li><p><strong>vmstate-received</strong> -- VM's state has been received by SVM.</p></li>
<li><p><strong>vmstate-loaded</strong> -- VM's state has been loaded by SVM.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.COLOMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">COLOMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#enum-QMP-migration.COLOMode" title="Link to this definition"></a></dt>
<dd><p>The COLO current mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- COLO is disabled.</p></li>
<li><p><strong>primary</strong> -- COLO node in primary side.</p></li>
<li><p><strong>secondary</strong> -- COLO node in slave side.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.FailoverStatus">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FailoverStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#enum-QMP-migration.FailoverStatus" title="Link to this definition"></a></dt>
<dd><p>An enumeration of COLO failover status</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- no failover has ever happened</p></li>
<li><p><strong>require</strong> -- got failover requirement but not handled</p></li>
<li><p><strong>active</strong> -- in the process of doing failover</p></li>
<li><p><strong>completed</strong> -- finish the process of failover</p></li>
<li><p><strong>relaunch</strong> -- restart the failover process, from 'none' -&gt; 'completed'
(Since 2.9)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-migration.COLO_EXIT">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">COLO_EXIT</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.1)</span></span><a class="headerlink" href="#event-QMP-migration.COLO_EXIT" title="Link to this definition"></a></dt>
<dd><p>Emitted when VM finishes COLO mode due to some errors happening or
at the request of users.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-migration.COLOMode" title="QMP:migration.COLOMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">COLOMode</span></code></a></span>) -- report COLO mode when COLO exited.</p></li>
<li><p><strong>reason</strong> (<span><a class="reference internal" href="#enum-QMP-migration.COLOExitReason" title="QMP:migration.COLOExitReason"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">COLOExitReason</span></code></a></span>) -- describes the reason for the COLO exit.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2032141960</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">417172</span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;COLO_EXIT&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;request&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.COLOExitReason">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">COLOExitReason</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.1)</span></span><a class="headerlink" href="#enum-QMP-migration.COLOExitReason" title="Link to this definition"></a></dt>
<dd><p>The reason for a COLO exit.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- failover has never happened.  This state does not occur in
the <a class="reference internal" href="#event-QMP-migration.COLO_EXIT" title="QMP:migration.COLO_EXIT"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">COLO_EXIT</span></code></a> event, and is only visible in the result of
<a class="reference internal" href="#command-QMP-migration.query-colo-status" title="QMP:migration.query-colo-status"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-colo-status</span></code></a>.</p></li>
<li><p><strong>request</strong> -- COLO exit is due to an external request.</p></li>
<li><p><strong>error</strong> -- COLO exit is due to an internal error.</p></li>
<li><p><strong>processing</strong> -- COLO is currently handling a failover (since 4.0).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.x-colo-lost-heartbeat">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-colo-lost-heartbeat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#command-QMP-migration.x-colo-lost-heartbeat" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>Tell QEMU that heartbeat is lost, request it to do takeover
procedures.  If this command is sent to the PVM, the Primary side
will exit COLO mode.  If sent to the Secondary, the Secondary side
will run failover work, then takes over server operation to become
the service VM.</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is experimental.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-colo-lost-heartbeat&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate_cancel">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate_cancel</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-migration.migrate_cancel" title="Link to this definition"></a></dt>
<dd><p>Cancel the currently executing migration process.  Allows a new
migration to be started right after.  When postcopy-ram is in use,
cancelling is not allowed after the postcopy phase has started.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This command succeeds even if there is no migration
process running.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate_cancel&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate-continue">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate-continue</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#command-QMP-migration.migrate-continue" title="Link to this definition"></a></dt>
<dd><p>Continue migration when it's in a paused state.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MigrationStatus" title="QMP:migration.MigrationStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationStatus</span></code></a></span>) -- The state the migration is currently expected to be in</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-continue&quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pre-switchover&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.MigrationAddressType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationAddressType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#enum-QMP-migration.MigrationAddressType" title="Link to this definition"></a></dt>
<dd><p>The migration stream transport mechanisms.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket</strong> -- Migrate via socket.</p></li>
<li><p><strong>exec</strong> -- Direct the migration stream to another process.</p></li>
<li><p><strong>rdma</strong> -- Migrate via RDMA.</p></li>
<li><p><strong>file</strong> -- Direct the migration stream to a file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.FileMigrationArgs">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FileMigrationArgs</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-migration.FileMigrationArgs" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The file to receive the migration stream</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The file offset where the migration stream will start</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrationExecCommand">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationExecCommand</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-migration.MigrationExecCommand" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- command (list head) and arguments to execute.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrationAddress">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationAddress</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-migration.MigrationAddress" title="Link to this definition"></a></dt>
<dd><p>Migration endpoint configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transport</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MigrationAddressType" title="QMP:migration.MigrationAddressType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationAddressType</span></code></a></span>) -- The migration stream transport mechanism</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">transport</span></code> is <code class="docutils literal notranslate"><span class="pre">socket</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">transport</span></code> is <code class="docutils literal notranslate"><span class="pre">exec</span></code>: The members of <a class="reference internal" href="#object-QMP-migration.MigrationExecCommand" title="QMP:migration.MigrationExecCommand"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationExecCommand</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">transport</span></code> is <code class="docutils literal notranslate"><span class="pre">rdma</span></code>: The members of <a class="reference internal" href="#object-QMP-sockets.InetSocketAddress" title="QMP:sockets.InetSocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InetSocketAddress</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">transport</span></code> is <code class="docutils literal notranslate"><span class="pre">file</span></code>: The members of <a class="reference internal" href="#object-QMP-migration.FileMigrationArgs" title="QMP:migration.FileMigrationArgs"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FileMigrationArgs</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.MigrationChannelType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationChannelType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#enum-QMP-migration.MigrationChannelType" title="Link to this definition"></a></dt>
<dd><p>The migration channel-type request options.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main</strong> -- Main outbound migration channel.</p></li>
<li><p><strong>cpr</strong> -- Checkpoint and restart state channel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrationChannel">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationChannel</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#object-QMP-migration.MigrationChannel" title="Link to this definition"></a></dt>
<dd><p>Migration stream channel parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel-type</strong> (<span><a class="reference internal" href="#enum-QMP-migration.MigrationChannelType" title="QMP:migration.MigrationChannelType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationChannelType</span></code></a></span>) -- Channel type for transferring packet information.</p></li>
<li><p><strong>addr</strong> (<span><a class="reference internal" href="#object-QMP-migration.MigrationAddress" title="QMP:migration.MigrationAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationAddress</span></code></a></span>) -- Migration endpoint configuration on destination interface.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-migration.migrate" title="Link to this definition"></a></dt>
<dd><p>Migrates the current running guest to another Virtual Machine.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uri</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the Uniform Resource Identifier of the destination VM</p></li>
<li><p><strong>channels</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.MigrationChannel" title="QMP:migration.MigrationChannel"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationChannel</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of migration stream channels with each stream in the
list connected to a destination interface endpoint.</p></li>
<li><p><strong>detach</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- this argument exists only for compatibility reasons and is
ignored by QEMU</p></li>
<li><p><strong>resume</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- resume one paused migration, default &quot;off&quot;.  (since 3.0)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Argument <code class="docutils literal notranslate"><span class="pre">detach</span></code> is deprecated.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<ol class="arabic simple">
<li><p>The <a class="reference internal" href="#command-QMP-migration.query-migrate" title="QMP:migration.query-migrate"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-migrate</span></code></a> command should be used to check
migration's progress and final result (this information is
provided by the 'status' member).</p></li>
<li><p>The uri argument should have the Uniform Resource Identifier
of default destination VM.  This connection will be bound to
default network.</p></li>
<li><p>For now, number of migration streams is restricted to one,
i.e. number of items in 'channels' list is just 1.</p></li>
<li><p>The 'uri' and 'channels' arguments are mutually exclusive;
exactly one of the two should be present.</p></li>
</ol>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tcp:0:4446&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;socket&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inet&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10.12.34.9&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1050&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;exec&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;/bin/nc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-p&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;6000&quot;</span><span class="p">,</span>
<span class="w">                                             </span><span class="s2">&quot;/some/sock&quot;</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rdma&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10.12.34.9&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1050&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/migfile&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x1000&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate-incoming">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate-incoming</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#command-QMP-migration.migrate-incoming" title="Link to this definition"></a></dt>
<dd><p>Start an incoming migration.  QEMU must have been started with
-incoming defer.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uri</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The Uniform Resource Identifier identifying the source or
address to listen on</p></li>
<li><p><strong>channels</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.MigrationChannel" title="QMP:migration.MigrationChannel"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationChannel</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of migration stream channels with each stream in the
list connected to a destination interface endpoint.</p></li>
<li><p><strong>exit-on-error</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Exit on incoming migration failure.  Default true.
When set to false, the failure triggers a <a class="reference internal" href="#event-QMP-migration.MIGRATION" title="QMP:migration.MIGRATION"><code class="xref qapi qapi-event docutils literal notranslate"><span class="pre">MIGRATION</span></code></a>
event, and error details could be retrieved with <a class="reference internal" href="#command-QMP-migration.query-migrate" title="QMP:migration.query-migrate"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-migrate</span></code></a>.
(since 9.1)</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<ol class="arabic simple">
<li><p>It's a bad idea to use a string for the uri, but it needs to
stay compatible with -incoming and the format of the uri is
already exposed above libvirt.</p></li>
<li><p>QEMU must be started with -incoming defer to allow
<a class="reference internal" href="#command-QMP-migration.migrate-incoming" title="QMP:migration.migrate-incoming"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">migrate-incoming</span></code></a> to be used.</p></li>
<li><p>The uri format is the same as for -incoming</p></li>
<li><p>For now, number of migration streams is restricted to one,
i.e. number of items in 'channels' list is just 1.</p></li>
<li><p>The 'uri' and 'channels' arguments are mutually exclusive;
exactly one of the two should be present.</p></li>
</ol>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-incoming&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tcp:0:4446&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-incoming&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;socket&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inet&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10.12.34.9&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1050&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-incoming&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;exec&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;/bin/nc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-p&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;6000&quot;</span><span class="p">,</span>
<span class="w">                                             </span><span class="s2">&quot;/some/sock&quot;</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-incoming&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;channels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;channel-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rdma&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10.12.34.9&quot;</span><span class="p">,</span>
<span class="w">                                   </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1050&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.xen-save-devices-state">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xen-save-devices-state</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-migration.xen-save-devices-state" title="Link to this definition"></a></dt>
<dd><p>Save the state of all devices to file.  The RAM and the block
devices of the VM are not saved by this command.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the file to save the state of the devices to as binary
data.  See <a class="reference internal" href="#command-QMP-migration.xen-save-devices-state" title="QMP:migration.xen-save-devices-state"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">xen-save-devices-state</span></code></a>.txt for a description of the
binary format.</p></li>
<li><p><strong>live</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Optional argument to ask QEMU to treat this command as part
of a live migration.  Default to true.  (since 2.11)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xen-save-devices-state&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/save&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.xen-set-global-dirty-log">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xen-set-global-dirty-log</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#command-QMP-migration.xen-set-global-dirty-log" title="Link to this definition"></a></dt>
<dd><p>Enable or disable the global dirty log mode.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true to enable, false to disable.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xen-set-global-dirty-log&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.xen-load-devices-state">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xen-load-devices-state</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#command-QMP-migration.xen-load-devices-state" title="Link to this definition"></a></dt>
<dd><p>Load the state of all devices from file.  The RAM and the block
devices of the VM are not loaded by this command.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the file to load the state of the devices from as binary
data.  See <a class="reference internal" href="#command-QMP-migration.xen-save-devices-state" title="QMP:migration.xen-save-devices-state"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">xen-save-devices-state</span></code></a>.txt for a description of the
binary format.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xen-load-devices-state&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/resume&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.xen-set-replication">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xen-set-replication</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#command-QMP-migration.xen-set-replication" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>Enable or disable replication.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true to enable, false to disable.</p></li>
<li><p><strong>primary</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true for primary or false for secondary.</p></li>
<li><p><strong>failover</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true to do failover, false to stop.  Cannot be specified
if 'enable' is true.  Default value is false.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xen-set-replication&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;primary&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.ReplicationStatus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ReplicationStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-migration.ReplicationStatus" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>The result format for <a class="reference internal" href="#command-QMP-migration.query-xen-replication-status" title="QMP:migration.query-xen-replication-status"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-xen-replication-status</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>error</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if an error happened, false if replication is normal.</p></li>
<li><p><strong>desc</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the human readable error description string, when <code class="docutils literal notranslate"><span class="pre">error</span></code> is
'true'.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.query-xen-replication-status">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-xen-replication-status</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#command-QMP-migration.query-xen-replication-status" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>Query replication status while the vm is running.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-migration.ReplicationStatus" title="QMP:migration.ReplicationStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ReplicationStatus</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-xen-replication-status&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.xen-colo-do-checkpoint">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xen-colo-do-checkpoint</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#command-QMP-migration.xen-colo-do-checkpoint" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>Xen uses this command to notify replication to trigger a checkpoint.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xen-colo-do-checkpoint&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.COLOStatus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">COLOStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.1)</span></span><a class="headerlink" href="#object-QMP-migration.COLOStatus" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>The result format for <a class="reference internal" href="#command-QMP-migration.query-colo-status" title="QMP:migration.query-colo-status"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-colo-status</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-migration.COLOMode" title="QMP:migration.COLOMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">COLOMode</span></code></a></span>) -- COLO running mode.  If COLO is running, this field will
return 'primary' or 'secondary'.</p></li>
<li><p><strong>last-mode</strong> (<span><a class="reference internal" href="#enum-QMP-migration.COLOMode" title="QMP:migration.COLOMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">COLOMode</span></code></a></span>) -- COLO last running mode.  If COLO is running, this field
will return same like mode field, after failover we can use this
field to get last colo mode.  (since 4.0)</p></li>
<li><p><strong>reason</strong> (<span><a class="reference internal" href="#enum-QMP-migration.COLOExitReason" title="QMP:migration.COLOExitReason"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">COLOExitReason</span></code></a></span>) -- describes the reason for the COLO exit.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.query-colo-status">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-colo-status</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.1)</span></span><a class="headerlink" href="#command-QMP-migration.query-colo-status" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_REPLICATION</span></code></div>
</div>
<p>Query COLO status while the vm is running.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-migration.COLOStatus" title="QMP:migration.COLOStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">COLOStatus</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-colo-status&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;last-mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;request&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate-recover">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate-recover</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-migration.migrate-recover" title="Link to this definition"></a></dt>
<dd><p>Provide a recovery migration stream URI.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uri</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the URI to be used for the recovery of migration stream.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-recover&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tcp:192.168.1.200:12345&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.migrate-pause">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">migrate-pause</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-migration.migrate-pause" title="Link to this definition"></a></dt>
<dd><p>Pause a migration.  Currently it only supports postcopy.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;migrate-pause&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-migration.UNPLUG_PRIMARY">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UNPLUG_PRIMARY</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#event-QMP-migration.UNPLUG_PRIMARY" title="Link to this definition"></a></dt>
<dd><p>Emitted from source side of a migration when migration state is
WAIT_UNPLUG.  Device was unplugged by guest operating system.
Device resources in QEMU are kept on standby to be able to re-plug
it in case of migration failure.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QEMU device id of the unplugged device</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;UNPLUG_PRIMARY&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hostdev0&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.DirtyRateVcpu">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DirtyRateVcpu</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-migration.DirtyRateVcpu" title="Link to this definition"></a></dt>
<dd><p>Dirty rate of vcpu.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vcpu index.</p></li>
<li><p><strong>dirty-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- dirty rate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.DirtyRateStatus">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DirtyRateStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#enum-QMP-migration.DirtyRateStatus" title="Link to this definition"></a></dt>
<dd><p>Dirty page rate measurement status.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstarted</strong> -- measuring thread has not been started yet</p></li>
<li><p><strong>measuring</strong> -- measuring thread is running</p></li>
<li><p><strong>measured</strong> -- dirty page rate is measured and the results are available</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.DirtyRateMeasureMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DirtyRateMeasureMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#enum-QMP-migration.DirtyRateMeasureMode" title="Link to this definition"></a></dt>
<dd><p>Method used to measure dirty page rate.  Differences between
available methods are explained in <a class="reference internal" href="#command-QMP-migration.calc-dirty-rate" title="QMP:migration.calc-dirty-rate"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">calc-dirty-rate</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page-sampling</strong> -- use page sampling</p></li>
<li><p><strong>dirty-ring</strong> -- use dirty ring</p></li>
<li><p><strong>dirty-bitmap</strong> -- use dirty bitmap</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-migration.TimeUnit">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TimeUnit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#enum-QMP-migration.TimeUnit" title="Link to this definition"></a></dt>
<dd><p>Specifies unit in which time-related value is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>second</strong> -- value is in seconds</p></li>
<li><p><strong>millisecond</strong> -- value is in milliseconds</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.DirtyRateInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DirtyRateInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-migration.DirtyRateInfo" title="Link to this definition"></a></dt>
<dd><p>Information about measured dirty page rate.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirty-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- an estimate of the dirty page rate of the VM in units
of MiB/s.  Value is present only when <code class="docutils literal notranslate"><span class="pre">status</span></code> is 'measured'.</p></li>
<li><p><strong>status</strong> (<span><a class="reference internal" href="#enum-QMP-migration.DirtyRateStatus" title="QMP:migration.DirtyRateStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DirtyRateStatus</span></code></a></span>) -- current status of dirty page rate measurements</p></li>
<li><p><strong>start-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- start time in units of second for calculation</p></li>
<li><p><strong>calc-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- time period for which dirty page rate was measured,
expressed and rounded down to <code class="docutils literal notranslate"><span class="pre">calc-time-unit</span></code>.</p></li>
<li><p><strong>calc-time-unit</strong> (<span><a class="reference internal" href="#enum-QMP-migration.TimeUnit" title="QMP:migration.TimeUnit"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TimeUnit</span></code></a></span>) -- time unit of <code class="docutils literal notranslate"><span class="pre">calc-time</span></code>  (Since 8.2)</p></li>
<li><p><strong>sample-pages</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of sampled pages per GiB of guest memory.
Valid only in page-sampling mode (Since 6.1)</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-migration.DirtyRateMeasureMode" title="QMP:migration.DirtyRateMeasureMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DirtyRateMeasureMode</span></code></a></span>) -- mode that was used to measure dirty page rate (Since 6.2)</p></li>
<li><p><strong>vcpu-dirty-rate</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.DirtyRateVcpu" title="QMP:migration.DirtyRateVcpu"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DirtyRateVcpu</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- dirty rate for each vCPU if dirty-ring mode was
specified (Since 6.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.calc-dirty-rate">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc-dirty-rate</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-migration.calc-dirty-rate" title="Link to this definition"></a></dt>
<dd><p>Start measuring dirty page rate of the VM.  Results can be retrieved
with <a class="reference internal" href="#command-QMP-migration.query-dirty-rate" title="QMP:migration.query-dirty-rate"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-dirty-rate</span></code></a> after measurements are completed.</p>
<p>Dirty page rate is the number of pages changed in a given time
period expressed in MiB/s.  The following methods of calculation are
available:</p>
<ol class="arabic simple">
<li><p>In page sampling mode, a random subset of pages are selected and
hashed twice: once at the beginning of measurement time period,
and once again at the end.  If two hashes for some page are
different, the page is counted as changed.  Since this method
relies on sampling and hashing, calculated dirty page rate is
only an estimate of its true value.  Increasing <code class="docutils literal notranslate"><span class="pre">sample-pages</span></code>
improves estimation quality at the cost of higher computational
overhead.</p></li>
<li><p>Dirty bitmap mode captures writes to memory (for example by
temporarily revoking write access to all pages) and counting page
faults.  Information about modified pages is collected into a
bitmap, where each bit corresponds to one guest page.  This mode
requires that KVM accelerator property &quot;dirty-ring-size&quot; is <em>not</em>
set.</p></li>
<li><p>Dirty ring mode is similar to dirty bitmap mode, but the
information about modified pages is collected into ring buffer.
This mode tracks page modification per each vCPU separately.  It
requires that KVM accelerator property &quot;dirty-ring-size&quot; is set.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calc-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- time period for which dirty page rate is calculated.  By
default it is specified in seconds, but the unit can be set
explicitly with <code class="docutils literal notranslate"><span class="pre">calc-time-unit</span></code>.  Note that larger <code class="docutils literal notranslate"><span class="pre">calc-time</span></code>
values will typically result in smaller dirty page rates because
page dirtying is a one-time event.  Once some page is counted as
dirty during <code class="docutils literal notranslate"><span class="pre">calc-time</span></code> period, further writes to this page will
not increase dirty page rate anymore.</p></li>
<li><p><strong>calc-time-unit</strong> (<span><a class="reference internal" href="#enum-QMP-migration.TimeUnit" title="QMP:migration.TimeUnit"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TimeUnit</span></code></a>, <em>optional</em></span>) -- time unit in which <code class="docutils literal notranslate"><span class="pre">calc-time</span></code> is specified.  By
default it is seconds.  (Since 8.2)</p></li>
<li><p><strong>sample-pages</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of sampled pages per each GiB of guest memory.
Default value is 512.  For 4KiB guest pages this corresponds to
sampling ratio of 0.2%.  This argument is used only in page
sampling mode.  (Since 6.1)</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-migration.DirtyRateMeasureMode" title="QMP:migration.DirtyRateMeasureMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DirtyRateMeasureMode</span></code></a>, <em>optional</em></span>) -- mechanism for tracking dirty pages.  Default value is
'page-sampling'.  Others are 'dirty-bitmap' and 'dirty-ring'.
(Since 6.1)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;calc-dirty-rate&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;calc-time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                                                </span><span class="nt">&quot;sample-pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Measure dirty rate using dirty bitmap for 500 milliseconds:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;calc-dirty-rate&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;calc-time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;calc-time-unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;millisecond&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dirty-bitmap&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.query-dirty-rate">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-dirty-rate</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-migration.query-dirty-rate" title="Link to this definition"></a></dt>
<dd><p>Query results of the most recent invocation of <a class="reference internal" href="#command-QMP-migration.calc-dirty-rate" title="QMP:migration.calc-dirty-rate"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">calc-dirty-rate</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calc-time-unit</strong> (<span><a class="reference internal" href="#enum-QMP-migration.TimeUnit" title="QMP:migration.TimeUnit"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TimeUnit</span></code></a>, <em>optional</em></span>) -- time unit in which to report calculation time.
By default it is reported in seconds.  (Since 8.2)</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-migration.DirtyRateInfo" title="QMP:migration.DirtyRateInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DirtyRateInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Measurement is in progress</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;measuring&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sample-pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;page-sampling&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;start-time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1693900454</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;calc-time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;calc-time-unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;second&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Measurement has been completed</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;measured&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sample-pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;dirty-rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;page-sampling&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;start-time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1693900454</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;calc-time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;calc-time-unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;second&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.DirtyLimitInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DirtyLimitInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-migration.DirtyLimitInfo" title="Link to this definition"></a></dt>
<dd><p>Dirty page rate limit information of a virtual CPU.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpu-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- index of a virtual CPU.</p></li>
<li><p><strong>limit-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- upper limit of dirty page rate (MB/s) for a virtual
CPU, 0 means unlimited.</p></li>
<li><p><strong>current-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- current dirty page rate (MB/s) for a virtual CPU.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.set-vcpu-dirty-limit">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set-vcpu-dirty-limit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#command-QMP-migration.set-vcpu-dirty-limit" title="Link to this definition"></a></dt>
<dd><p>Set the upper limit of dirty page rate for virtual CPUs.</p>
<p>Requires KVM with accelerator property &quot;dirty-ring-size&quot; set.  A
virtual CPU's dirty page rate is a measure of its memory load.  To
observe dirty page rates, use <a class="reference internal" href="#command-QMP-migration.calc-dirty-rate" title="QMP:migration.calc-dirty-rate"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">calc-dirty-rate</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpu-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- index of a virtual CPU, default is all.</p></li>
<li><p><strong>dirty-rate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- upper limit of dirty page rate (MB/s) for virtual CPUs.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;set-vcpu-dirty-limit&quot;</span><span class="p">}</span>
<span class="w">    </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;dirty-rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">                   </span><span class="nt">&quot;cpu-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.cancel-vcpu-dirty-limit">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cancel-vcpu-dirty-limit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#command-QMP-migration.cancel-vcpu-dirty-limit" title="Link to this definition"></a></dt>
<dd><p>Cancel the upper limit of dirty page rate for virtual CPUs.</p>
<p>Cancel the dirty page limit for the vCPU which has been set with
<a class="reference internal" href="#command-QMP-migration.set-vcpu-dirty-limit" title="QMP:migration.set-vcpu-dirty-limit"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">set-vcpu-dirty-limit</span></code></a> command.  Note that this command requires
support from dirty ring, same as the <a class="reference internal" href="#command-QMP-migration.set-vcpu-dirty-limit" title="QMP:migration.set-vcpu-dirty-limit"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">set-vcpu-dirty-limit</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpu-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- index of a virtual CPU, default is all.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cancel-vcpu-dirty-limit&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;cpu-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.query-vcpu-dirty-limit">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-vcpu-dirty-limit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#command-QMP-migration.query-vcpu-dirty-limit" title="Link to this definition"></a></dt>
<dd><p>Return information about virtual CPU dirty page rate limits, if
any.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.DirtyLimitInfo" title="QMP:migration.DirtyLimitInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DirtyLimitInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-vcpu-dirty-limit&quot;</span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">       </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;limit-rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;current-rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;cpu-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
<span class="w">       </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;limit-rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;current-rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;cpu-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-migration.MigrationThreadInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MigrationThreadInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-migration.MigrationThreadInfo" title="Link to this definition"></a></dt>
<dd><p>Information about migrationthreads</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of migration thread</p></li>
<li><p><strong>thread-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- ID of the underlying host thread</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.query-migrationthreads">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-migrationthreads</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#command-QMP-migration.query-migrationthreads" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-deprecated docutils container">
This command is deprecated.</div>
</div>
<p>Return information of migration threads</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-migration.MigrationThreadInfo" title="QMP:migration.MigrationThreadInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MigrationThreadInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- This command is deprecated with no replacement yet.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.snapshot-save">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">snapshot-save</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#command-QMP-migration.snapshot-save" title="Link to this definition"></a></dt>
<dd><p>Save a VM snapshot</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- identifier for the newly created job</p></li>
<li><p><strong>tag</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the snapshot to create</p></li>
<li><p><strong>vmstate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- block device node name to save vmstate to</p></li>
<li><p><strong>devices</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of block device node names to save a snapshot to</p></li>
</ul>
</dd>
</dl>
<p>Applications should not assume that the snapshot save is complete
when this command returns.  The job commands / events must be used
to determine completion and to fetch details of any errors that
arise.</p>
<p>Note that execution of the guest CPUs may be stopped during the time
it takes to save the snapshot.  A future version of QEMU may ensure
CPUs are executing continuously.</p>
<p>It is strongly recommended that <code class="docutils literal notranslate"><span class="pre">devices</span></code> contain all writable block
device nodes if a consistent snapshot is required.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">tag</span></code> already exists, an error will be reported</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot-save&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;job-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapsave0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-snap&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;vmstate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disk0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;disk0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;disk1&quot;</span><span class="p">]</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1432121972</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;created&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapsave0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1432122172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapsave0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;STOP&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1432122372</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;RESUME&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1432122572</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1432122772</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;waiting&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapsave0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1432122972</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapsave0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1432123172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;concluded&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapsave0&quot;</span><span class="p">}}</span>
<span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-jobs&quot;</span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;current-progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;concluded&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;total-progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot-save&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapsave0&quot;</span><span class="p">}]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.snapshot-load">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">snapshot-load</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#command-QMP-migration.snapshot-load" title="Link to this definition"></a></dt>
<dd><p>Load a VM snapshot</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- identifier for the newly created job</p></li>
<li><p><strong>tag</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the snapshot to load.</p></li>
<li><p><strong>vmstate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- block device node name to load vmstate from</p></li>
<li><p><strong>devices</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of block device node names to load a snapshot from</p></li>
</ul>
</dd>
</dl>
<p>Applications should not assume that the snapshot load is complete
when this command returns.  The job commands / events must be used
to determine completion and to fetch details of any errors that
arise.</p>
<p>Note that execution of the guest CPUs will be stopped during the
time it takes to load the snapshot.</p>
<p>It is strongly recommended that <code class="docutils literal notranslate"><span class="pre">devices</span></code> contain all writable block
device nodes that can have changed since the original <a class="reference internal" href="#command-QMP-migration.snapshot-save" title="QMP:migration.snapshot-save"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">snapshot-save</span></code></a>
command execution.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot-load&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;job-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapload0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-snap&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;vmstate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disk0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;disk0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;disk1&quot;</span><span class="p">]</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1472124172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;created&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapload0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1472125172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapload0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;STOP&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1472125472</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;RESUME&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1472125872</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1472126172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;waiting&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapload0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1472127172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapload0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1472128172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;concluded&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapload0&quot;</span><span class="p">}}</span>
<span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-jobs&quot;</span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;current-progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;concluded&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;total-progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot-load&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapload0&quot;</span><span class="p">}]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-migration.snapshot-delete">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">snapshot-delete</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#command-QMP-migration.snapshot-delete" title="Link to this definition"></a></dt>
<dd><p>Delete a VM snapshot</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- identifier for the newly created job</p></li>
<li><p><strong>tag</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the snapshot to delete.</p></li>
<li><p><strong>devices</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of block device node names to delete a snapshot from</p></li>
</ul>
</dd>
</dl>
<p>Applications should not assume that the snapshot delete is complete
when this command returns.  The job commands / events must be used
to determine completion and to fetch details of any errors that
arise.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot-delete&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;job-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapdelete0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-snap&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;disk0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;disk1&quot;</span><span class="p">]</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1442124172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;created&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapdelete0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1442125172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapdelete0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1442126172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;waiting&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapdelete0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1442127172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapdelete0&quot;</span><span class="p">}}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_STATUS_CHANGE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1442128172</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">744001</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;concluded&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapdelete0&quot;</span><span class="p">}}</span>
<span class="gp">-&gt; </span><span class="p">{</span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-jobs&quot;</span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;current-progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;concluded&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;total-progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot-delete&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapdelete0&quot;</span><span class="p">}]}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="transactions">
<span id="module-QMP-transaction"></span><h2><a class="toc-backref" href="#id27" role="doc-backlink">Transactions</a><a class="headerlink" href="#transactions" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.Abort">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Abort</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#object-QMP-transaction.Abort" title="Link to this definition"></a></dt>
<dd><p>This action can be used to test transaction failure.</p>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-transaction.ActionCompletionMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ActionCompletionMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#enum-QMP-transaction.ActionCompletionMode" title="Link to this definition"></a></dt>
<dd><p>An enumeration of transactional completion modes.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>individual</strong> -- Do not attempt to cancel any other Actions if any
Actions fail after the Transaction request succeeds.  All
Actions that can complete successfully will do so without
waiting on others.  This is the default.</p></li>
<li><p><strong>grouped</strong> -- If any Action fails after the Transaction succeeds, cancel
all Actions.  Actions do not complete until all Actions are
ready to complete.  May be rejected by Actions that do not
support this completion mode.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-transaction.TransactionActionKind">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TransactionActionKind</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#enum-QMP-transaction.TransactionActionKind" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abort</strong> -- Since 1.6</p></li>
<li><p><strong>block-dirty-bitmap-add</strong> -- Since 2.5</p></li>
<li><p><strong>block-dirty-bitmap-remove</strong> -- Since 4.2</p></li>
<li><p><strong>block-dirty-bitmap-clear</strong> -- Since 2.5</p></li>
<li><p><strong>block-dirty-bitmap-enable</strong> -- Since 4.0</p></li>
<li><p><strong>block-dirty-bitmap-disable</strong> -- Since 4.0</p></li>
<li><p><strong>block-dirty-bitmap-merge</strong> -- Since 4.0</p></li>
<li><p><strong>blockdev-backup</strong> -- Since 2.3</p></li>
<li><p><strong>blockdev-snapshot</strong> -- Since 2.5</p></li>
<li><p><strong>blockdev-snapshot-internal-sync</strong> -- Since 1.7</p></li>
<li><p><strong>blockdev-snapshot-sync</strong> -- since 1.1</p></li>
<li><p><strong>drive-backup</strong> -- Since 1.6</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <a class="reference internal" href="#command-QMP-block-core.drive-backup" title="QMP:block-core.drive-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">drive-backup</span></code></a> is deprecated.  Use member
<a class="reference internal" href="#command-QMP-block-core.blockdev-backup" title="QMP:block-core.blockdev-backup"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">blockdev-backup</span></code></a> instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.AbortWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AbortWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#object-QMP-transaction.AbortWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-transaction.Abort" title="QMP:transaction.Abort"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Abort</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.BlockDirtyBitmapAddWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyBitmapAddWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-transaction.BlockDirtyBitmapAddWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmapAdd" title="QMP:block-core.BlockDirtyBitmapAdd"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapAdd</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.BlockDirtyBitmapWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyBitmapWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-transaction.BlockDirtyBitmapWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmap" title="QMP:block-core.BlockDirtyBitmap"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmap</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.BlockDirtyBitmapMergeWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockDirtyBitmapMergeWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-transaction.BlockDirtyBitmapMergeWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockDirtyBitmapMerge" title="QMP:block-core.BlockDirtyBitmapMerge"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapMerge</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.BlockdevBackupWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevBackupWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.3)</span></span><a class="headerlink" href="#object-QMP-transaction.BlockdevBackupWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevBackup" title="QMP:block-core.BlockdevBackup"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevBackup</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.BlockdevSnapshotWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevSnapshotWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-transaction.BlockdevSnapshotWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevSnapshot" title="QMP:block-core.BlockdevSnapshot"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshot</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.BlockdevSnapshotInternalWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevSnapshotInternalWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.7)</span></span><a class="headerlink" href="#object-QMP-transaction.BlockdevSnapshotInternalWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevSnapshotInternal" title="QMP:block-core.BlockdevSnapshotInternal"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshotInternal</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.BlockdevSnapshotSyncWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BlockdevSnapshotSyncWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#object-QMP-transaction.BlockdevSnapshotSyncWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.BlockdevSnapshotSync" title="QMP:block-core.BlockdevSnapshotSync"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshotSync</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.DriveBackupWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DriveBackupWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.6)</span></span><a class="headerlink" href="#object-QMP-transaction.DriveBackupWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-block-core.DriveBackup" title="QMP:block-core.DriveBackup"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DriveBackup</span></code></a></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.TransactionAction">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TransactionAction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#object-QMP-transaction.TransactionAction" title="Link to this definition"></a></dt>
<dd><p>A discriminated record of operations that can be performed with
<a class="reference internal" href="#command-QMP-transaction.transaction" title="QMP:transaction.transaction"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">transaction</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-transaction.TransactionActionKind" title="QMP:transaction.TransactionActionKind"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TransactionActionKind</span></code></a></span>) -- the operation to be performed</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">abort</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.AbortWrapper" title="QMP:transaction.AbortWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AbortWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">block-dirty-bitmap-add</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapAddWrapper" title="QMP:transaction.BlockDirtyBitmapAddWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapAddWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">block-dirty-bitmap-remove</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapWrapper" title="QMP:transaction.BlockDirtyBitmapWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">block-dirty-bitmap-clear</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapWrapper" title="QMP:transaction.BlockDirtyBitmapWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">block-dirty-bitmap-enable</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapWrapper" title="QMP:transaction.BlockDirtyBitmapWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">block-dirty-bitmap-disable</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapWrapper" title="QMP:transaction.BlockDirtyBitmapWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">block-dirty-bitmap-merge</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockDirtyBitmapMergeWrapper" title="QMP:transaction.BlockDirtyBitmapMergeWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockDirtyBitmapMergeWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">blockdev-backup</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockdevBackupWrapper" title="QMP:transaction.BlockdevBackupWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevBackupWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">blockdev-snapshot</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockdevSnapshotWrapper" title="QMP:transaction.BlockdevSnapshotWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshotWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">blockdev-snapshot-internal-sync</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockdevSnapshotInternalWrapper" title="QMP:transaction.BlockdevSnapshotInternalWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshotInternalWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">blockdev-snapshot-sync</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.BlockdevSnapshotSyncWrapper" title="QMP:transaction.BlockdevSnapshotSyncWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BlockdevSnapshotSyncWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">drive-backup</span></code>: The members of <a class="reference internal" href="#object-QMP-transaction.DriveBackupWrapper" title="QMP:transaction.DriveBackupWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DriveBackupWrapper</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-transaction.TransactionProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TransactionProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-transaction.TransactionProperties" title="Link to this definition"></a></dt>
<dd><p>Optional arguments to modify the behavior of a Transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>completion-mode</strong> (<span><a class="reference internal" href="#enum-QMP-transaction.ActionCompletionMode" title="QMP:transaction.ActionCompletionMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ActionCompletionMode</span></code></a>, <em>optional</em></span>) -- Controls how jobs launched asynchronously by
Actions will complete or fail as a group.  See
<a class="reference internal" href="#enum-QMP-transaction.ActionCompletionMode" title="QMP:transaction.ActionCompletionMode"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">ActionCompletionMode</span></code></a> for details.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-transaction.transaction">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">transaction</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-transaction.transaction" title="Link to this definition"></a></dt>
<dd><p>Executes a number of transactionable QMP commands atomically.  If
any operation fails, then the entire set of actions will be
abandoned and the appropriate error returned.</p>
<p>For external snapshots, the dictionary contains the device, the file
to use for the new snapshot, and the format.  The default format, if
not specified, is qcow2.</p>
<p>Each new snapshot defaults to being created by QEMU (wiping any
contents if the file already exists), but it is also possible to
reuse an externally-created file.  In the latter case, you should
ensure that the new image file has the same contents as the current
one; QEMU cannot perform any meaningful check.  Typically this is
achieved by using the current image file as the backing file for the
new image.</p>
<p>On failure, the original disks pre-snapshot attempt will be used.</p>
<p>For internal snapshots, the dictionary contains the device and the
snapshot's name.  If an internal snapshot matching name already
exists, the request will be rejected.  Only some image formats
support it, for example, qcow2, and rbd,</p>
<p>On failure, QEMU will try delete the newly created internal snapshot
in the transaction.  When an I/O error occurs during deletion, the
user needs to fix it later with qemu-img or other command.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actions</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-transaction.TransactionAction" title="QMP:transaction.TransactionAction"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TransactionAction</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of <a class="reference internal" href="#object-QMP-transaction.TransactionAction" title="QMP:transaction.TransactionAction"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">TransactionAction</span></code></a>; information needed for the
respective operations.</p></li>
<li><p><strong>properties</strong> (<span><a class="reference internal" href="#object-QMP-transaction.TransactionProperties" title="QMP:transaction.TransactionProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TransactionProperties</span></code></a>, <em>optional</em></span>) -- structure of additional options to control the
execution of the transaction.  See <a class="reference internal" href="#object-QMP-transaction.TransactionProperties" title="QMP:transaction.TransactionProperties"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">TransactionProperties</span></code></a> for
additional detail.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>Any errors from commands in the transaction</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The transaction aborts on the first failure.  Therefore,
there will be information on only one failed operation returned
in an error condition, and subsequent actions will not have been
attempted.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;transaction&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-snapshot-sync&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd0&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;snapshot-file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/some/place/my-image&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-snapshot-sync&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;myfile&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;snapshot-file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/some/place/my-image2&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;snapshot-node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node3432&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;existing&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-snapshot-sync&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd1&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;snapshot-file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/some/place/my-image2&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;existing&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qcow2&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;blockdev-snapshot-internal-sync&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                     </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ide-hd2&quot;</span><span class="p">,</span>
<span class="w">                                     </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;snapshot0&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="tracing">
<span id="module-QMP-trace"></span><h2><a class="toc-backref" href="#id28" role="doc-backlink">Tracing</a><a class="headerlink" href="#tracing" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-trace.TraceEventState">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TraceEventState</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.2)</span></span><a class="headerlink" href="#enum-QMP-trace.TraceEventState" title="Link to this definition"></a></dt>
<dd><p>State of a tracing event.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unavailable</strong> -- The event is statically disabled.</p></li>
<li><p><strong>disabled</strong> -- The event is dynamically disabled.</p></li>
<li><p><strong>enabled</strong> -- The event is dynamically enabled.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-trace.TraceEventInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TraceEventInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.2)</span></span><a class="headerlink" href="#object-QMP-trace.TraceEventInfo" title="Link to this definition"></a></dt>
<dd><p>Information of a tracing event.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Event name.</p></li>
<li><p><strong>state</strong> (<span><a class="reference internal" href="#enum-QMP-trace.TraceEventState" title="QMP:trace.TraceEventState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TraceEventState</span></code></a></span>) -- Tracing state.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-trace.trace-event-get-state">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trace-event-get-state</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.2)</span></span><a class="headerlink" href="#command-QMP-trace.trace-event-get-state" title="Link to this definition"></a></dt>
<dd><p>Query the state of events.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Event name pattern (case-sensitive glob).</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-trace.TraceEventInfo" title="QMP:trace.TraceEventInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TraceEventInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list of info for the matching events</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;trace-event-get-state&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu_memalign&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu_memalign&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vcpu&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-trace.trace-event-set-state">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trace-event-set-state</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.2)</span></span><a class="headerlink" href="#command-QMP-trace.trace-event-set-state" title="Link to this definition"></a></dt>
<dd><p>Set the dynamic tracing state of events.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Event name pattern (case-sensitive glob).</p></li>
<li><p><strong>enable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- Whether to enable tracing.</p></li>
<li><p><strong>ignore-unavailable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Do not match unavailable events with <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;trace-event-set-state&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu_memalign&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="compatibility-policy">
<span id="module-QMP-compat"></span><h2><a class="toc-backref" href="#id29" role="doc-backlink">Compatibility policy</a><a class="headerlink" href="#compatibility-policy" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-compat.CompatPolicyInput">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CompatPolicyInput</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#enum-QMP-compat.CompatPolicyInput" title="Link to this definition"></a></dt>
<dd><p>Policy for handling &quot;funny&quot; input.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>accept</strong> -- Accept silently</p></li>
<li><p><strong>reject</strong> -- Reject with an error</p></li>
<li><p><strong>crash</strong> -- abort() the process</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-compat.CompatPolicyOutput">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CompatPolicyOutput</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#enum-QMP-compat.CompatPolicyOutput" title="Link to this definition"></a></dt>
<dd><p>Policy for handling &quot;funny&quot; output.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>accept</strong> -- Pass on unchanged</p></li>
<li><p><strong>hide</strong> -- Filter out</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-compat.CompatPolicy">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CompatPolicy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-compat.CompatPolicy" title="Link to this definition"></a></dt>
<dd><p>Policy for handling deprecated management interfaces.</p>
<p>This is intended for testing users of the management interfaces.</p>
<p>Limitation: covers only syntactic aspects of QMP, i.e. stuff tagged
with feature 'deprecated' or 'unstable'.  We may want to extend it
to cover semantic aspects and CLI.</p>
<p>Limitation: deprecated-output policy <code class="docutils literal notranslate"><span class="pre">hide</span></code> is not implemented for
enumeration values.  They behave the same as with policy <code class="docutils literal notranslate"><span class="pre">accept</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deprecated-input</strong> (<span><a class="reference internal" href="#enum-QMP-compat.CompatPolicyInput" title="QMP:compat.CompatPolicyInput"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CompatPolicyInput</span></code></a>, <em>optional</em></span>) -- how to handle deprecated input (default 'accept')</p></li>
<li><p><strong>deprecated-output</strong> (<span><a class="reference internal" href="#enum-QMP-compat.CompatPolicyOutput" title="QMP:compat.CompatPolicyOutput"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CompatPolicyOutput</span></code></a>, <em>optional</em></span>) -- how to handle deprecated output (default
'accept')</p></li>
<li><p><strong>unstable-input</strong> (<span><a class="reference internal" href="#enum-QMP-compat.CompatPolicyInput" title="QMP:compat.CompatPolicyInput"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CompatPolicyInput</span></code></a>, <em>optional</em></span>) -- how to handle unstable input (default 'accept')
(since 6.2)</p></li>
<li><p><strong>unstable-output</strong> (<span><a class="reference internal" href="#enum-QMP-compat.CompatPolicyOutput" title="QMP:compat.CompatPolicyOutput"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CompatPolicyOutput</span></code></a>, <em>optional</em></span>) -- how to handle unstable output (default 'accept')
(since 6.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="qmp-monitor-control">
<span id="module-QMP-control"></span><h2><a class="toc-backref" href="#id30" role="doc-backlink">QMP monitor control</a><a class="headerlink" href="#qmp-monitor-control" title="Link to this heading"></a></h2>
<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-control.qmp_capabilities">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qmp_capabilities</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.13)</span></span><a class="headerlink" href="#command-QMP-control.qmp_capabilities" title="Link to this definition"></a></dt>
<dd><p>Enable QMP capabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enable</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-control.QMPCapability" title="QMP:control.QMPCapability"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QMPCapability</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- An optional list of <a class="reference internal" href="#enum-QMP-control.QMPCapability" title="QMP:control.QMPCapability"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">QMPCapability</span></code></a> values to enable.  The
client must not enable any capability that is not mentioned in
the QMP greeting message.  If the field is not provided, it
means no QMP capabilities will be enabled.  (since 2.12)</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qmp_capabilities&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;oob&quot;</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This command is valid exactly when first connecting: it
must be issued before any other command will be accepted, and
will fail once the monitor is accepting other commands.  (see
<a class="reference internal" href="qmp-spec.html"><span class="doc">QEMU Machine Protocol Specification</span></a>)</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The QMP client needs to explicitly enable QMP
capabilities, otherwise all the QMP capabilities will be turned
off by default.</p>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-control.QMPCapability">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QMPCapability</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-control.QMPCapability" title="Link to this definition"></a></dt>
<dd><p>Enumeration of capabilities to be advertised during initial client
connection, used for agreeing on particular QMP extension behaviors.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oob</strong> -- QMP ability to support out-of-band requests.  (Please refer to
qmp-spec.rst for more information on OOB)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-control.VersionTriple">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VersionTriple</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-control.VersionTriple" title="Link to this definition"></a></dt>
<dd><p>A three-part version number.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>major</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The major version number.</p></li>
<li><p><strong>minor</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The minor version number.</p></li>
<li><p><strong>micro</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The micro version number.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-control.VersionInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VersionInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-control.VersionInfo" title="Link to this definition"></a></dt>
<dd><p>A description of QEMU's version.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qemu</strong> (<span><a class="reference internal" href="#object-QMP-control.VersionTriple" title="QMP:control.VersionTriple"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VersionTriple</span></code></a></span>) -- The version of QEMU.  By current convention, a micro version
of 50 signifies a development branch.  A micro version greater
than or equal to 90 signifies a release candidate for the next
minor version.  A micro version of less than 50 signifies a
stable release.</p></li>
<li><p><strong>package</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QEMU will always set this field to an empty string.
Downstream versions of QEMU should set this to a non-empty
string.  The exact format depends on the downstream however it
highly recommended that a unique name is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-control.query-version">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-version</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-control.query-version" title="Link to this definition"></a></dt>
<dd><p>Return the current version of QEMU.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-control.VersionInfo" title="QMP:control.VersionInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VersionInfo</span></code></a></span> -- An object describing the current version of QEMU.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-version&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;return&quot;</span><span class="p">:{</span>
<span class="w">         </span><span class="nt">&quot;qemu&quot;</span><span class="p">:{</span>
<span class="w">            </span><span class="nt">&quot;major&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;minor&quot;</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;micro&quot;</span><span class="p">:</span><span class="mi">5</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;package&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-control.CommandInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CommandInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-control.CommandInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a QMP command</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The command name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-control.query-commands">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-commands</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-control.query-commands" title="Link to this definition"></a></dt>
<dd><p>Return a list of supported QMP commands by this server</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-control.CommandInfo" title="QMP:control.CommandInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CommandInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- A list of all supported commands</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-commands&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span>
<span class="w">     </span><span class="nt">&quot;return&quot;</span><span class="p">:[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">           </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;query-balloon&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">           </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;system_powerdown&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="cm">...</span>
<span class="w">     </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>This example has been shortened as the real response is too long.</p>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-control.quit">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">quit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-control.quit" title="Link to this definition"></a></dt>
<dd><p>Request graceful QEMU process termination.</p>
<p>While every attempt is made to send the QMP response before
terminating, this is not guaranteed.  When using this interface, a
premature EOF would not be unexpected.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;quit&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-control.MonitorMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MonitorMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#enum-QMP-control.MonitorMode" title="Link to this definition"></a></dt>
<dd><p>An enumeration of monitor modes.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>readline</strong> -- HMP monitor (human-oriented command line interface)</p></li>
<li><p><strong>control</strong> -- QMP monitor (JSON-based machine interface)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-control.MonitorOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MonitorOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#object-QMP-control.MonitorOptions" title="Link to this definition"></a></dt>
<dd><p>Options to be used for adding a new monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Name of the monitor</p></li>
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-control.MonitorMode" title="QMP:control.MonitorMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MonitorMode</span></code></a>, <em>optional</em></span>) -- Selects the monitor mode (default: readline in the system
emulator, control in qemu-storage-daemon)</p></li>
<li><p><strong>pretty</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Enables pretty printing (QMP only)</p></li>
<li><p><strong>chardev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of a character device to expose the monitor on</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="qmp-introspection">
<span id="module-QMP-introspect"></span><h2><a class="toc-backref" href="#id31" role="doc-backlink">QMP introspection</a><a class="headerlink" href="#qmp-introspection" title="Link to this heading"></a></h2>
<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-introspect.query-qmp-schema">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-qmp-schema</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#command-QMP-introspect.query-qmp-schema" title="Link to this definition"></a></dt>
<dd><p>Command <a class="reference internal" href="#command-QMP-introspect.query-qmp-schema" title="QMP:introspect.query-qmp-schema"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-qmp-schema</span></code></a> exposes the QMP wire ABI as an array of
<a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a>.  This lets QMP clients figure out what commands and
events are available in this QEMU, and their parameters and results.</p>
<p>However, the <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> can't reflect all the rules and restrictions
that apply to QMP.  It's interface introspection (figuring out
what's there), not interface specification.  The specification is in
the QAPI schema.</p>
<p>Furthermore, while we strive to keep the QMP wire format
backwards-compatible across QEMU versions, the introspection output
is not guaranteed to have the same stability.  For example, one
version of QEMU may list an object member as an optional
non-variant, while another lists the same member only through the
object's variants; or the type of a member may change from a generic
string into a specific enum or from one specific type into an
alternate that includes the original type alongside something else.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- <p>an array where each element describes an entity in the ABI:
command, event, type, ...</p>
<p>The order of the various elements is unspecified; however, all
names are guaranteed to be unique (no name will be duplicated
with different meta-types).</p>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The QAPI schema is also used to help define <em>internal</em>
interfaces, by defining QAPI types.  These are not part of the
QMP wire ABI, and therefore not returned by this command.</p>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-introspect.SchemaMetaType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaMetaType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#enum-QMP-introspect.SchemaMetaType" title="Link to this definition"></a></dt>
<dd><p>This is a <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a>'s meta type, i.e. the kind of entity it
describes.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builtin</strong> -- a predefined type such as 'int' or 'bool'.</p></li>
<li><p><strong>enum</strong> -- an enumeration type</p></li>
<li><p><strong>array</strong> -- an array type</p></li>
<li><p><strong>object</strong> -- an object type (struct or union)</p></li>
<li><p><strong>alternate</strong> -- an alternate type</p></li>
<li><p><strong>command</strong> -- a QMP command</p></li>
<li><p><strong>event</strong> -- a QMP event</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfo" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the entity's name, inherited from <code class="docutils literal notranslate"><span class="pre">base</span></code>.  The <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> is
always referenced by this name.  Commands and events have the
name defined in the QAPI schema.  Unlike command and event
names, type names are not part of the wire ABI.  Consequently,
type names are meaningless strings here, although they are still
guaranteed unique regardless of <code class="docutils literal notranslate"><span class="pre">meta-type</span></code>.</p></li>
<li><p><strong>meta-type</strong> (<span><a class="reference internal" href="#enum-QMP-introspect.SchemaMetaType" title="QMP:introspect.SchemaMetaType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaMetaType</span></code></a></span>) -- the entity's meta type, inherited from <code class="docutils literal notranslate"><span class="pre">base</span></code>.</p></li>
<li><p><strong>features</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- names of features associated with the entity, in no
particular order.  (since 4.1 for object types, 4.2 for
commands, 5.0 for the rest)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">meta-type</span></code> is <code class="docutils literal notranslate"><span class="pre">builtin</span></code>: The members of <a class="reference internal" href="#object-QMP-introspect.SchemaInfoBuiltin" title="QMP:introspect.SchemaInfoBuiltin"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoBuiltin</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">meta-type</span></code> is <code class="docutils literal notranslate"><span class="pre">enum</span></code>: The members of <a class="reference internal" href="#object-QMP-introspect.SchemaInfoEnum" title="QMP:introspect.SchemaInfoEnum"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoEnum</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">meta-type</span></code> is <code class="docutils literal notranslate"><span class="pre">array</span></code>: The members of <a class="reference internal" href="#object-QMP-introspect.SchemaInfoArray" title="QMP:introspect.SchemaInfoArray"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoArray</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">meta-type</span></code> is <code class="docutils literal notranslate"><span class="pre">object</span></code>: The members of <a class="reference internal" href="#object-QMP-introspect.SchemaInfoObject" title="QMP:introspect.SchemaInfoObject"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoObject</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">meta-type</span></code> is <code class="docutils literal notranslate"><span class="pre">alternate</span></code>: The members of <a class="reference internal" href="#object-QMP-introspect.SchemaInfoAlternate" title="QMP:introspect.SchemaInfoAlternate"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoAlternate</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">meta-type</span></code> is <code class="docutils literal notranslate"><span class="pre">command</span></code>: The members of <a class="reference internal" href="#object-QMP-introspect.SchemaInfoCommand" title="QMP:introspect.SchemaInfoCommand"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoCommand</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">meta-type</span></code> is <code class="docutils literal notranslate"><span class="pre">event</span></code>: The members of <a class="reference internal" href="#object-QMP-introspect.SchemaInfoEvent" title="QMP:introspect.SchemaInfoEvent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoEvent</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoBuiltin">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoBuiltin</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoBuiltin" title="Link to this definition"></a></dt>
<dd><p>Additional <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> members for meta-type 'builtin'.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json-type</strong> (<span><a class="reference internal" href="#enum-QMP-introspect.JSONType" title="QMP:introspect.JSONType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">JSONType</span></code></a></span>) -- the JSON type used for this type on the wire.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-introspect.JSONType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JSONType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#enum-QMP-introspect.JSONType" title="Link to this definition"></a></dt>
<dd><p>The four primitive and two structured types according to RFC 8259
section 1, plus 'int' (split off 'number'), plus the obvious top
type 'value'.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> -- JSON string</p></li>
<li><p><strong>number</strong> -- JSON number</p></li>
<li><p><strong>int</strong> -- JSON number that is an integer</p></li>
<li><p><strong>boolean</strong> -- literal <code class="docutils literal notranslate"><span class="pre">false</span></code> or <code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
<li><p><strong>null</strong> -- literal <code class="docutils literal notranslate"><span class="pre">null</span></code></p></li>
<li><p><strong>object</strong> -- JSON object</p></li>
<li><p><strong>array</strong> -- JSON array</p></li>
<li><p><strong>value</strong> -- any JSON value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoEnum">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoEnum</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoEnum" title="Link to this definition"></a></dt>
<dd><p>Additional <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> members for meta-type 'enum'.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>members</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-introspect.SchemaInfoEnumMember" title="QMP:introspect.SchemaInfoEnumMember"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoEnumMember</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the enum type's members, in no particular order.
(since 6.2)</p></li>
<li><p><strong>values</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the enumeration type's member names, in no particular
order.  Redundant with <code class="docutils literal notranslate"><span class="pre">members</span></code>.  Just for backward
compatibility.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">values</span></code> is deprecated.  Use <code class="docutils literal notranslate"><span class="pre">members</span></code> instead.</p></li>
</ul>
</dd>
</dl>
<p>Values of this type are JSON string on the wire.</p>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoEnumMember">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoEnumMember</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoEnumMember" title="Link to this definition"></a></dt>
<dd><p>An object member.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the member's name, as defined in the QAPI schema.</p></li>
<li><p><strong>features</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- names of features associated with the member, in no
particular order.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoArray">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoArray</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoArray" title="Link to this definition"></a></dt>
<dd><p>Additional <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> members for meta-type 'array'.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the array type's element type.</p></li>
</ul>
</dd>
</dl>
<p>Values of this type are JSON array on the wire.</p>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoObject">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoObject</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoObject" title="Link to this definition"></a></dt>
<dd><p>Additional <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> members for meta-type 'object'.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>members</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-introspect.SchemaInfoObjectMember" title="QMP:introspect.SchemaInfoObjectMember"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoObjectMember</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the object type's (non-variant) members, in no particular
order.</p></li>
<li><p><strong>tag</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of the member serving as type tag.  An element of
<code class="docutils literal notranslate"><span class="pre">members</span></code> with this name must exist.</p></li>
<li><p><strong>variants</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-introspect.SchemaInfoObjectVariant" title="QMP:introspect.SchemaInfoObjectVariant"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoObjectVariant</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- variant members, i.e. additional members that depend on
the type tag's value.  Present exactly when <code class="docutils literal notranslate"><span class="pre">tag</span></code> is present.
The variants are in no particular order, and may even differ
from the order of the values of the enum type of the <code class="docutils literal notranslate"><span class="pre">tag</span></code>.</p></li>
</ul>
</dd>
</dl>
<p>Values of this type are JSON object on the wire.</p>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoObjectMember">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoObjectMember</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoObjectMember" title="Link to this definition"></a></dt>
<dd><p>An object member.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the member's name, as defined in the QAPI schema.</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the member's type.</p></li>
<li><p><strong>default</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">value</span></code>, <em>optional</em></span>) -- default when used as command parameter.  If absent, the
parameter is mandatory.  If present, the value must be null.
The parameter is optional, and behavior when it's missing is not
specified here.  Future extension: if present and non-null, the
parameter is optional, and defaults to this value.</p></li>
<li><p><strong>features</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- names of features associated with the member, in no
particular order.  (since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoObjectVariant">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoObjectVariant</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoObjectVariant" title="Link to this definition"></a></dt>
<dd><p>The variant members for a value of the type tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>case</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- a value of the type tag.</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the object type that provides the variant members
when the type tag has value <code class="docutils literal notranslate"><span class="pre">case</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoAlternate">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoAlternate</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoAlternate" title="Link to this definition"></a></dt>
<dd><p>Additional <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> members for meta-type 'alternate'.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>members</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-introspect.SchemaInfoAlternateMember" title="QMP:introspect.SchemaInfoAlternateMember"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SchemaInfoAlternateMember</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the alternate type's members, in no particular order.  The
members' wire encoding is distinct, see
<a class="reference internal" href="../devel/qapi-code-gen.html"><span class="doc">How to use the QAPI code generator</span></a> section Alternate types.</p></li>
</ul>
</dd>
</dl>
<p>On the wire, this can be any of the members.</p>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoAlternateMember">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoAlternateMember</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoAlternateMember" title="Link to this definition"></a></dt>
<dd><p>An alternate member.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the member's type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoCommand">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoCommand</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoCommand" title="Link to this definition"></a></dt>
<dd><p>Additional <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> members for meta-type 'command'.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the object type that provides the command's
parameters.</p></li>
<li><p><strong>ret-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the command's result type.</p></li>
<li><p><strong>allow-oob</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether the command allows out-of-band execution,
defaults to false (Since: 2.12)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-introspect.SchemaInfoEvent">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SchemaInfoEvent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-introspect.SchemaInfoEvent" title="Link to this definition"></a></dt>
<dd><p>Additional <a class="reference internal" href="#object-QMP-introspect.SchemaInfo" title="QMP:introspect.SchemaInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SchemaInfo</span></code></a> members for meta-type 'event'.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the object type that provides the event's
parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="qemu-object-model-qom">
<span id="module-QMP-qom"></span><h2><a class="toc-backref" href="#id32" role="doc-backlink">QEMU Object Model (QOM)</a><a class="headerlink" href="#qemu-object-model-qom" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.ObjectPropertyInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ObjectPropertyInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-qom.ObjectPropertyInfo" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the property</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- <p>the type of the property.  This will typically come in one of
four forms:</p>
<ol class="arabic simple">
<li><p>A primitive type such as 'u8', 'u16', 'bool', 'str', or
'double'.  These types are mapped to the appropriate JSON
type.</p></li>
<li><p>A child type in the form 'child&lt;subtype&gt;' where subtype is a
qdev device type name.  Child properties create the
composition tree.</p></li>
<li><p>A link type in the form 'link&lt;subtype&gt;' where subtype is a
qdev device type name.  Link properties form the device model
graph.</p></li>
</ol>
</p></li>
<li><p><strong>description</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- if specified, the description of the property.</p></li>
<li><p><strong>default-value</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">value</span></code>, <em>optional</em></span>) -- the default value, if any (since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.ObjectPropertyValue">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ObjectPropertyValue</span></span><a class="headerlink" href="#object-QMP-qom.ObjectPropertyValue" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the property.</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the type of the property, as described in <a class="reference internal" href="#object-QMP-qom.ObjectPropertyInfo" title="QMP:qom.ObjectPropertyInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">ObjectPropertyInfo</span></code></a>.</p></li>
<li><p><strong>value</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">value</span></code>, <em>optional</em></span>) -- the value of the property.  Absent when the property cannot
be read.</p></li>
</ul>
</dd>
</dl>
<p>Since 10.1</p>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.ObjectPropertiesValues">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ObjectPropertiesValues</span></span><a class="headerlink" href="#object-QMP-qom.ObjectPropertiesValues" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>properties</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-qom.ObjectPropertyValue" title="QMP:qom.ObjectPropertyValue"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ObjectPropertyValue</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- a list of properties.</p></li>
</ul>
</dd>
</dl>
<p>Since 10.1</p>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qom.qom-list">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qom-list</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-qom.qom-list" title="Link to this definition"></a></dt>
<dd><p>List properties of a object given a path in the object model.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the path within the object model.  See <a class="reference internal" href="#command-QMP-qom.qom-get" title="QMP:qom.qom-get"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">qom-get</span></code></a> for a
description of this parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-qom.ObjectPropertyInfo" title="QMP:qom.ObjectPropertyInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ObjectPropertyInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list that describe the properties of the object.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qom-list&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/chardevs&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;parallel0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;child&lt;chardev-vc&gt;&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;serial0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;child&lt;chardev-vc&gt;&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mon0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;child&lt;chardev-stdio&gt;&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qom.qom-get">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qom-get</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-qom.qom-get" title="Link to this definition"></a></dt>
<dd><p>Get a property value.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- <p>The path within the object model.  There are two forms of
supported paths--absolute and partial paths.</p>
<p>Absolute paths are derived from the root object and can follow
child&lt;&gt; or link&lt;&gt; properties.  Since they can follow link&lt;&gt;
properties, they can be arbitrarily long.  Absolute paths look
like absolute filenames and are prefixed  with a leading slash.</p>
<p>Partial paths look like relative filenames.  They do not begin
with a prefix.  The matching rules for partial paths are subtle
but designed to make specifying objects easy.  At each level of
the composition tree, the partial path is matched as an absolute
path.  The first match is not returned.  At least two matches
are searched for.  A successful result is only returned if only
one match is found.  If more than one match is found, a flag is
return to indicate that the match was ambiguous.</p>
</p></li>
<li><p><strong>property</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The property name to read</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">value</span></code></span> -- The property value.  The type depends on the property type.
child&lt;&gt; and link&lt;&gt; properties are returned as #str pathnames.
All integer property types (u8, u16, etc) are returned as #int.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Use absolute path</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qom-get&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[0]&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hotplugged&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Use partial path</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qom-get&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unattached/sysbus&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;System&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qom.qom-list-get">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qom-list-get</span></span><a class="headerlink" href="#command-QMP-qom.qom-list-get" title="Link to this definition"></a></dt>
<dd><p>List properties and their values for each object path in the input
list.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- The absolute or partial path for each object, as described
in <a class="reference internal" href="#command-QMP-qom.qom-get" title="QMP:qom.qom-get"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">qom-get</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If any path is not valid or is ambiguous</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-qom.ObjectPropertiesValues" title="QMP:qom.ObjectPropertiesValues"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ObjectPropertiesValues</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- A list where each element is the result for the
corresponding element of <code class="docutils literal notranslate"><span class="pre">paths</span></code>.</p>
</dd>
</dl>
<p>Since 10.1</p>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qom.qom-set">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qom-set</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-qom.qom-set" title="Link to this definition"></a></dt>
<dd><p>Set a property value.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- see <a class="reference internal" href="#command-QMP-qom.qom-get" title="QMP:qom.qom-get"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">qom-get</span></code></a> for a description of this parameter</p></li>
<li><p><strong>property</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the property name to set</p></li>
<li><p><strong>value</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">value</span></code></span>) -- a value who's type is appropriate for the property type.
See <a class="reference internal" href="#command-QMP-qom.qom-get" title="QMP:qom.qom-get"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">qom-get</span></code></a> for a description of type mapping.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qom-set&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;graphics&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.ObjectTypeInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ObjectTypeInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#object-QMP-qom.ObjectTypeInfo" title="Link to this definition"></a></dt>
<dd><p>This structure describes a search result from <a class="reference internal" href="#command-QMP-qom.qom-list-types" title="QMP:qom.qom-list-types"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">qom-list-types</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the type name found in the search</p></li>
<li><p><strong>abstract</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- the type is abstract and can't be directly instantiated.
Omitted if false.  (since 2.10)</p></li>
<li><p><strong>parent</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Name of parent type, if any (since 2.10)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qom.qom-list-types">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qom-list-types</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-qom.qom-list-types" title="Link to this definition"></a></dt>
<dd><p>Return a list of types given search parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>implements</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- if specified, only return types that implement this
type name</p></li>
<li><p><strong>abstract</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, include abstract types in the results</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-qom.ObjectTypeInfo" title="QMP:qom.ObjectTypeInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ObjectTypeInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list of types, or an empty list if no results are found</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qom.qom-list-properties">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qom-list-properties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-qom.qom-list-properties" title="Link to this definition"></a></dt>
<dd><p>List properties associated with a QOM object.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>typename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the type name of an object</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Objects can create properties at runtime, for example to
describe links between different devices and/or objects.  These
properties are not included in the output of this command.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-qom.ObjectPropertyInfo" title="QMP:qom.ObjectPropertyInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ObjectPropertyInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list describing object properties</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.CanHostSocketcanProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CanHostSocketcanProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-qom.CanHostSocketcanProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_LINUX</span></code></div>
</div>
<p>Properties for can-host-socketcan objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>if</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- interface name of the host system CAN bus to connect to</p></li>
<li><p><strong>canbus</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- object ID of the can-bus object to connect to the host
interface</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.ColoCompareProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ColoCompareProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-qom.ColoCompareProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for colo-compare objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>primary_in</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the character device backend to use for the
primary input (incoming packets are redirected to <code class="docutils literal notranslate"><span class="pre">outdev</span></code>)</p></li>
<li><p><strong>secondary_in</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the character device backend to use for
secondary input (incoming packets are only compared to the input
on <code class="docutils literal notranslate"><span class="pre">primary_in</span></code> and then dropped)</p></li>
<li><p><strong>outdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the character device backend to use for output</p></li>
<li><p><strong>iothread</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the iothread to run in</p></li>
<li><p><strong>notify_dev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the character device backend to be used to
communicate with the remote colo-frame (only for Xen COLO)</p></li>
<li><p><strong>compare_timeout</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum time to hold a packet from <code class="docutils literal notranslate"><span class="pre">primary_in</span></code>
for comparison with an incoming packet on <code class="docutils literal notranslate"><span class="pre">secondary_in</span></code> in
milliseconds (default: 3000)</p></li>
<li><p><strong>expired_scan_cycle</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the interval at which colo-compare checks
whether packets from <code class="docutils literal notranslate"><span class="pre">primary</span></code> have timed out, in milliseconds
(default: 3000)</p></li>
<li><p><strong>max_queue_size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum number of packets to keep in the queue
for comparing with incoming packets from <code class="docutils literal notranslate"><span class="pre">secondary_in</span></code>.  If the
queue is full and additional packets are received, the
additional packets are dropped.  (default: 1024)</p></li>
<li><p><strong>vnet_hdr_support</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, vnet header support is enabled
(default: false)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.CryptodevBackendProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CryptodevBackendProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-qom.CryptodevBackendProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for cryptodev-backend and cryptodev-backend-builtin
objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queues</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the number of queues for the cryptodev backend.  Ignored
for cryptodev-backend and must be 1 for
cryptodev-backend-builtin.  (default: 1)</p></li>
<li><p><strong>throttle-bps</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- limit total bytes per second (Since 8.0)</p></li>
<li><p><strong>throttle-ops</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- limit total operations per second (Since 8.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.CryptodevVhostUserProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CryptodevVhostUserProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-qom.CryptodevVhostUserProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_VHOST_CRYPTO</span></code></div>
</div>
<p>Properties for cryptodev-vhost-user objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chardev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of a Unix domain socket character device that
connects to the vhost-user server</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.CryptodevBackendProperties" title="QMP:qom.CryptodevBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CryptodevBackendProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.DBusVMStateProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DBusVMStateProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#object-QMP-qom.DBusVMStateProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for dbus-vmstate objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the DBus bus to connect to</p></li>
<li><p><strong>id-list</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- a comma separated list of DBus IDs of helpers whose data
should be included in the VM state on migration</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-qom.NetfilterInsert">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetfilterInsert</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#enum-QMP-qom.NetfilterInsert" title="Link to this definition"></a></dt>
<dd><p>Indicates where to insert a netfilter relative to a given other
filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>before</strong> -- insert before the specified filter</p></li>
<li><p><strong>behind</strong> -- insert behind the specified filter</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.NetfilterProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetfilterProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-qom.NetfilterProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for objects of classes derived from netfilter.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>netdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- id of the network device backend to filter</p></li>
<li><p><strong>queue</strong> (<span><a class="reference internal" href="#enum-QMP-common.NetFilterDirection" title="QMP:common.NetFilterDirection"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetFilterDirection</span></code></a>, <em>optional</em></span>) -- indicates which queue(s) to filter (default: all)</p></li>
<li><p><strong>status</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- indicates whether the filter is enabled (&quot;on&quot;) or disabled
(&quot;off&quot;) (default: &quot;on&quot;)</p></li>
<li><p><strong>position</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- specifies where the filter should be inserted in the
filter list.  &quot;head&quot; means the filter is inserted at the head of
the filter list, before any existing filters.  &quot;tail&quot; means the
filter is inserted at the tail of the filter list, behind any
existing filters (default).  &quot;id=&lt;id&gt;&quot; means the filter is
inserted before or behind the filter specified by &lt;id&gt;,
depending on the <code class="docutils literal notranslate"><span class="pre">insert</span></code> property.  (default: &quot;tail&quot;)</p></li>
<li><p><strong>insert</strong> (<span><a class="reference internal" href="#enum-QMP-qom.NetfilterInsert" title="QMP:qom.NetfilterInsert"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetfilterInsert</span></code></a>, <em>optional</em></span>) -- where to insert the filter relative to the filter given in
<code class="docutils literal notranslate"><span class="pre">position</span></code>.  Ignored if <code class="docutils literal notranslate"><span class="pre">position</span></code> is &quot;head&quot; or &quot;tail&quot;.
(default: behind)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.FilterBufferProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FilterBufferProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-qom.FilterBufferProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for filter-buffer objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interval</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- a non-zero interval in microseconds.  All packets
arriving in the given interval are delayed until the end of the
interval.</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.NetfilterProperties" title="QMP:qom.NetfilterProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetfilterProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.FilterDumpProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FilterDumpProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-qom.FilterDumpProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for filter-dump objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the filename where the dumped packets should be stored</p></li>
<li><p><strong>maxlen</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum number of bytes in a packet that are stored
(default: 65536)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.NetfilterProperties" title="QMP:qom.NetfilterProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetfilterProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.FilterMirrorProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FilterMirrorProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-qom.FilterMirrorProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for filter-mirror objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of a character device backend to which all
incoming packets are mirrored</p></li>
<li><p><strong>vnet_hdr_support</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, vnet header support is enabled
(default: false)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.NetfilterProperties" title="QMP:qom.NetfilterProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetfilterProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.FilterRedirectorProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FilterRedirectorProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-qom.FilterRedirectorProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for filter-redirector objects.</p>
<p>At least one of <code class="docutils literal notranslate"><span class="pre">indev</span></code> or <code class="docutils literal notranslate"><span class="pre">outdev</span></code> must be present.  If both are
present, they must not refer to the same character device backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of a character device backend from which packets
are received and redirected to the filtered network device</p></li>
<li><p><strong>outdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of a character device backend to which all
incoming packets are redirected</p></li>
<li><p><strong>vnet_hdr_support</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, vnet header support is enabled
(default: false)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.NetfilterProperties" title="QMP:qom.NetfilterProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetfilterProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.FilterRewriterProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FilterRewriterProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-qom.FilterRewriterProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for filter-rewriter objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vnet_hdr_support</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, vnet header support is enabled
(default: false)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.NetfilterProperties" title="QMP:qom.NetfilterProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetfilterProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.InputBarrierProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputBarrierProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.2)</span></span><a class="headerlink" href="#object-QMP-qom.InputBarrierProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for input-barrier objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the screen name as declared in the screens section of
barrier.conf</p></li>
<li><p><strong>server</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- hostname of the Barrier server (default: &quot;localhost&quot;)</p></li>
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- TCP port of the Barrier server (default: &quot;24800&quot;)</p></li>
<li><p><strong>x-origin</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- x coordinate of the leftmost pixel on the guest screen
(default: &quot;0&quot;)</p></li>
<li><p><strong>y-origin</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- y coordinate of the topmost pixel on the guest screen
(default: &quot;0&quot;)</p></li>
<li><p><strong>width</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the width of secondary screen in pixels (default: &quot;1920&quot;)</p></li>
<li><p><strong>height</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the height of secondary screen in pixels (default: &quot;1080&quot;)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.InputLinuxProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputLinuxProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-qom.InputLinuxProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_LINUX</span></code></div>
</div>
<p>Properties for input-linux objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the path of the host evdev device to use</p></li>
<li><p><strong>grab_all</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, grab is toggled for all devices (e.g. both
keyboard and mouse) instead of just one device (default: false)</p></li>
<li><p><strong>repeat</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- enables auto-repeat events (default: false)</p></li>
<li><p><strong>grab-toggle</strong> (<span><a class="reference internal" href="#enum-QMP-common.GrabToggleKeys" title="QMP:common.GrabToggleKeys"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GrabToggleKeys</span></code></a>, <em>optional</em></span>) -- the key or key combination that toggles device grab
(default: ctrl-ctrl)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.EventLoopBaseProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EventLoopBaseProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-qom.EventLoopBaseProperties" title="Link to this definition"></a></dt>
<dd><p>Common properties for event loops</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aio-max-batch</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum number of requests in a batch for the AIO
engine, 0 means that the engine will use its default.
(default: 0)</p></li>
<li><p><strong>thread-pool-min</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- minimum number of threads reserved in the thread
pool (default:0)</p></li>
<li><p><strong>thread-pool-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum number of threads the thread pool can
contain (default:64)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.IothreadProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IothreadProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-qom.IothreadProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for iothread objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>poll-max-ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the maximum number of nanoseconds to busy wait for
events.  0 means polling is disabled (default: 32768 on POSIX
hosts, 0 otherwise)</p></li>
<li><p><strong>poll-grow</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the multiplier used to increase the polling time when
the algorithm detects it is missing events due to not polling
long enough.  0 selects a default behaviour (default: 0)</p></li>
<li><p><strong>poll-shrink</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the divisor used to decrease the polling time when the
algorithm detects it is spending too long polling without
encountering events.  0 selects a default behaviour (default: 0)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.EventLoopBaseProperties" title="QMP:qom.EventLoopBaseProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">EventLoopBaseProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">aio-max-batch</span></code> option is available since 6.1.</p>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.MainLoopProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MainLoopProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-qom.MainLoopProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for the main-loop object.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.EventLoopBaseProperties" title="QMP:qom.EventLoopBaseProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">EventLoopBaseProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.MemoryBackendProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryBackendProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-qom.MemoryBackendProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for objects of classes derived from memory-backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>merge</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, mark the memory as mergeable (default depends on
the machine type)</p></li>
<li><p><strong>dump</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, include the memory in core dumps (default depends on
the machine type)</p></li>
<li><p><strong>host-nodes</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- the list of NUMA host nodes to bind the memory to</p></li>
<li><p><strong>policy</strong> (<span><a class="reference internal" href="#enum-QMP-common.HostMemPolicy" title="QMP:common.HostMemPolicy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HostMemPolicy</span></code></a>, <em>optional</em></span>) -- the NUMA policy (default: 'default')</p></li>
<li><p><strong>prealloc</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, preallocate memory (default: false)</p></li>
<li><p><strong>prealloc-threads</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of CPU threads to use for prealloc
(default: 1)</p></li>
<li><p><strong>prealloc-context</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- thread context to use for creation of
preallocation threads (default: none) (since 7.2)</p></li>
<li><p><strong>share</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if false, the memory is private to QEMU; if true, it is
shared (default false for backends memory-backend-file and
memory-backend-ram, true for backends memory-backend-epc,
memory-backend-memfd, and memory-backend-shm)</p></li>
<li><p><strong>reserve</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, reserve swap space (or huge pages) if applicable
(default: true) (since 6.1)</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- size of the memory region in bytes</p></li>
<li><p><strong>x-use-canonical-path-for-ramblock-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, the canonical path
is used for ramblock-id.  Disable this for 4.0 machine types or
older to allow migration with newer QEMU versions.
(default: false generally, but true for machine types &lt;= 4.0)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>prealloc=true and reserve=false cannot be set at the same
time.  With reserve=true, the behavior depends on the operating
system: for example, Linux will not reserve swap space for shared
file mappings -- &quot;not applicable&quot;.  In contrast, reserve=false
will bail out if it cannot be configured accordingly.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.MemoryBackendFileProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryBackendFileProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-qom.MemoryBackendFileProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for memory-backend-file objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>align</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the base address alignment when QEMU mmap(2)s <code class="docutils literal notranslate"><span class="pre">mem-path</span></code>.
Some backend stores specified by <code class="docutils literal notranslate"><span class="pre">mem-path</span></code> require an alignment
different than the default one used by QEMU, e.g. the device DAX
/dev/dax0.0 requires 2M alignment rather than 4K.  In such
cases, users can specify the required alignment via this option.
0 selects a default alignment (currently the page size).
(default: 0)</p></li>
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the offset into the target file that the region starts at.
You can use this option to back multiple regions with a single
file.  Must be a multiple of the page size.
(default: 0) (since 8.1)</p></li>
<li><p><strong>discard-data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, the file contents can be destroyed when QEMU
exits, to avoid unnecessarily flushing data to the backing file.
Note that <code class="docutils literal notranslate"><span class="pre">discard-data</span></code> is only an optimization, and QEMU might
not discard file contents if it aborts unexpectedly or is
terminated using SIGKILL.  (default: false)</p></li>
<li><p><strong>mem-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the path to either a shared memory or huge page
filesystem mount</p></li>
<li><p><strong>pmem</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- specifies whether the backing file specified by <code class="docutils literal notranslate"><span class="pre">mem-path</span></code> is
in host persistent memory that can be accessed using the SNIA
NVM programming model (e.g. Intel NVDIMM).</p></li>
<li><p><strong>readonly</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, the backing file is opened read-only; if false,
it is opened read-write.  (default: false)</p></li>
<li><p><strong>rom</strong> (<span><a class="reference internal" href="#enum-QMP-common.OnOffAuto" title="QMP:common.OnOffAuto"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">OnOffAuto</span></code></a>, <em>optional</em></span>) -- whether to create Read Only Memory (ROM) that cannot be
modified by the VM.  Any write attempts to such ROM will be
denied.  Most use cases want writable RAM instead of ROM.
However, selected use cases, like R/O NVDIMMs, can benefit from
ROM.  If set to 'on', create ROM; if set to 'off', create
writable RAM; if set to 'auto', the value of the <code class="docutils literal notranslate"><span class="pre">readonly</span></code>
property is used.  This property is primarily helpful when we
want to have proper RAM in configurations that would
traditionally create ROM before this property was introduced: VM
templating, where we want to open a file readonly (<code class="docutils literal notranslate"><span class="pre">readonly</span></code> set
to true) and mark the memory to be private for QEMU (<code class="docutils literal notranslate"><span class="pre">share</span></code> set
to false).  For this use case, we need writable RAM instead of
ROM, and want to set this property to 'off'.  (default: auto,
since 8.2)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendProperties" title="QMP:qom.MemoryBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.MemoryBackendMemfdProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryBackendMemfdProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-qom.MemoryBackendMemfdProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_LINUX</span></code></div>
</div>
<p>Properties for memory-backend-memfd objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hugetlb</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, the file to be created resides in the hugetlbfs
filesystem (default: false)</p></li>
<li><p><strong>hugetlbsize</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the hugetlb page size on systems that support multiple
hugetlb page sizes (it must be a power of 2 value supported by
the system).  0 selects a default page size.  This option is
ignored if <code class="docutils literal notranslate"><span class="pre">hugetlb</span></code> is false.  (default: 0)</p></li>
<li><p><strong>seal</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, create a sealed-file, which will block further
resizing of the memory (default: true)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendProperties" title="QMP:qom.MemoryBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.MemoryBackendShmProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryBackendShmProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#object-QMP-qom.MemoryBackendShmProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_POSIX</span></code></div>
</div>
<p>Properties for memory-backend-shm objects.</p>
<p>This memory backend supports only shared memory, which is the
default.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendProperties" title="QMP:qom.MemoryBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.MemoryBackendEpcProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryBackendEpcProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-qom.MemoryBackendEpcProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_LINUX</span></code></div>
</div>
<p>Properties for memory-backend-epc objects.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">merge</span></code> boolean option is false by default with epc</p>
<p>The <code class="docutils literal notranslate"><span class="pre">dump</span></code> boolean option is false by default with epc</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendProperties" title="QMP:qom.MemoryBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.PrManagerHelperProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PrManagerHelperProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#object-QMP-qom.PrManagerHelperProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_LINUX</span></code></div>
</div>
<p>Properties for pr-manager-helper objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the path to a Unix domain socket for connecting to the
external helper</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.QtestProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QtestProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-qom.QtestProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for qtest objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chardev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the chardev to be used to receive qtest commands on.</p></li>
<li><p><strong>log</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the path to a log file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.RemoteObjectProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RemoteObjectProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-qom.RemoteObjectProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for x-remote-object objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- file descriptor name previously passed via <a class="reference internal" href="#command-QMP-misc.getfd" title="QMP:misc.getfd"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">getfd</span></code></a> command</p></li>
<li><p><strong>devid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the id of the device to be associated with the file
descriptor</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.VfioUserServerProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VfioUserServerProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-qom.VfioUserServerProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for x-vfio-user-server objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a></span>) -- socket to be used by the libvfio-user library</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the ID of the device to be emulated at the server</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.IOMMUFDProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IOMMUFDProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#object-QMP-qom.IOMMUFDProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for iommufd objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- file descriptor name previously passed via <a class="reference internal" href="#command-QMP-misc.getfd" title="QMP:misc.getfd"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">getfd</span></code></a> command,
which represents a pre-opened /dev/iommu.  This allows the
iommufd object to be shared across several subsystems (VFIO,
VDPA, ...), and the file descriptor to be shared with other
process, e.g. DPDK.  (default: QEMU opens /dev/iommu by itself)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.AcpiGenericInitiatorProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AcpiGenericInitiatorProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#object-QMP-qom.AcpiGenericInitiatorProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for acpi-generic-initiator objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pci-dev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- PCI device ID to be associated with the node</p></li>
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- NUMA node associated with the PCI device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.AcpiGenericPortProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AcpiGenericPortProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.2)</span></span><a class="headerlink" href="#object-QMP-qom.AcpiGenericPortProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for acpi-generic-port objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pci-bus</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QOM path of the PCI bus of the hostbridge associated with
this SRAT Generic Port Affinity Structure.  This is the same as
the bus parameter for the root ports attached to this host
bridge.  The resulting SRAT Generic Port Affinity Structure will
refer to the ACPI object in DSDT that represents the host bridge
(e.g.  ACPI0016 for CXL host bridges).  See ACPI 6.5 Section
5.2.16.7 for more information.</p></li>
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Similar to a NUMA node ID, but instead of providing a
reference point used for defining NUMA distances and access
characteristics to memory or from an initiator (e.g. CPU), this
node defines the boundary point between non-discoverable system
buses which must be described by firmware, and a discoverable
bus.  NUMA distances and access characteristics are defined to
and from that point.  For system software to establish full
initiator to target characteristics this information must be
combined with information retrieved from the discoverable part
of the path.  An example would use CDAT (see UEFI.org)
information read from devices and switches in conjunction with
link characteristics read from PCIe Configuration space.
To get the full path latency from CPU to CXL attached DRAM
CXL device: Add the latency from CPU to Generic Port (from
HMAT indexed via the node ID in this SRAT structure) to
that for CXL bus links, the latency across intermediate switches
and from the EP port to the actual memory.  Bandwidth is more
complex as there may be interleaving across multiple devices
and shared links in the path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.RngProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RngProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-qom.RngProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for objects of classes derived from rng.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opened</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, the device is opened immediately when applying
this option and will probably fail when processing the next
option.  Don't use; only provided for compatibility.
(default: false)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>deprecated</strong> -- Member <code class="docutils literal notranslate"><span class="pre">opened</span></code> is deprecated.  Setting true doesn't
make sense, and false is already the default.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.RngEgdProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RngEgdProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-qom.RngEgdProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for rng-egd objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chardev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of a character device backend that provides the
connection to the RNG daemon</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.RngProperties" title="QMP:qom.RngProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RngProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.RngRandomProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RngRandomProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.3)</span></span><a class="headerlink" href="#object-QMP-qom.RngRandomProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_POSIX</span></code></div>
</div>
<p>Properties for rng-random objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the filename of the device on the host to obtain entropy
from (default: &quot;/dev/urandom&quot;)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.RngProperties" title="QMP:qom.RngProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RngProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.IgvmCfgProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IgvmCfgProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.1)</span></span><a class="headerlink" href="#object-QMP-qom.IgvmCfgProperties" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_IGVM</span></code></div>
</div>
<p>Properties common to objects that handle IGVM files.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- IGVM file to use to configure guest</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.SevCommonProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevCommonProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#object-QMP-qom.SevCommonProperties" title="Link to this definition"></a></dt>
<dd><p>Properties common to objects that are derivatives of sev-common.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sev-device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- SEV device to use (default: &quot;/dev/sev&quot;)</p></li>
<li><p><strong>cbitpos</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- C-bit location in page table entry (default: 0)</p></li>
<li><p><strong>reduced-phys-bits</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of bits in physical addresses that become
unavailable when SEV is enabled</p></li>
<li><p><strong>kernel-hashes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, add hashes of kernel/initrd/cmdline to a
designated guest firmware page for measured boot with -kernel
(default: false) (since 6.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.SevGuestProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevGuestProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-qom.SevGuestProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for sev-guest objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dh-cert-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- guest owners DH certificate (encoded with base64)</p></li>
<li><p><strong>session-file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- guest owners session parameters (encoded with base64)</p></li>
<li><p><strong>policy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- SEV policy value (default: 0x1)</p></li>
<li><p><strong>handle</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- SEV firmware handle (default: 0)</p></li>
<li><p><strong>legacy-vm-type</strong> (<span><a class="reference internal" href="#enum-QMP-common.OnOffAuto" title="QMP:common.OnOffAuto"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">OnOffAuto</span></code></a>, <em>optional</em></span>) -- Use legacy KVM_SEV_INIT KVM interface for creating
the VM.  The newer KVM_SEV_INIT2 interface, from Linux &gt;= 6.10,
syncs additional vCPU state when initializing the VMSA
structures, which will result in a different guest measurement.
Set this to 'on' to force compatibility with older QEMU or kernel
versions that rely on legacy KVM_SEV_INIT behavior.  'auto' will
behave identically to 'on', but will automatically switch to
using KVM_SEV_INIT2 if the user specifies any additional options
that require it.  If set to 'off', QEMU will require
KVM_SEV_INIT2 unconditionally.
(default: off) (since 9.1)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.SevCommonProperties" title="QMP:qom.SevCommonProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevCommonProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.SevSnpGuestProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevSnpGuestProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#object-QMP-qom.SevSnpGuestProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for sev-snp-guest objects.  Most of these are direct
arguments for the KVM_SNP_* interfaces documented in the Linux
kernel source under
Documentation/arch/x86/amd-memory-encryption.rst, which are in turn
closely coupled with the SNP_INIT/SNP_LAUNCH_* firmware commands
documented in the SEV-SNP Firmware ABI Specification (Rev 0.9).</p>
<p>More usage information is also available in the QEMU source tree
under docs/amd-memory-encryption.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>policy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the 'POLICY' parameter to the SNP_LAUNCH_START command, as
defined in the SEV-SNP firmware ABI (default: 0x30000)</p></li>
<li><p><strong>guest-visible-workarounds</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- 16-byte, base64-encoded blob to report
hypervisor-defined workarounds, corresponding to the 'GOSVW'
parameter of the SNP_LAUNCH_START command defined in the SEV-SNP
firmware ABI (default: all-zero)</p></li>
<li><p><strong>id-block</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- 96-byte, base64-encoded blob to provide the 'ID Block'
structure for the SNP_LAUNCH_FINISH command defined in the
SEV-SNP firmware ABI (default: all-zero)</p></li>
<li><p><strong>id-auth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- 4096-byte, base64-encoded blob to provide the 'ID
Authentication Information Structure' for the SNP_LAUNCH_FINISH
command defined in the SEV-SNP firmware ABI (default: all-zero)</p></li>
<li><p><strong>author-key-enabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- true if 'id-auth' blob contains the 'AUTHOR_KEY'
field defined SEV-SNP firmware ABI (default: false)</p></li>
<li><p><strong>host-data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- 32-byte, base64-encoded, user-defined blob to provide to
the guest, as documented for the 'HOST_DATA' parameter of the
SNP_LAUNCH_FINISH command in the SEV-SNP firmware ABI (default:
all-zero)</p></li>
<li><p><strong>vcek-disabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Guests are by default allowed to choose between VLEK
(Versioned Loaded Endorsement Key) or VCEK (Versioned Chip
Endorsement Key) when requesting attestation reports from
firmware.  Set this to true to disable the use of VCEK.
(default: false) (since: 9.1)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.SevCommonProperties" title="QMP:qom.SevCommonProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevCommonProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.TdxGuestProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TdxGuestProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.1)</span></span><a class="headerlink" href="#object-QMP-qom.TdxGuestProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for tdx-guest objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attributes</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The 'attributes' of a TD guest that is passed to
KVM_TDX_INIT_VM</p></li>
<li><p><strong>sept-ve-disable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- toggle bit 28 of TD attributes to control disabling
of EPT violation conversion to #VE on guest TD access of PENDING
pages.  Some guest OS (e.g., Linux TD guest) may require this to
be set, otherwise they refuse to boot.</p></li>
<li><p><strong>mrconfigid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID for non-owner-defined configuration of the guest TD,
e.g., run-time or OS configuration (base64 encoded SHA384 digest).
Defaults to all zeros.</p></li>
<li><p><strong>mrowner</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID for the guest TD’s owner (base64 encoded SHA384 digest).
Defaults to all zeros.</p></li>
<li><p><strong>mrownerconfig</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- ID for owner-defined configuration of the guest TD,
e.g., specific to the workload rather than the run-time or OS
(base64 encoded SHA384 digest).  Defaults to all zeros.</p></li>
<li><p><strong>quote-generation-socket</strong> (<span><a class="reference internal" href="#object-QMP-sockets.SocketAddress" title="QMP:sockets.SocketAddress"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SocketAddress</span></code></a>, <em>optional</em></span>) -- socket address for Quote Generation
Service (QGS).  QGS is a daemon running on the host.  Without
it, the guest will not be able to get a TD quote for
attestation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.ThreadContextProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ThreadContextProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-qom.ThreadContextProperties" title="Link to this definition"></a></dt>
<dd><p>Properties for thread context objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpu-affinity</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- the list of host CPU numbers used as CPU affinity for
all threads created in the thread context (default: QEMU main
thread CPU affinity)</p></li>
<li><p><strong>node-affinity</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- the list of host node numbers that will be resolved
to a list of host CPU numbers used as CPU affinity.  This is a
shortcut for specifying the list of host CPU numbers belonging
to the host nodes manually by setting <code class="docutils literal notranslate"><span class="pre">cpu-affinity</span></code>.
(default: QEMU main thread affinity)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-qom.ObjectType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ObjectType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#enum-QMP-qom.ObjectType" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>acpi-generic-initiator</strong> -- Not documented</p></li>
<li><p><strong>acpi-generic-port</strong> -- Not documented</p></li>
<li><p><strong>authz-list</strong> -- Not documented</p></li>
<li><p><strong>authz-listfile</strong> -- Not documented</p></li>
<li><p><strong>authz-pam</strong> -- Not documented</p></li>
<li><p><strong>authz-simple</strong> -- Not documented</p></li>
<li><p><strong>can-bus</strong> -- Not documented</p></li>
<li><p><strong>can-host-socketcan</strong> -- Not documented</p></li>
<li><p><strong>colo-compare</strong> -- Not documented</p></li>
<li><p><strong>cryptodev-backend</strong> -- Not documented</p></li>
<li><p><strong>cryptodev-backend-builtin</strong> -- Not documented</p></li>
<li><p><strong>cryptodev-backend-lkcf</strong> -- Not documented</p></li>
<li><p><strong>cryptodev-vhost-user</strong> -- Not documented</p></li>
<li><p><strong>dbus-vmstate</strong> -- Not documented</p></li>
<li><p><strong>filter-buffer</strong> -- Not documented</p></li>
<li><p><strong>filter-dump</strong> -- Not documented</p></li>
<li><p><strong>filter-mirror</strong> -- Not documented</p></li>
<li><p><strong>filter-redirector</strong> -- Not documented</p></li>
<li><p><strong>filter-replay</strong> -- Not documented</p></li>
<li><p><strong>filter-rewriter</strong> -- Not documented</p></li>
<li><p><strong>igvm-cfg</strong> -- Not documented</p></li>
<li><p><strong>input-barrier</strong> -- Not documented</p></li>
<li><p><strong>input-linux</strong> -- Not documented</p></li>
<li><p><strong>iommufd</strong> -- Not documented</p></li>
<li><p><strong>iothread</strong> -- Not documented</p></li>
<li><p><strong>main-loop</strong> -- Not documented</p></li>
<li><p><strong>memory-backend-epc</strong> -- Not documented</p></li>
<li><p><strong>memory-backend-file</strong> -- Not documented</p></li>
<li><p><strong>memory-backend-memfd</strong> -- Not documented</p></li>
<li><p><strong>memory-backend-ram</strong> -- Not documented</p></li>
<li><p><strong>memory-backend-shm</strong> -- Not documented</p></li>
<li><p><strong>pef-guest</strong> -- Not documented</p></li>
<li><p><strong>pr-manager-helper</strong> -- Not documented</p></li>
<li><p><strong>qtest</strong> -- Not documented</p></li>
<li><p><strong>rng-builtin</strong> -- Not documented</p></li>
<li><p><strong>rng-egd</strong> -- Not documented</p></li>
<li><p><strong>rng-random</strong> -- Not documented</p></li>
<li><p><strong>secret</strong> -- Not documented</p></li>
<li><p><strong>secret_keyring</strong> -- Not documented</p></li>
<li><p><strong>sev-guest</strong> -- Not documented</p></li>
<li><p><strong>sev-snp-guest</strong> -- Not documented</p></li>
<li><p><strong>thread-context</strong> -- Not documented</p></li>
<li><p><strong>s390-pv-guest</strong> -- Not documented</p></li>
<li><p><strong>tdx-guest</strong> -- Not documented</p></li>
<li><p><strong>throttle-group</strong> -- Not documented</p></li>
<li><p><strong>tls-creds-anon</strong> -- Not documented</p></li>
<li><p><strong>tls-creds-psk</strong> -- Not documented</p></li>
<li><p><strong>tls-creds-x509</strong> -- Not documented</p></li>
<li><p><strong>tls-cipher-suites</strong> -- Not documented</p></li>
<li><p><strong>x-remote-object</strong> -- Not documented</p></li>
<li><p><strong>x-vfio-user-server</strong> -- Not documented</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Members <code class="docutils literal notranslate"><span class="pre">x-remote-object</span></code> and <code class="docutils literal notranslate"><span class="pre">x-vfio-user-server</span></code> are
experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-qom.ObjectOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ObjectOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-qom.ObjectOptions" title="Link to this definition"></a></dt>
<dd><p>Describes the options of a user creatable QOM object.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qom-type</strong> (<span><a class="reference internal" href="#enum-QMP-qom.ObjectType" title="QMP:qom.ObjectType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ObjectType</span></code></a></span>) -- the class name for the object to be created</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the new object</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">acpi-generic-initiator</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.AcpiGenericInitiatorProperties" title="QMP:qom.AcpiGenericInitiatorProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AcpiGenericInitiatorProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">acpi-generic-port</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.AcpiGenericPortProperties" title="QMP:qom.AcpiGenericPortProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AcpiGenericPortProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">authz-list</span></code>: The members of <a class="reference internal" href="#object-QMP-authz.AuthZListProperties" title="QMP:authz.AuthZListProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AuthZListProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">authz-listfile</span></code>: The members of <a class="reference internal" href="#object-QMP-authz.AuthZListFileProperties" title="QMP:authz.AuthZListFileProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AuthZListFileProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">authz-pam</span></code>: The members of <a class="reference internal" href="#object-QMP-authz.AuthZPAMProperties" title="QMP:authz.AuthZPAMProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AuthZPAMProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">authz-simple</span></code>: The members of <a class="reference internal" href="#object-QMP-authz.AuthZSimpleProperties" title="QMP:authz.AuthZSimpleProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AuthZSimpleProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">can-host-socketcan</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.CanHostSocketcanProperties" title="QMP:qom.CanHostSocketcanProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CanHostSocketcanProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">colo-compare</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.ColoCompareProperties" title="QMP:qom.ColoCompareProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ColoCompareProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">cryptodev-backend</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.CryptodevBackendProperties" title="QMP:qom.CryptodevBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CryptodevBackendProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">cryptodev-backend-builtin</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.CryptodevBackendProperties" title="QMP:qom.CryptodevBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CryptodevBackendProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">cryptodev-backend-lkcf</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.CryptodevBackendProperties" title="QMP:qom.CryptodevBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CryptodevBackendProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">cryptodev-vhost-user</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.CryptodevVhostUserProperties" title="QMP:qom.CryptodevVhostUserProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CryptodevVhostUserProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">dbus-vmstate</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.DBusVMStateProperties" title="QMP:qom.DBusVMStateProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">DBusVMStateProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">filter-buffer</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.FilterBufferProperties" title="QMP:qom.FilterBufferProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FilterBufferProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">filter-dump</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.FilterDumpProperties" title="QMP:qom.FilterDumpProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FilterDumpProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">filter-mirror</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.FilterMirrorProperties" title="QMP:qom.FilterMirrorProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FilterMirrorProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">filter-redirector</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.FilterRedirectorProperties" title="QMP:qom.FilterRedirectorProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FilterRedirectorProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">filter-replay</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.NetfilterProperties" title="QMP:qom.NetfilterProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NetfilterProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">filter-rewriter</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.FilterRewriterProperties" title="QMP:qom.FilterRewriterProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FilterRewriterProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">igvm-cfg</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.IgvmCfgProperties" title="QMP:qom.IgvmCfgProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IgvmCfgProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">input-barrier</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.InputBarrierProperties" title="QMP:qom.InputBarrierProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputBarrierProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">input-linux</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.InputLinuxProperties" title="QMP:qom.InputLinuxProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">InputLinuxProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">iommufd</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.IOMMUFDProperties" title="QMP:qom.IOMMUFDProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IOMMUFDProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">iothread</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.IothreadProperties" title="QMP:qom.IothreadProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IothreadProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">main-loop</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.MainLoopProperties" title="QMP:qom.MainLoopProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MainLoopProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">memory-backend-epc</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendEpcProperties" title="QMP:qom.MemoryBackendEpcProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendEpcProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">memory-backend-file</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendFileProperties" title="QMP:qom.MemoryBackendFileProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendFileProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">memory-backend-memfd</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendMemfdProperties" title="QMP:qom.MemoryBackendMemfdProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendMemfdProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">memory-backend-ram</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendProperties" title="QMP:qom.MemoryBackendProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">memory-backend-shm</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.MemoryBackendShmProperties" title="QMP:qom.MemoryBackendShmProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryBackendShmProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">pr-manager-helper</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.PrManagerHelperProperties" title="QMP:qom.PrManagerHelperProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PrManagerHelperProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">qtest</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.QtestProperties" title="QMP:qom.QtestProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QtestProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">rng-builtin</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.RngProperties" title="QMP:qom.RngProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RngProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">rng-egd</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.RngEgdProperties" title="QMP:qom.RngEgdProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RngEgdProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">rng-random</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.RngRandomProperties" title="QMP:qom.RngRandomProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RngRandomProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">secret</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.SecretProperties" title="QMP:crypto.SecretProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SecretProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">secret_keyring</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.SecretKeyringProperties" title="QMP:crypto.SecretKeyringProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SecretKeyringProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">sev-guest</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.SevGuestProperties" title="QMP:qom.SevGuestProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevGuestProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">sev-snp-guest</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.SevSnpGuestProperties" title="QMP:qom.SevSnpGuestProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevSnpGuestProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">tdx-guest</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.TdxGuestProperties" title="QMP:qom.TdxGuestProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TdxGuestProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">thread-context</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.ThreadContextProperties" title="QMP:qom.ThreadContextProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ThreadContextProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">throttle-group</span></code>: The members of <a class="reference internal" href="#object-QMP-block-core.ThrottleGroupProperties" title="QMP:block-core.ThrottleGroupProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ThrottleGroupProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">tls-creds-anon</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.TlsCredsAnonProperties" title="QMP:crypto.TlsCredsAnonProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TlsCredsAnonProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">tls-creds-psk</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.TlsCredsPskProperties" title="QMP:crypto.TlsCredsPskProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TlsCredsPskProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">tls-creds-x509</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.TlsCredsX509Properties" title="QMP:crypto.TlsCredsX509Properties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TlsCredsX509Properties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">tls-cipher-suites</span></code>: The members of <a class="reference internal" href="#object-QMP-crypto.TlsCredsProperties" title="QMP:crypto.TlsCredsProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">TlsCredsProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">x-remote-object</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.RemoteObjectProperties" title="QMP:qom.RemoteObjectProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">RemoteObjectProperties</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is <code class="docutils literal notranslate"><span class="pre">x-vfio-user-server</span></code>: The members of <a class="reference internal" href="#object-QMP-qom.VfioUserServerProperties" title="QMP:qom.VfioUserServerProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VfioUserServerProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qom.object-add">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object-add</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#command-QMP-qom.object-add" title="Link to this definition"></a></dt>
<dd><p>Create a QOM object.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-qom.ObjectOptions" title="QMP:qom.ObjectOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ObjectOptions</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">qom-type</span></code> is not a valid class name</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object-add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;qom-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rng-random&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rng1&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/dev/hwrng&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qom.object-del">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object-del</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#command-QMP-qom.object-del" title="Link to this definition"></a></dt>
<dd><p>Remove a QOM object.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the QOM object to remove</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">id</span></code> is not a valid id for a QOM object</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object-del&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rng1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="device-infrastructure-qdev">
<span id="module-QMP-qdev"></span><h2><a class="toc-backref" href="#id33" role="doc-backlink">Device infrastructure (qdev)</a><a class="headerlink" href="#device-infrastructure-qdev" title="Link to this heading"></a></h2>
<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qdev.device-list-properties">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device-list-properties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-qdev.device-list-properties" title="Link to this definition"></a></dt>
<dd><p>List properties associated with a device.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>typename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the type name of a device</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-qom.ObjectPropertyInfo" title="QMP:qom.ObjectPropertyInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ObjectPropertyInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list describing a devices properties</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Objects can create properties at runtime, for example to
describe links between different devices and/or objects.  These
properties are not included in the output of this command.</p>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qdev.device_add">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device_add</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.13)</span></span><a class="headerlink" href="#command-QMP-qdev.device_add" title="Link to this definition"></a></dt>
<dd><p>Add a device.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the new device's driver</p></li>
<li><p><strong>bus</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the device's parent bus (device tree path)</p></li>
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the device's ID, must be unique</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>json-cli</strong> -- If present, the &quot;-device&quot; command line option supports
JSON syntax with a structure identical to the arguments of this
command.</p></li>
<li><p><strong>json-cli-hotplug</strong> -- If present, the &quot;-device&quot; command line option
supports JSON syntax without the reference counting leak that
broke hot-unplug</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<ol class="arabic simple">
<li><p>Additional arguments depend on the type.</p></li>
<li><p>For detailed information about this command, please refer to
the 'docs/qdev-device-use.txt' file.</p></li>
<li><p>It's possible to list device properties by running QEMU with
the <code class="docutils literal notranslate"><span class="pre">-device</span> <span class="pre">DEVICE,help</span></code> command-line argument, where
DEVICE is the device's name.</p></li>
</ol>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;device_add&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e1000&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;net1&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;bus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pci.0&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;mac&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;52:54:00:12:34:56&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qdev.device_del">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device_del</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-qdev.device_del" title="Link to this definition"></a></dt>
<dd><p>Remove a device from a guest</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device's ID or QOM path</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">id</span></code> is not a valid device, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>When this command completes, the device may not be removed
from the guest.  Hot removal is an operation that requires guest
cooperation.  This command merely requests that the guest begin
the hot removal process.  Completion of the device removal
process is signaled with a <a class="reference internal" href="#event-QMP-qdev.DEVICE_DELETED" title="QMP:qdev.DEVICE_DELETED"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">DEVICE_DELETED</span></code></a> event.  Guest reset
will automatically complete removal for all devices.  If a
guest-side error in the hot removal process is detected, the
device will not be removed and a <a class="reference internal" href="#event-QMP-qdev.DEVICE_UNPLUG_GUEST_ERROR" title="QMP:qdev.DEVICE_UNPLUG_GUEST_ERROR"><code class="xref any qapi qapi-event docutils literal notranslate"><span class="pre">DEVICE_UNPLUG_GUEST_ERROR</span></code></a> event
is sent.  Some errors cannot be detected.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;device_del&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;net1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;device_del&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[0]&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-qdev.DEVICE_DELETED">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DEVICE_DELETED</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#event-QMP-qdev.DEVICE_DELETED" title="Link to this definition"></a></dt>
<dd><p>Emitted whenever the device removal completion is acknowledged by
the guest.  At this point, it's safe to reuse the specified device
ID.  Device removal can be initiated by the guest or by HMP/QMP
commands.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the device's ID if it has one</p></li>
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device's QOM path</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEVICE_DELETED&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-net-pci-0&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/virtio-net-pci-0&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-qdev.DEVICE_UNPLUG_GUEST_ERROR">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DEVICE_UNPLUG_GUEST_ERROR</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#event-QMP-qdev.DEVICE_UNPLUG_GUEST_ERROR" title="Link to this definition"></a></dt>
<dd><p>Emitted when a device hot unplug fails due to a guest reported
error.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the device's ID if it has one</p></li>
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device's QOM path</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEVICE_UNPLUG_GUEST_ERROR&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;core1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/core1&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1615570772</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">202844</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-qdev.device-sync-config">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device-sync-config</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.2)</span></span><a class="headerlink" href="#command-QMP-qdev.device-sync-config" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Synchronize device configuration from host to guest part.  First,
copy the configuration from the host part (backend) to the guest
part (frontend).  Then notify guest software that device
configuration changed.</p>
<p>The command may be used to notify the guest about block device
capacity change.  Currently only vhost-user-blk device supports
this.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device's ID or QOM path</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- The command is experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="common-machine-types">
<span id="module-QMP-machine-common"></span><h2><a class="toc-backref" href="#id34" role="doc-backlink">Common machine types</a><a class="headerlink" href="#common-machine-types" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine-common.S390CpuEntitlement">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">S390CpuEntitlement</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#enum-QMP-machine-common.S390CpuEntitlement" title="Link to this definition"></a></dt>
<dd><p>An enumeration of CPU entitlements that can be assumed by a virtual
S390 CPU</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auto</strong> -- Not documented</p></li>
<li><p><strong>low</strong> -- Not documented</p></li>
<li><p><strong>medium</strong> -- Not documented</p></li>
<li><p><strong>high</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine-common.CpuTopologyLevel">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuTopologyLevel</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.2)</span></span><a class="headerlink" href="#enum-QMP-machine-common.CpuTopologyLevel" title="Link to this definition"></a></dt>
<dd><p>An enumeration of CPU topology levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thread</strong> -- thread level, which would also be called SMT level or
logical processor level.  The <code class="docutils literal notranslate"><span class="pre">threads</span></code> option in
<a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a> is used to configure the topology of this
level.</p></li>
<li><p><strong>core</strong> -- core level.  The <code class="docutils literal notranslate"><span class="pre">cores</span></code> option in <a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a> is used
to configure the topology of this level.</p></li>
<li><p><strong>module</strong> -- module level.  The <code class="docutils literal notranslate"><span class="pre">modules</span></code> option in <a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a> is
used to configure the topology of this level.</p></li>
<li><p><strong>cluster</strong> -- cluster level.  The <code class="docutils literal notranslate"><span class="pre">clusters</span></code> option in <a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a>
is used to configure the topology of this level.</p></li>
<li><p><strong>die</strong> -- die level.  The <code class="docutils literal notranslate"><span class="pre">dies</span></code> option in <a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a> is used to
configure the topology of this level.</p></li>
<li><p><strong>socket</strong> -- socket level, which would also be called package level.
The <code class="docutils literal notranslate"><span class="pre">sockets</span></code> option in <a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a> is used to configure
the topology of this level.</p></li>
<li><p><strong>book</strong> -- book level.  The <code class="docutils literal notranslate"><span class="pre">books</span></code> option in <a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a> is used
to configure the topology of this level.</p></li>
<li><p><strong>drawer</strong> -- drawer level.  The <code class="docutils literal notranslate"><span class="pre">drawers</span></code> option in <a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a> is
used to configure the topology of this level.</p></li>
<li><p><strong>default</strong> -- default level.  Some architectures will have default
topology settings (e.g., cache topology), and this special
level means following the architecture-specific settings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine-common.CacheLevelAndType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CacheLevelAndType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.2)</span></span><a class="headerlink" href="#enum-QMP-machine-common.CacheLevelAndType" title="Link to this definition"></a></dt>
<dd><p>Caches a system may have.  The enumeration value here is the
combination of cache level and cache type.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1d</strong> -- L1 data cache.</p></li>
<li><p><strong>l1i</strong> -- L1 instruction cache.</p></li>
<li><p><strong>l2</strong> -- L2 (unified) cache.</p></li>
<li><p><strong>l3</strong> -- L3 (unified) cache</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine-common.SmpCacheProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SmpCacheProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.2)</span></span><a class="headerlink" href="#object-QMP-machine-common.SmpCacheProperties" title="Link to this definition"></a></dt>
<dd><p>Cache information for SMP system.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache</strong> (<span><a class="reference internal" href="#enum-QMP-machine-common.CacheLevelAndType" title="QMP:machine-common.CacheLevelAndType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CacheLevelAndType</span></code></a></span>) -- Cache name, which is the combination of cache level
and cache type.</p></li>
<li><p><strong>topology</strong> (<span><a class="reference internal" href="#enum-QMP-machine-common.CpuTopologyLevel" title="QMP:machine-common.CpuTopologyLevel"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuTopologyLevel</span></code></a></span>) -- Cache topology level.  It accepts the CPU topology
enumeration as the parameter, i.e., CPUs in the same
topology container share the same cache.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine-common.SmpCachePropertiesWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SmpCachePropertiesWrapper</span></span><a class="headerlink" href="#object-QMP-machine-common.SmpCachePropertiesWrapper" title="Link to this definition"></a></dt>
<dd><p>List wrapper of <a class="reference internal" href="#object-QMP-machine-common.SmpCacheProperties" title="QMP:machine-common.SmpCacheProperties"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SmpCacheProperties</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>caches</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine-common.SmpCacheProperties" title="QMP:machine-common.SmpCacheProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SmpCacheProperties</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the list of <a class="reference internal" href="#object-QMP-machine-common.SmpCacheProperties" title="QMP:machine-common.SmpCacheProperties"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SmpCacheProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p>Since 9.2</p>
</dd></dl>

</section>
<section id="machines">
<span id="module-QMP-machine"></span><h2><a class="toc-backref" href="#id35" role="doc-backlink">Machines</a><a class="headerlink" href="#machines" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.SysEmuTarget">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SysEmuTarget</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#enum-QMP-machine.SysEmuTarget" title="Link to this definition"></a></dt>
<dd><p>The comprehensive enumeration of QEMU system emulation (&quot;softmmu&quot;)
targets.  Run &quot;./configure --help&quot; in the project root directory,
and look for the *-softmmu targets near the &quot;--target-list&quot; option.
The individual target constants are not documented here, for the
time being.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rx</strong> -- since 5.0</p></li>
<li><p><strong>avr</strong> -- since 5.1</p></li>
<li><p><strong>loongarch64</strong> -- since 7.1</p></li>
<li><p><strong>aarch64</strong> -- Not documented</p></li>
<li><p><strong>alpha</strong> -- Not documented</p></li>
<li><p><strong>arm</strong> -- Not documented</p></li>
<li><p><strong>hppa</strong> -- Not documented</p></li>
<li><p><strong>i386</strong> -- Not documented</p></li>
<li><p><strong>m68k</strong> -- Not documented</p></li>
<li><p><strong>microblaze</strong> -- Not documented</p></li>
<li><p><strong>microblazeel</strong> -- Not documented</p></li>
<li><p><strong>mips</strong> -- Not documented</p></li>
<li><p><strong>mips64</strong> -- Not documented</p></li>
<li><p><strong>mips64el</strong> -- Not documented</p></li>
<li><p><strong>mipsel</strong> -- Not documented</p></li>
<li><p><strong>or1k</strong> -- Not documented</p></li>
<li><p><strong>ppc</strong> -- Not documented</p></li>
<li><p><strong>ppc64</strong> -- Not documented</p></li>
<li><p><strong>riscv32</strong> -- Not documented</p></li>
<li><p><strong>riscv64</strong> -- Not documented</p></li>
<li><p><strong>s390x</strong> -- Not documented</p></li>
<li><p><strong>sh4</strong> -- Not documented</p></li>
<li><p><strong>sh4eb</strong> -- Not documented</p></li>
<li><p><strong>sparc</strong> -- Not documented</p></li>
<li><p><strong>sparc64</strong> -- Not documented</p></li>
<li><p><strong>tricore</strong> -- Not documented</p></li>
<li><p><strong>x86_64</strong> -- Not documented</p></li>
<li><p><strong>xtensa</strong> -- Not documented</p></li>
<li><p><strong>xtensaeb</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The resulting QMP strings can be appended to the
&quot;qemu-system-&quot; prefix to produce the corresponding QEMU
executable name.  This is true even for &quot;qemu-system-x86_64&quot;.</p>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.S390CpuState">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">S390CpuState</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-machine.S390CpuState" title="Link to this definition"></a></dt>
<dd><p>An enumeration of cpu states that can be assumed by a virtual S390
CPU</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uninitialized</strong> -- Not documented</p></li>
<li><p><strong>stopped</strong> -- Not documented</p></li>
<li><p><strong>check-stop</strong> -- Not documented</p></li>
<li><p><strong>operating</strong> -- Not documented</p></li>
<li><p><strong>load</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CpuInfoS390">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuInfoS390</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-machine.CpuInfoS390" title="Link to this definition"></a></dt>
<dd><p>Additional information about a virtual S390 CPU</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpu-state</strong> (<span><a class="reference internal" href="#enum-QMP-machine.S390CpuState" title="QMP:machine.S390CpuState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">S390CpuState</span></code></a></span>) -- the virtual CPU's state</p></li>
<li><p><strong>dedicated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- the virtual CPU's dedication (since 8.2)</p></li>
<li><p><strong>entitlement</strong> (<span><a class="reference internal" href="#enum-QMP-machine-common.S390CpuEntitlement" title="QMP:machine-common.S390CpuEntitlement"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">S390CpuEntitlement</span></code></a>, <em>optional</em></span>) -- the virtual CPU's entitlement (since 8.2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CpuInfoFast">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuInfoFast</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-machine.CpuInfoFast" title="Link to this definition"></a></dt>
<dd><p>Information about a virtual CPU</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpu-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- index of the virtual CPU</p></li>
<li><p><strong>qom-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- QOM type name of the CPU (since 10.1)</p></li>
<li><p><strong>qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the CPU object in the QOM tree</p></li>
<li><p><strong>thread-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- ID of the underlying host thread</p></li>
<li><p><strong>props</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuInstanceProperties" title="QMP:machine.CpuInstanceProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuInstanceProperties</span></code></a>, <em>optional</em></span>) -- properties associated with a virtual CPU, e.g. the socket id</p></li>
<li><p><strong>target</strong> (<span><a class="reference internal" href="#enum-QMP-machine.SysEmuTarget" title="QMP:machine.SysEmuTarget"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SysEmuTarget</span></code></a></span>) -- the QEMU system emulation target, which determines which
additional fields will be listed (since 3.0)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">target</span></code> is <code class="docutils literal notranslate"><span class="pre">s390x</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.CpuInfoS390" title="QMP:machine.CpuInfoS390"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuInfoS390</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-cpus-fast">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-cpus-fast</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-machine.query-cpus-fast" title="Link to this definition"></a></dt>
<dd><p>Return information about all virtual CPUs.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.CpuInfoFast" title="QMP:machine.CpuInfoFast"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuInfoFast</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-cpus-fast&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;thread-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25627</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;core-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;thread-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;socket-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[0]&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;cpu-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;thread-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25628</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;core-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;thread-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;socket-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[2]&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;cpu-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CompatProperty">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CompatProperty</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#object-QMP-machine.CompatProperty" title="Link to this definition"></a></dt>
<dd><p>Property default values specific to a machine type, for use by
scripts/compare-machine-types.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qom-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the QOM type to which the default applies</p></li>
<li><p><strong>property</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of its property to which the default applies</p></li>
<li><p><strong>value</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the default value (machine-specific default can overwrite
the &quot;default&quot; default, to avoid this use -machine none)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.MachineInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MachineInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-machine.MachineInfo" title="Link to this definition"></a></dt>
<dd><p>Information describing a machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the machine</p></li>
<li><p><strong>alias</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- an alias for the machine name</p></li>
<li><p><strong>is-default</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether the machine is default</p></li>
<li><p><strong>cpu-max</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- maximum number of CPUs supported by the machine type
(since 1.5)</p></li>
<li><p><strong>hotpluggable-cpus</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- cpu hotplug via -device is supported (since 2.7)</p></li>
<li><p><strong>numa-mem-supported</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if '-numa node,mem' option is supported by
the machine type and false otherwise (since 4.1)</p></li>
<li><p><strong>deprecated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- if true, the machine type is deprecated and may be
removed in future versions of QEMU according to the QEMU
deprecation policy (since 4.1)</p></li>
<li><p><strong>default-cpu-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- default CPU model typename if none is requested
via the -cpu argument.  (since 4.2)</p></li>
<li><p><strong>default-ram-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the default ID of initial RAM memory backend
(since 5.2)</p></li>
<li><p><strong>acpi</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- machine type supports ACPI (since 8.0)</p></li>
<li><p><strong>compat-props</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.CompatProperty" title="QMP:machine.CompatProperty"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CompatProperty</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- The machine type's compatibility properties.  Only
present when <a class="reference internal" href="#command-QMP-machine.query-machines" title="QMP:machine.query-machines"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-machines</span></code></a> argument <code class="docutils literal notranslate"><span class="pre">compat-props</span></code> is true.
(since 9.1)</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- Member <code class="docutils literal notranslate"><span class="pre">compat-props</span></code> is experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-machines">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-machines</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-machine.query-machines" title="Link to this definition"></a></dt>
<dd><p>Return a list of supported machines</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>compat-props</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if true, also return compatibility properties.
(default: false) (since 9.1)</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.MachineInfo" title="QMP:machine.MachineInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MachineInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- Argument <code class="docutils literal notranslate"><span class="pre">compat-props</span></code> is experimental.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-machines&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;compat-props&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;hotpluggable-cpus&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pc-q35-6.2&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;compat-props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;qom-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-mem&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unplugged-inaccessible&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">              </span><span class="nt">&quot;numa-mem-supported&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;default-cpu-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu64-x86_64-cpu&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;cpu-max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">288</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;deprecated&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;default-ram-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pc.ram&quot;</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="cm">...</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CurrentMachineParams">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CurrentMachineParams</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-machine.CurrentMachineParams" title="Link to this definition"></a></dt>
<dd><p>Information describing the running machine parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wakeup-suspend-support</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if the machine supports wake up from
suspend</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-current-machine">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-current-machine</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#command-QMP-machine.query-current-machine" title="Link to this definition"></a></dt>
<dd><p>Return information on the current virtual machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-machine.CurrentMachineParams" title="QMP:machine.CurrentMachineParams"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CurrentMachineParams</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.QemuTargetInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QemuTargetInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-machine.QemuTargetInfo" title="Link to this definition"></a></dt>
<dd><p>Information on the target configuration built into the QEMU binary.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arch</strong> (<span><a class="reference internal" href="#enum-QMP-machine.SysEmuTarget" title="QMP:machine.SysEmuTarget"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SysEmuTarget</span></code></a></span>) -- the target architecture</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-target">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-target</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-machine.query-target" title="Link to this definition"></a></dt>
<dd><p>Return information about the target for this QEMU</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-machine.QemuTargetInfo" title="QMP:machine.QemuTargetInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QemuTargetInfo</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.UuidInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UuidInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-machine.UuidInfo" title="Link to this definition"></a></dt>
<dd><p>Guest UUID information (Universally Unique Identifier).</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>UUID</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the UUID of the guest</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If no UUID was specified for the guest, the nil UUID (all
zeroes) is returned.</p>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-uuid">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-uuid</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-machine.query-uuid" title="Link to this definition"></a></dt>
<dd><p>Query the guest UUID information.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-machine.UuidInfo" title="QMP:machine.UuidInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">UuidInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-uuid&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;UUID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.GuidInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GuidInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#object-QMP-machine.GuidInfo" title="Link to this definition"></a></dt>
<dd><p>GUID information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the globally unique identifier</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-vm-generation-id">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-vm-generation-id</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.9)</span></span><a class="headerlink" href="#command-QMP-machine.query-vm-generation-id" title="Link to this definition"></a></dt>
<dd><p>Show Virtual Machine Generation ID</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-machine.GuidInfo" title="QMP:machine.GuidInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GuidInfo</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.system_reset">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">system_reset</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-machine.system_reset" title="Link to this definition"></a></dt>
<dd><p>Performs a hard reset of a guest.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;system_reset&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.system_powerdown">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">system_powerdown</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-machine.system_powerdown" title="Link to this definition"></a></dt>
<dd><p>Requests that a guest perform a powerdown operation.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>A guest may or may not respond to this command.  This
command returning does not indicate that a guest has accepted the
request or that it has shut down.  Many guests will respond to
this command by prompting the user in some way.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;system_powerdown&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.system_wakeup">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">system_wakeup</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.1)</span></span><a class="headerlink" href="#command-QMP-machine.system_wakeup" title="Link to this definition"></a></dt>
<dd><p>Wake up guest from suspend.  If the guest has wake-up from suspend
support enabled (wakeup-suspend-support flag from
<a class="reference internal" href="#command-QMP-machine.query-current-machine" title="QMP:machine.query-current-machine"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-current-machine</span></code></a>), wake-up guest from suspend if the guest is
in SUSPENDED state.  Return an error otherwise.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Prior to 4.0, this command does nothing in case the guest
isn't suspended.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;system_wakeup&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.LostTickPolicy">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LostTickPolicy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#enum-QMP-machine.LostTickPolicy" title="Link to this definition"></a></dt>
<dd><p>Policy for handling lost ticks in timer devices.  Ticks end up
getting lost when, for example, the guest is paused.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>discard</strong> -- throw away the missed ticks and continue with future
injection normally.  The guest OS will see the timer jump ahead
by a potentially quite significant amount all at once, as if the
intervening chunk of time had simply not existed; needless to
say, such a sudden jump can easily confuse a guest OS which is
not specifically prepared to deal with it.  Assuming the guest
OS can deal correctly with the time jump, the time in the guest
and in the host should now match.</p></li>
<li><p><strong>delay</strong> -- continue to deliver ticks at the normal rate.  The guest OS
will not notice anything is amiss, as from its point of view
time will have continued to flow normally.  The time in the
guest should now be behind the time in the host by exactly the
amount of time during which ticks have been missed.</p></li>
<li><p><strong>slew</strong> -- deliver ticks at a higher rate to catch up with the missed
ticks.  The guest OS will not notice anything is amiss, as from
its point of view time will have continued to flow normally.
Once the timer has managed to catch up with all the missing
ticks, the time in the guest and in the host should match.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.inject-nmi">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">inject-nmi</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-machine.inject-nmi" title="Link to this definition"></a></dt>
<dd><p>Injects a Non-Maskable Interrupt into the default CPU (x86/s390) or
all CPUs (ppc64).  The command fails when the guest doesn't support
injecting.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Prior to 2.1, this command was only supported for x86 and
s390 VMs.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inject-nmi&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.NumaOptionsType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NumaOptionsType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-machine.NumaOptionsType" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> -- NUMA nodes configuration</p></li>
<li><p><strong>dist</strong> -- NUMA distance configuration (since 2.10)</p></li>
<li><p><strong>cpu</strong> -- property based CPU(s) to node mapping (Since: 2.10)</p></li>
<li><p><strong>hmat-lb</strong> -- memory latency and bandwidth information (Since: 5.0)</p></li>
<li><p><strong>hmat-cache</strong> -- memory side cache information (Since: 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.NumaOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NumaOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-machine.NumaOptions" title="Link to this definition"></a></dt>
<dd><p>A discriminated record of NUMA options.  (for OptsVisitor)</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-machine.NumaOptionsType" title="QMP:machine.NumaOptionsType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NumaOptionsType</span></code></a></span>) -- NUMA option type</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">node</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.NumaNodeOptions" title="QMP:machine.NumaNodeOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NumaNodeOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">dist</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.NumaDistOptions" title="QMP:machine.NumaDistOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NumaDistOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">cpu</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.NumaCpuOptions" title="QMP:machine.NumaCpuOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NumaCpuOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">hmat-lb</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.NumaHmatLBOptions" title="QMP:machine.NumaHmatLBOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NumaHmatLBOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">hmat-cache</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.NumaHmatCacheOptions" title="QMP:machine.NumaHmatCacheOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NumaHmatCacheOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.NumaNodeOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NumaNodeOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-machine.NumaNodeOptions" title="Link to this definition"></a></dt>
<dd><p>Create a guest NUMA node.  (for OptsVisitor)</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodeid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- NUMA node ID (increase by 1 from 0 if omitted)</p></li>
<li><p><strong>cpus</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- VCPUs belonging to this node (assign VCPUS round-robin if
omitted)</p></li>
<li><p><strong>mem</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- memory size of this node; mutually exclusive with <code class="docutils literal notranslate"><span class="pre">memdev</span></code>.
Equally divide total memory among nodes if both <code class="docutils literal notranslate"><span class="pre">mem</span></code> and <code class="docutils literal notranslate"><span class="pre">memdev</span></code>
are omitted.</p></li>
<li><p><strong>memdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- memory backend object.  If specified for one node, it must
be specified for all nodes.</p></li>
<li><p><strong>initiator</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- defined in ACPI 6.3 Chapter 5.2.27.3 Table 5-145, points
to the nodeid which has the memory controller responsible for
this NUMA node.  This field provides additional information as
to the initiator node that is closest (as in directly attached)
to this node, and therefore has the best performance (since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.NumaDistOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NumaDistOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-machine.NumaDistOptions" title="Link to this definition"></a></dt>
<dd><p>Set the distance between 2 NUMA nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- source NUMA node.</p></li>
<li><p><strong>dst</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- destination NUMA node.</p></li>
<li><p><strong>val</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- NUMA distance from source node to destination node.  When a
node is unreachable from another node, set the distance between
them to 255.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CXLFixedMemoryWindowOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CXLFixedMemoryWindowOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-machine.CXLFixedMemoryWindowOptions" title="Link to this definition"></a></dt>
<dd><p>Create a CXL Fixed Memory Window</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Size of the Fixed Memory Window in bytes.  Must be a multiple
of 256MiB.</p></li>
<li><p><strong>interleave-granularity</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Number of contiguous bytes for which
accesses will go to a given interleave target.  Accepted values
[256, 512, 1k, 2k, 4k, 8k, 16k]</p></li>
<li><p><strong>targets</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Target root bridge IDs from -device ...,id=&lt;ID&gt; for each
root bridge.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CXLFMWProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CXLFMWProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-machine.CXLFMWProperties" title="Link to this definition"></a></dt>
<dd><p>List of CXL Fixed Memory Windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cxl-fmw</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.CXLFixedMemoryWindowOptions" title="QMP:machine.CXLFixedMemoryWindowOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CXLFixedMemoryWindowOptions</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of <a class="reference internal" href="#object-QMP-machine.CXLFixedMemoryWindowOptions" title="QMP:machine.CXLFixedMemoryWindowOptions"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">CXLFixedMemoryWindowOptions</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.X86CPURegister32">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">X86CPURegister32</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#enum-QMP-machine.X86CPURegister32" title="Link to this definition"></a></dt>
<dd><p>A X86 32-bit register</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>EAX</strong> -- Not documented</p></li>
<li><p><strong>EBX</strong> -- Not documented</p></li>
<li><p><strong>ECX</strong> -- Not documented</p></li>
<li><p><strong>EDX</strong> -- Not documented</p></li>
<li><p><strong>ESP</strong> -- Not documented</p></li>
<li><p><strong>EBP</strong> -- Not documented</p></li>
<li><p><strong>ESI</strong> -- Not documented</p></li>
<li><p><strong>EDI</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.X86CPUFeatureWordInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">X86CPUFeatureWordInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-machine.X86CPUFeatureWordInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a X86 CPU feature word</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpuid-input-eax</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Input EAX value for CPUID instruction for that
feature word</p></li>
<li><p><strong>cpuid-input-ecx</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Input ECX value for CPUID instruction for that
feature word</p></li>
<li><p><strong>cpuid-register</strong> (<span><a class="reference internal" href="#enum-QMP-machine.X86CPURegister32" title="QMP:machine.X86CPURegister32"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">X86CPURegister32</span></code></a></span>) -- Output register containing the feature bits</p></li>
<li><p><strong>features</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- value of output register, containing the feature bits</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.DummyForceArrays">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DummyForceArrays</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#object-QMP-machine.DummyForceArrays" title="Link to this definition"></a></dt>
<dd><p>Not used by QMP; hack to let us use X86CPUFeatureWordInfoList
internally</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unused</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.X86CPUFeatureWordInfo" title="QMP:machine.X86CPUFeatureWordInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">X86CPUFeatureWordInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.NumaCpuOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NumaCpuOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.10)</span></span><a class="headerlink" href="#object-QMP-machine.NumaCpuOptions" title="Link to this definition"></a></dt>
<dd><p>Option &quot;-numa cpu&quot; overrides default cpu to node mapping.  It accepts
the same set of cpu properties as returned by
<a class="reference internal" href="#command-QMP-machine.query-hotpluggable-cpus" title="QMP:machine.query-hotpluggable-cpus"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-hotpluggable-cpus[].props</span></code></a>, where
node-id could be used to override default node mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-machine.CpuInstanceProperties" title="QMP:machine.CpuInstanceProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuInstanceProperties</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.HmatLBMemoryHierarchy">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HmatLBMemoryHierarchy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#enum-QMP-machine.HmatLBMemoryHierarchy" title="Link to this definition"></a></dt>
<dd><p>The memory hierarchy in the System Locality Latency and Bandwidth
Information Structure of HMAT (Heterogeneous Memory Attribute Table)</p>
<p>For more information about <a class="reference internal" href="#enum-QMP-machine.HmatLBMemoryHierarchy" title="QMP:machine.HmatLBMemoryHierarchy"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">HmatLBMemoryHierarchy</span></code></a>, see chapter
5.2.27.4: Table 5-146: Field &quot;Flags&quot; of ACPI 6.3 spec.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>memory</strong> -- the structure represents the memory performance</p></li>
<li><p><strong>first-level</strong> -- first level of memory side cache</p></li>
<li><p><strong>second-level</strong> -- second level of memory side cache</p></li>
<li><p><strong>third-level</strong> -- third level of memory side cache</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.HmatLBDataType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HmatLBDataType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#enum-QMP-machine.HmatLBDataType" title="Link to this definition"></a></dt>
<dd><p>Data type in the System Locality Latency and Bandwidth Information
Structure of HMAT (Heterogeneous Memory Attribute Table)</p>
<p>For more information about <a class="reference internal" href="#enum-QMP-machine.HmatLBDataType" title="QMP:machine.HmatLBDataType"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">HmatLBDataType</span></code></a>, see chapter 5.2.27.4:
Table 5-146: Field &quot;Data Type&quot; of ACPI 6.3 spec.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>access-latency</strong> -- access latency (nanoseconds)</p></li>
<li><p><strong>read-latency</strong> -- read latency (nanoseconds)</p></li>
<li><p><strong>write-latency</strong> -- write latency (nanoseconds)</p></li>
<li><p><strong>access-bandwidth</strong> -- access bandwidth (Bytes per second)</p></li>
<li><p><strong>read-bandwidth</strong> -- read bandwidth (Bytes per second)</p></li>
<li><p><strong>write-bandwidth</strong> -- write bandwidth (Bytes per second)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.NumaHmatLBOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NumaHmatLBOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#object-QMP-machine.NumaHmatLBOptions" title="Link to this definition"></a></dt>
<dd><p>Set the system locality latency and bandwidth information between
Initiator and Target proximity Domains.</p>
<p>For more information about <a class="reference internal" href="#object-QMP-machine.NumaHmatLBOptions" title="QMP:machine.NumaHmatLBOptions"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">NumaHmatLBOptions</span></code></a>, see chapter 5.2.27.4:
Table 5-146 of ACPI 6.3 spec.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initiator</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the Initiator Proximity Domain.</p></li>
<li><p><strong>target</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the Target Proximity Domain.</p></li>
<li><p><strong>hierarchy</strong> (<span><a class="reference internal" href="#enum-QMP-machine.HmatLBMemoryHierarchy" title="QMP:machine.HmatLBMemoryHierarchy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HmatLBMemoryHierarchy</span></code></a></span>) -- the Memory Hierarchy.  Indicates the performance of
memory or side cache.</p></li>
<li><p><strong>data-type</strong> (<span><a class="reference internal" href="#enum-QMP-machine.HmatLBDataType" title="QMP:machine.HmatLBDataType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HmatLBDataType</span></code></a></span>) -- presents the type of data, access/read/write latency or
hit latency.</p></li>
<li><p><strong>latency</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the value of latency from <code class="docutils literal notranslate"><span class="pre">initiator</span></code> to <code class="docutils literal notranslate"><span class="pre">target</span></code> proximity
domain, the latency unit is &quot;ns(nanosecond)&quot;.</p></li>
<li><p><strong>bandwidth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the value of bandwidth between <code class="docutils literal notranslate"><span class="pre">initiator</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code>
proximity domain, the bandwidth unit is &quot;Bytes per second&quot;.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.HmatCacheAssociativity">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HmatCacheAssociativity</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#enum-QMP-machine.HmatCacheAssociativity" title="Link to this definition"></a></dt>
<dd><p>Cache associativity in the Memory Side Cache Information Structure
of HMAT</p>
<p>For more information of <a class="reference internal" href="#enum-QMP-machine.HmatCacheAssociativity" title="QMP:machine.HmatCacheAssociativity"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">HmatCacheAssociativity</span></code></a>, see chapter
5.2.27.5: Table 5-147 of ACPI 6.3 spec.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- None (no memory side cache in this proximity domain, or cache
associativity unknown)</p></li>
<li><p><strong>direct</strong> -- Direct Mapped</p></li>
<li><p><strong>complex</strong> -- Complex Cache Indexing (implementation specific)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.HmatCacheWritePolicy">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HmatCacheWritePolicy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#enum-QMP-machine.HmatCacheWritePolicy" title="Link to this definition"></a></dt>
<dd><p>Cache write policy in the Memory Side Cache Information Structure of
HMAT</p>
<p>For more information of <a class="reference internal" href="#enum-QMP-machine.HmatCacheWritePolicy" title="QMP:machine.HmatCacheWritePolicy"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">HmatCacheWritePolicy</span></code></a>, see chapter 5.2.27.5:
Table 5-147: Field &quot;Cache Attributes&quot; of ACPI 6.3 spec.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- None (no memory side cache in this proximity domain, or cache
write policy unknown)</p></li>
<li><p><strong>write-back</strong> -- Write Back (WB)</p></li>
<li><p><strong>write-through</strong> -- Write Through (WT)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.NumaHmatCacheOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NumaHmatCacheOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.0)</span></span><a class="headerlink" href="#object-QMP-machine.NumaHmatCacheOptions" title="Link to this definition"></a></dt>
<dd><p>Set the memory side cache information for a given memory domain.</p>
<p>For more information of <a class="reference internal" href="#object-QMP-machine.NumaHmatCacheOptions" title="QMP:machine.NumaHmatCacheOptions"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">NumaHmatCacheOptions</span></code></a>, see chapter 5.2.27.5:
Table 5-147: Field &quot;Cache Attributes&quot; of ACPI 6.3 spec.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the memory proximity domain to which the memory belongs.</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the size of memory side cache in bytes.</p></li>
<li><p><strong>level</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the cache level described in this structure.</p></li>
<li><p><strong>associativity</strong> (<span><a class="reference internal" href="#enum-QMP-machine.HmatCacheAssociativity" title="QMP:machine.HmatCacheAssociativity"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HmatCacheAssociativity</span></code></a></span>) -- the cache associativity,
none/direct-mapped/complex(complex cache indexing).</p></li>
<li><p><strong>policy</strong> (<span><a class="reference internal" href="#enum-QMP-machine.HmatCacheWritePolicy" title="QMP:machine.HmatCacheWritePolicy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HmatCacheWritePolicy</span></code></a></span>) -- the write policy, none/write-back/write-through.</p></li>
<li><p><strong>line</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the cache line size in bytes.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.memsave">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memsave</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-machine.memsave" title="Link to this definition"></a></dt>
<dd><p>Save a portion of guest memory to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the virtual address of the guest to start from</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the size of memory region to save</p></li>
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the file to save the memory to as binary data</p></li>
<li><p><strong>cpu-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the index of the virtual CPU to use for translating the
virtual address (defaults to CPU 0)</p></li>
</ul>
</dd>
</dl>
<div class="admonition caution">
<p class="admonition-title">小心</p>
<p>Errors were not reliably returned until 1.1.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;memsave&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;val&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/virtual-mem-dump&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.pmemsave">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pmemsave</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-machine.pmemsave" title="Link to this definition"></a></dt>
<dd><p>Save a portion of guest physical memory to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the physical address of the guest to start from</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the size of memory region to save</p></li>
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the file to save the memory to as binary data</p></li>
</ul>
</dd>
</dl>
<div class="admonition caution">
<p class="admonition-title">小心</p>
<p>Errors were not reliably returned until 1.1.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pmemsave&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;val&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/physical-mem-dump&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.Memdev">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Memdev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-machine.Memdev" title="Link to this definition"></a></dt>
<dd><p>Information about memory backend</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- backend's ID if backend has 'id' property (since 2.9)</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- memory backend size</p></li>
<li><p><strong>merge</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether memory merge support is enabled</p></li>
<li><p><strong>dump</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether memory backend's memory is included in a core dump</p></li>
<li><p><strong>prealloc</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether memory was preallocated</p></li>
<li><p><strong>share</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether memory is private to QEMU or shared (since 6.1)</p></li>
<li><p><strong>reserve</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether swap space (or huge pages) was reserved if
applicable.  This corresponds to the user configuration and not
the actual behavior implemented in the OS to perform the
reservation.  For example, Linux will never reserve swap space
for shared file mappings.  (since 6.1)</p></li>
<li><p><strong>host-nodes</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- host nodes for its memory policy</p></li>
<li><p><strong>policy</strong> (<span><a class="reference internal" href="#enum-QMP-common.HostMemPolicy" title="QMP:common.HostMemPolicy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HostMemPolicy</span></code></a></span>) -- memory policy of memory backend</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-memdev">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-memdev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#command-QMP-machine.query-memdev" title="Link to this definition"></a></dt>
<dd><p>Return information for all memory backends.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.Memdev" title="QMP:machine.Memdev"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Memdev</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-memdev&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mem1&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">536870912</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;merge&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;dump&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;prealloc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;share&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;host-nodes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;policy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bind&quot;</span>
<span class="w">       </span><span class="p">},</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">536870912</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;merge&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;dump&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;prealloc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;share&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;host-nodes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;policy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;preferred&quot;</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">     </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CpuInstanceProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuInstanceProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#object-QMP-machine.CpuInstanceProperties" title="Link to this definition"></a></dt>
<dd><p>Properties identifying a CPU.</p>
<p>Which members are optional and which mandatory depends on the
architecture and board.</p>
<p>For s390x see <a class="reference internal" href="../system/s390x/cpu-topology.html#cpu-topology-s390x"><span class="std std-ref">CPU topology on s390x</span></a>.</p>
<p>The ids other than the node-id specify the position of the CPU
within the CPU topology (as defined by the machine property &quot;smp&quot;,
thus see also type <a class="reference internal" href="#object-QMP-machine.SMPConfiguration" title="QMP:machine.SMPConfiguration"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">SMPConfiguration</span></code></a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- NUMA node ID the CPU belongs to</p></li>
<li><p><strong>drawer-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- drawer number within CPU topology the CPU belongs to
(since 8.2)</p></li>
<li><p><strong>book-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- book number within parent container the CPU belongs to
(since 8.2)</p></li>
<li><p><strong>socket-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- socket number within parent container the CPU belongs to</p></li>
<li><p><strong>die-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- die number within the parent container the CPU belongs to
(since 4.1)</p></li>
<li><p><strong>cluster-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- cluster number within the parent container the CPU
belongs to (since 7.1)</p></li>
<li><p><strong>module-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- module number within the parent container the CPU
belongs to (since 9.1)</p></li>
<li><p><strong>core-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- core number within the parent container the CPU belongs to</p></li>
<li><p><strong>thread-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- thread number within the core the CPU  belongs to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.HotpluggableCPU">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HotpluggableCPU</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#object-QMP-machine.HotpluggableCPU" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- CPU object type for usage with <a class="reference internal" href="#command-QMP-qdev.device_add" title="QMP:qdev.device_add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">device_add</span></code></a> command</p></li>
<li><p><strong>props</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuInstanceProperties" title="QMP:machine.CpuInstanceProperties"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuInstanceProperties</span></code></a></span>) -- list of properties to pass for hotplugging a CPU with
<a class="reference internal" href="#command-QMP-qdev.device_add" title="QMP:qdev.device_add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">device_add</span></code></a></p></li>
<li><p><strong>vcpus-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- number of logical VCPU threads <a class="reference internal" href="#object-QMP-machine.HotpluggableCPU" title="QMP:machine.HotpluggableCPU"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">HotpluggableCPU</span></code></a>
provides</p></li>
<li><p><strong>qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- link to existing CPU object if CPU is present or omitted
if CPU is not present.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Management should be prepared to pass through additional
properties with <a class="reference internal" href="#command-QMP-qdev.device_add" title="QMP:qdev.device_add"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">device_add</span></code></a>.</p>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-hotpluggable-cpus">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-hotpluggable-cpus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.7)</span></span><a class="headerlink" href="#command-QMP-machine.query-hotpluggable-cpus" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.HotpluggableCPU" title="QMP:machine.HotpluggableCPU"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HotpluggableCPU</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>For pseries machine type started with
<code class="docutils literal notranslate"><span class="pre">-smp</span> <span class="pre">2,cores=2,maxcpus=4</span> <span class="pre">-cpu</span> <span class="pre">POWER8</span></code>:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-hotpluggable-cpus&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;core-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;POWER8-spapr-cpu-core&quot;</span><span class="p">,</span>
<span class="w">       </span><span class="nt">&quot;vcpus-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;core-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;POWER8-spapr-cpu-core&quot;</span><span class="p">,</span>
<span class="w">       </span><span class="nt">&quot;vcpus-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[0]&quot;</span><span class="p">}</span>
<span class="w">   </span><span class="p">]}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>For pc machine type started with <code class="docutils literal notranslate"><span class="pre">-smp</span> <span class="pre">1,maxcpus=2</span></code>:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-hotpluggable-cpus&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu64-x86_64-cpu&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vcpus-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;core-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;socket-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;thread-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
<span class="w">     </span><span class="p">},</span>
<span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[0]&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu64-x86_64-cpu&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vcpus-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;core-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;socket-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;thread-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">]}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>For s390x-virtio-ccw machine type started with
<code class="docutils literal notranslate"><span class="pre">-smp</span> <span class="pre">1,maxcpus=2</span> <span class="pre">-cpu</span> <span class="pre">qemu</span></code>:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-hotpluggable-cpus&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu-s390x-cpu&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vcpus-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;core-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span>
<span class="w">     </span><span class="p">},</span>
<span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[0]&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu-s390x-cpu&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;vcpus-count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;props&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;core-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.set-numa-node">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set-numa-node</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-machine.set-numa-node" title="Link to this definition"></a></dt>
<dd><p>Runtime equivalent of '-numa' CLI option, available at preconfigure
stage to configure numa mapping before initializing machine.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-machine.NumaOptions" title="QMP:machine.NumaOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NumaOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.balloon">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">balloon</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-machine.balloon" title="Link to this definition"></a></dt>
<dd><p>Request the balloon driver to change its balloon size.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- <p>the target logical size of the VM in bytes.  We can deduce
the size of the balloon using this formula:</p>
<blockquote>
<div><p>logical_vm_size = vm_ram_size - balloon_size</p>
</div></blockquote>
<p>From it we have: balloon_size = vm_ram_size - <code class="docutils literal notranslate"><span class="pre">value</span></code></p>
</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If the balloon driver is enabled but not functional because
the KVM kernel module cannot support it, KVMMissingCap</p></li>
<li><p>If no balloon device is present, DeviceNotActive</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This command just issues a request to the guest.  When it
returns, the balloon size may not have changed.  A guest can
change the balloon size independent of this command.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;balloon&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">536870912</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>With a 2.5GiB guest this command inflated the ballon to 3GiB.</p>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.BalloonInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BalloonInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-machine.BalloonInfo" title="Link to this definition"></a></dt>
<dd><p>Information about the guest balloon device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the logical size of the VM in bytes.  Formula used:
logical_vm_size = vm_ram_size - balloon_size</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-balloon">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-balloon</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-machine.query-balloon" title="Link to this definition"></a></dt>
<dd><p>Return information about the balloon device.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-machine.BalloonInfo" title="QMP:machine.BalloonInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">BalloonInfo</span></code></a></span></p>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If the balloon driver is enabled but not functional because
the KVM kernel module cannot support it, KVMMissingCap</p></li>
<li><p>If no balloon device is present, DeviceNotActive</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-balloon&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;actual&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1073741824</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-machine.BALLOON_CHANGE">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BALLOON_CHANGE</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#event-QMP-machine.BALLOON_CHANGE" title="Link to this definition"></a></dt>
<dd><p>Emitted when the guest changes the actual BALLOON level.  This value
is equivalent to the <code class="docutils literal notranslate"><span class="pre">actual</span></code> field return by the <a class="reference internal" href="#command-QMP-machine.query-balloon" title="QMP:machine.query-balloon"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-balloon</span></code></a>
command</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the logical size of the VM in bytes.  Formula used:
logical_vm_size = vm_ram_size - balloon_size</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BALLOON_CHANGE&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;actual&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">944766976</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267020223</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">435656</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.HvBalloonInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HvBalloonInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-machine.HvBalloonInfo" title="Link to this definition"></a></dt>
<dd><p>hv-balloon guest-provided memory status information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>committed</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the amount of memory in use inside the guest plus the
amount of the memory unusable inside the guest (ballooned out,
offline, etc.)</p></li>
<li><p><strong>available</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the amount of the memory inside the guest available for
new allocations (&quot;free&quot;)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-hv-balloon-status-report">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-hv-balloon-status-report</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#command-QMP-machine.query-hv-balloon-status-report" title="Link to this definition"></a></dt>
<dd><p>Return the hv-balloon driver data contained in the last received
&quot;STATUS&quot; message from the guest.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-machine.HvBalloonInfo" title="QMP:machine.HvBalloonInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HvBalloonInfo</span></code></a></span></p>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If no hv-balloon device is present, guest memory status
reporting is not enabled or no guest memory status report
received yet, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-hv-balloon-status-report&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;committed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">816640000</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;available&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3333054464</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-machine.HV_BALLOON_STATUS_REPORT">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HV_BALLOON_STATUS_REPORT</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#event-QMP-machine.HV_BALLOON_STATUS_REPORT" title="Link to this definition"></a></dt>
<dd><p>Emitted when the hv-balloon driver receives a &quot;STATUS&quot; message from
the guest.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-machine.HvBalloonInfo" title="QMP:machine.HvBalloonInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HvBalloonInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HV_BALLOON_STATUS_REPORT&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;committed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">816640000</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;available&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3333054464</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1600295492</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">661044</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.MemoryInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#object-QMP-machine.MemoryInfo" title="Link to this definition"></a></dt>
<dd><p>Actual memory information in bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base-memory</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- size of &quot;base&quot; memory specified with command line
option -m.</p></li>
<li><p><strong>plugged-memory</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- size of memory that can be hot-unplugged.  This
field is omitted if target doesn't support memory hotplug (i.e.
CONFIG_MEM_DEVICE not defined at build time).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-memory-size-summary">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-memory-size-summary</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.11)</span></span><a class="headerlink" href="#command-QMP-machine.query-memory-size-summary" title="Link to this definition"></a></dt>
<dd><p>Return the amount of initially allocated and present hotpluggable
(if enabled) memory in bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-machine.MemoryInfo" title="QMP:machine.MemoryInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-memory-size-summary&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;base-memory&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967296</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;plugged-memory&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.PCDIMMDeviceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PCDIMMDeviceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-machine.PCDIMMDeviceInfo" title="Link to this definition"></a></dt>
<dd><p>PCDIMMDevice state information</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- device's ID</p></li>
<li><p><strong>addr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- physical address, where device is mapped</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- size of memory that the device provides</p></li>
<li><p><strong>slot</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- slot number at which device is plugged in</p></li>
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- NUMA node number where device is plugged in</p></li>
<li><p><strong>memdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- memory backend linked with device</p></li>
<li><p><strong>hotplugged</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if device was hotplugged</p></li>
<li><p><strong>hotpluggable</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if device if could be added/removed while
machine is running</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.VirtioPMEMDeviceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioPMEMDeviceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.1)</span></span><a class="headerlink" href="#object-QMP-machine.VirtioPMEMDeviceInfo" title="Link to this definition"></a></dt>
<dd><p>VirtioPMEM state information</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- device's ID</p></li>
<li><p><strong>memaddr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- physical address in memory, where device is mapped</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- size of memory that the device provides</p></li>
<li><p><strong>memdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- memory backend linked with device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.VirtioMEMDeviceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioMEMDeviceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-machine.VirtioMEMDeviceInfo" title="Link to this definition"></a></dt>
<dd><p>VirtioMEMDevice state information</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- device's ID</p></li>
<li><p><strong>memaddr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- physical address in memory, where device is mapped</p></li>
<li><p><strong>requested-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the user requested size of the device</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the (current) size of memory that the device provides</p></li>
<li><p><strong>max-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the maximum size of memory that the device can provide</p></li>
<li><p><strong>block-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the block size of memory that the device provides</p></li>
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- NUMA node number where device is assigned to</p></li>
<li><p><strong>memdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- memory backend linked with the region</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.SgxEPCDeviceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SgxEPCDeviceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-machine.SgxEPCDeviceInfo" title="Link to this definition"></a></dt>
<dd><p>Sgx EPC state information</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- device's ID</p></li>
<li><p><strong>memaddr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- physical address in memory, where device is mapped</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- size of memory that the device provides</p></li>
<li><p><strong>memdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- memory backend linked with device</p></li>
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the numa node (Since: 7.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.HvBalloonDeviceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HvBalloonDeviceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-machine.HvBalloonDeviceInfo" title="Link to this definition"></a></dt>
<dd><p>hv-balloon provided memory state information</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- device's ID</p></li>
<li><p><strong>memaddr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- physical address in memory, where device is mapped</p></li>
<li><p><strong>max-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the maximum size of memory that the device can provide</p></li>
<li><p><strong>memdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- memory backend linked with device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.MemoryDeviceInfoKind">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryDeviceInfoKind</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#enum-QMP-machine.MemoryDeviceInfoKind" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nvdimm</strong> -- since 2.12</p></li>
<li><p><strong>virtio-pmem</strong> -- since 4.1</p></li>
<li><p><strong>virtio-mem</strong> -- since 5.1</p></li>
<li><p><strong>sgx-epc</strong> -- since 6.2.</p></li>
<li><p><strong>hv-balloon</strong> -- since 8.2.</p></li>
<li><p><strong>dimm</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.PCDIMMDeviceInfoWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PCDIMMDeviceInfoWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-machine.PCDIMMDeviceInfoWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-machine.PCDIMMDeviceInfo" title="QMP:machine.PCDIMMDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PCDIMMDeviceInfo</span></code></a></span>) -- PCDIMMDevice state information</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.VirtioPMEMDeviceInfoWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioPMEMDeviceInfoWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-machine.VirtioPMEMDeviceInfoWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-machine.VirtioPMEMDeviceInfo" title="QMP:machine.VirtioPMEMDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioPMEMDeviceInfo</span></code></a></span>) -- VirtioPMEM state information</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.VirtioMEMDeviceInfoWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioMEMDeviceInfoWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-machine.VirtioMEMDeviceInfoWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-machine.VirtioMEMDeviceInfo" title="QMP:machine.VirtioMEMDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioMEMDeviceInfo</span></code></a></span>) -- VirtioMEMDevice state information</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.SgxEPCDeviceInfoWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SgxEPCDeviceInfoWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-machine.SgxEPCDeviceInfoWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-machine.SgxEPCDeviceInfo" title="QMP:machine.SgxEPCDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SgxEPCDeviceInfo</span></code></a></span>) -- Sgx EPC state information</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.HvBalloonDeviceInfoWrapper">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HvBalloonDeviceInfoWrapper</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-machine.HvBalloonDeviceInfoWrapper" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><a class="reference internal" href="#object-QMP-machine.HvBalloonDeviceInfo" title="QMP:machine.HvBalloonDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HvBalloonDeviceInfo</span></code></a></span>) -- hv-balloon provided memory state information</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.MemoryDeviceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemoryDeviceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-machine.MemoryDeviceInfo" title="Link to this definition"></a></dt>
<dd><p>Union containing information about a memory device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-machine.MemoryDeviceInfoKind" title="QMP:machine.MemoryDeviceInfoKind"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryDeviceInfoKind</span></code></a></span>) -- memory device type</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">dimm</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.PCDIMMDeviceInfoWrapper" title="QMP:machine.PCDIMMDeviceInfoWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PCDIMMDeviceInfoWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">nvdimm</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.PCDIMMDeviceInfoWrapper" title="QMP:machine.PCDIMMDeviceInfoWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PCDIMMDeviceInfoWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">virtio-pmem</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.VirtioPMEMDeviceInfoWrapper" title="QMP:machine.VirtioPMEMDeviceInfoWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioPMEMDeviceInfoWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">virtio-mem</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.VirtioMEMDeviceInfoWrapper" title="QMP:machine.VirtioMEMDeviceInfoWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioMEMDeviceInfoWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">sgx-epc</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.SgxEPCDeviceInfoWrapper" title="QMP:machine.SgxEPCDeviceInfoWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SgxEPCDeviceInfoWrapper</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">hv-balloon</span></code>: The members of <a class="reference internal" href="#object-QMP-machine.HvBalloonDeviceInfoWrapper" title="QMP:machine.HvBalloonDeviceInfoWrapper"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HvBalloonDeviceInfoWrapper</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.SgxEPC">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SgxEPC</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-machine.SgxEPC" title="Link to this definition"></a></dt>
<dd><p>Sgx EPC cmdline information</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>memdev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- memory backend linked with device</p></li>
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the numa node (Since: 7.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.SgxEPCProperties">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SgxEPCProperties</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-machine.SgxEPCProperties" title="Link to this definition"></a></dt>
<dd><p>SGX properties of machine types.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sgx-epc</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.SgxEPC" title="QMP:machine.SgxEPC"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SgxEPC</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of ids of memory-backend-epc objects.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-memory-devices">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-memory-devices</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#command-QMP-machine.query-memory-devices" title="Link to this definition"></a></dt>
<dd><p>Lists available memory devices and their state</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.MemoryDeviceInfo" title="QMP:machine.MemoryDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">MemoryDeviceInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-memory-devices&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span>
<span class="w">                      </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5368709120</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;hotpluggable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;hotplugged&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;memdev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/objects/memX&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1073741824</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
<span class="w">                   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dimm&quot;</span>
<span class="w">                 </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-machine.MEMORY_DEVICE_SIZE_CHANGE">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MEMORY_DEVICE_SIZE_CHANGE</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#event-QMP-machine.MEMORY_DEVICE_SIZE_CHANGE" title="Link to this definition"></a></dt>
<dd><p>Emitted when the size of a memory device changes.  Only emitted for
memory devices that can actually change the size (e.g., virtio-mem
due to guest action).</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- device's ID</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the new size of memory that the device provides</p></li>
<li><p><strong>qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the device object in the QOM tree (since 6.2)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEMORY_DEVICE_SIZE_CHANGE&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vm0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1073741824</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/unattached/device[2]&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1588168529</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">201316</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.BootConfiguration">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BootConfiguration</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-machine.BootConfiguration" title="Link to this definition"></a></dt>
<dd><p>Schema for virtual machine boot configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Boot order (a=floppy, c=hard disk, d=CD-ROM, n=network)</p></li>
<li><p><strong>once</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Boot order to apply on first boot</p></li>
<li><p><strong>menu</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether to show a boot menu</p></li>
<li><p><strong>splash</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name of the file to be passed to the firmware as logo
picture, if <code class="docutils literal notranslate"><span class="pre">menu</span></code> is true.</p></li>
<li><p><strong>splash-time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- How long to show the logo picture, in milliseconds</p></li>
<li><p><strong>reboot-timeout</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Timeout before guest reboots after boot fails</p></li>
<li><p><strong>strict</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Whether to attempt booting from devices not included in the
boot order</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.SMPConfiguration">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SMPConfiguration</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-machine.SMPConfiguration" title="Link to this definition"></a></dt>
<dd><p>Schema for CPU topology configuration.  A missing value lets QEMU
figure out a suitable value based on the ones that are provided.</p>
<p>The members other than <code class="docutils literal notranslate"><span class="pre">cpus</span></code> and <code class="docutils literal notranslate"><span class="pre">maxcpus</span></code> define a topology of
containers.</p>
<p>The ordering from highest/coarsest to lowest/finest is: <code class="docutils literal notranslate"><span class="pre">drawers</span></code>,
<code class="docutils literal notranslate"><span class="pre">books</span></code>, <code class="docutils literal notranslate"><span class="pre">sockets</span></code>, <code class="docutils literal notranslate"><span class="pre">dies</span></code>, <code class="docutils literal notranslate"><span class="pre">clusters</span></code>, <code class="docutils literal notranslate"><span class="pre">cores</span></code>, <code class="docutils literal notranslate"><span class="pre">threads</span></code>.</p>
<p>Different architectures support different subsets of topology
containers.</p>
<p>For example, s390x does not have clusters and dies, and the socket
is the parent container of cores.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpus</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of virtual CPUs in the virtual machine</p></li>
<li><p><strong>maxcpus</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum number of hotpluggable virtual CPUs in the virtual
machine</p></li>
<li><p><strong>drawers</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of drawers in the CPU topology (since 8.2)</p></li>
<li><p><strong>books</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of books in the CPU topology (since 8.2)</p></li>
<li><p><strong>sockets</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of sockets per parent container</p></li>
<li><p><strong>dies</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of dies per parent container</p></li>
<li><p><strong>clusters</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of clusters per parent container (since 7.0)</p></li>
<li><p><strong>modules</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of modules per parent container (since 9.1)</p></li>
<li><p><strong>cores</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of cores per parent container</p></li>
<li><p><strong>threads</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of threads per core</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.x-query-irq">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-irq</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#command-QMP-machine.x-query-irq" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Query interrupt statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-common.HumanReadableText" title="QMP:common.HumanReadableText"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></span> -- interrupt statistics</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.x-query-jit">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-jit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#command-QMP-machine.x-query-jit" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_TCG</span></code></div>
</div>
<p>Query TCG compiler statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-common.HumanReadableText" title="QMP:common.HumanReadableText"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></span> -- TCG compiler statistics</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.x-query-numa">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-numa</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#command-QMP-machine.x-query-numa" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Query NUMA topology information</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-common.HumanReadableText" title="QMP:common.HumanReadableText"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></span> -- topology information</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.x-query-ramblock">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-ramblock</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#command-QMP-machine.x-query-ramblock" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Query system ramblock information</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-common.HumanReadableText" title="QMP:common.HumanReadableText"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></span> -- system ramblock information</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.x-query-roms">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-roms</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#command-QMP-machine.x-query-roms" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Query information on the registered ROMS</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-common.HumanReadableText" title="QMP:common.HumanReadableText"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></span> -- registered ROMs</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.x-query-usb">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-usb</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#command-QMP-machine.x-query-usb" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Query information on the USB devices</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-common.HumanReadableText" title="QMP:common.HumanReadableText"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></span> -- USB device information</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.SmbiosEntryPointType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SmbiosEntryPointType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#enum-QMP-machine.SmbiosEntryPointType" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>32</strong> -- SMBIOS version 2.1 (32-bit) Entry Point</p></li>
<li><p><strong>64</strong> -- SMBIOS version 3.0 (64-bit) Entry Point</p></li>
<li><p><strong>auto</strong> -- Either 2.x or 3.x SMBIOS version, 2.x if configuration can be
described by it and 3.x otherwise (since: 9.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.MemorySizeConfiguration">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MemorySizeConfiguration</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-machine.MemorySizeConfiguration" title="Link to this definition"></a></dt>
<dd><p>Schema for memory size configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- memory size in bytes</p></li>
<li><p><strong>max-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- maximum hotpluggable memory size in bytes</p></li>
<li><p><strong>slots</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of available memory slots for hotplug</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.dumpdtb">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dumpdtb</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#command-QMP-machine.dumpdtb" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_FDT</span></code></div>
</div>
<p>Save the FDT in dtb format.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the dtb file to be created</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dumpdtb&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fdt.dtb&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.x-query-interrupt-controllers">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-interrupt-controllers</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#command-QMP-machine.x-query-interrupt-controllers" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Query information on interrupt controller devices</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-common.HumanReadableText" title="QMP:common.HumanReadableText"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">HumanReadableText</span></code></a></span> -- Interrupt controller devices information</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.dump-skeys">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dump-skeys</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#command-QMP-machine.dump-skeys" title="Link to this definition"></a></dt>
<dd><p>Dump the storage keys for an s390x guest</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the path to the file to dump to</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dump-skeys&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/skeys&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CpuModelInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuModelInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-machine.CpuModelInfo" title="Link to this definition"></a></dt>
<dd><p>Virtual CPU model.</p>
<p>A CPU model consists of the name of a CPU definition, to which delta
changes are applied (e.g. features added/removed).  Most magic
values that an architecture might require should be hidden behind
the name.  However, if required, architectures can expose relevant
properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the CPU definition the model is based on</p></li>
<li><p><strong>props</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">value</span></code>, <em>optional</em></span>) -- a dictionary of QOM properties to be applied</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.CpuModelExpansionType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuModelExpansionType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#enum-QMP-machine.CpuModelExpansionType" title="Link to this definition"></a></dt>
<dd><p>An enumeration of CPU model expansion types.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>static</strong> -- Expand to a static CPU model, a combination of a static
base model name and property delta changes.  As the static base
model will never change, the expanded CPU model will be the
same, independent of QEMU version, machine type, machine
options, and accelerator options.  Therefore, the resulting
model can be used by tooling without having to specify a
compatibility machine - e.g. when displaying the &quot;host&quot; model.
The <code class="docutils literal notranslate"><span class="pre">static</span></code> CPU models are migration-safe.</p></li>
<li><p><strong>full</strong> -- Expand all properties.  The produced model is not guaranteed
to be migration-safe, but allows tooling to get an insight and
work with model details.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>When a non-migration-safe CPU model is expanded in static
mode, some features enabled by the CPU model may be omitted,
because they can't be implemented by a static CPU model
definition (e.g. cache info passthrough and PMU passthrough in
x86).  If you need an accurate representation of the features
enabled by a non-migration-safe CPU model, use <code class="docutils literal notranslate"><span class="pre">full</span></code>.  If you
need a static representation that will keep ABI compatibility
even when changing QEMU version or machine-type, use <code class="docutils literal notranslate"><span class="pre">static</span></code> (but
keep in mind that some features may be omitted).</p>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-machine.CpuModelCompareResult">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuModelCompareResult</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#enum-QMP-machine.CpuModelCompareResult" title="Link to this definition"></a></dt>
<dd><p>An enumeration of CPU model comparison results.  The result is
usually calculated using e.g. CPU features or CPU generations.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>incompatible</strong> -- If model A is incompatible to model B, model A is not
guaranteed to run where model B runs and the other way around.</p></li>
<li><p><strong>identical</strong> -- If model A is identical to model B, model A is
guaranteed to run where model B runs and the other way around.</p></li>
<li><p><strong>superset</strong> -- If model A is a superset of model B, model B is
guaranteed to run where model A runs.  There are no guarantees
about the other way.</p></li>
<li><p><strong>subset</strong> -- If model A is a subset of model B, model A is guaranteed to
run where model B runs.  There are no guarantees about the other
way.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CpuModelBaselineInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuModelBaselineInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-machine.CpuModelBaselineInfo" title="Link to this definition"></a></dt>
<dd><p>The result of a CPU model baseline.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a></span>) -- the baselined <a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CpuModelCompareInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuModelCompareInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-machine.CpuModelCompareInfo" title="Link to this definition"></a></dt>
<dd><p>The result of a CPU model comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result</strong> (<span><a class="reference internal" href="#enum-QMP-machine.CpuModelCompareResult" title="QMP:machine.CpuModelCompareResult"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelCompareResult</span></code></a></span>) -- The result of the compare operation.</p></li>
<li><p><strong>responsible-properties</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of properties that led to the
comparison result not being identical.</p></li>
</ul>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">responsible-properties</span></code> is a list of QOM property names that led to
both CPUs not being detected as identical.  For identical models,
this list is empty.  If a QOM property is read-only, that means
there's no known way to make the CPU models identical.  If the
special property name &quot;type&quot; is included, the models are by
definition not identical and cannot be made identical.</p>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-cpu-model-comparison">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-cpu-model-comparison</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#command-QMP-machine.query-cpu-model-comparison" title="Link to this definition"></a></dt>
<dd><p>Compares two CPU models, <code class="docutils literal notranslate"><span class="pre">modela</span></code> and <code class="docutils literal notranslate"><span class="pre">modelb</span></code>, returning how they
compare in a specific configuration.  The results indicates how
both models compare regarding runnability.  This result can be
used by tooling to make decisions if a certain CPU model will
run in a certain configuration or if a compatible CPU model has
to be created by baselining.</p>
<p>Usually, a CPU model is compared against the maximum possible CPU
model of a certain configuration (e.g. the &quot;host&quot; model for KVM).
If that CPU model is identical or a subset, it will run in that
configuration.</p>
<p>The result returned by this command may be affected by:</p>
<ul class="simple">
<li><p>QEMU version: CPU models may look different depending on the QEMU
version.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>machine-type: CPU model may look different depending on the
machine-type.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>machine options (including accelerator): in some architectures,
CPU models may look different depending on machine and accelerator
options.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>&quot;-cpu&quot; arguments and global properties: arguments to the -cpu
option and global properties may affect expansion of CPU models.
Using <a class="reference internal" href="#command-QMP-machine.query-cpu-model-expansion" title="QMP:machine.query-cpu-model-expansion"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-model-expansion</span></code></a> while using these is not advised.</p></li>
</ul>
<p>Some architectures may not support comparing CPU models.  s390x
supports comparing CPU models.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modela</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a></span>) -- description of the first CPU model to compare, referred to
as &quot;model A&quot; in <a class="reference internal" href="#enum-QMP-machine.CpuModelCompareResult" title="QMP:machine.CpuModelCompareResult"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">CpuModelCompareResult</span></code></a></p></li>
<li><p><strong>modelb</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a></span>) -- description of the second CPU model to compare, referred to
as &quot;model B&quot; in <a class="reference internal" href="#enum-QMP-machine.CpuModelCompareResult" title="QMP:machine.CpuModelCompareResult"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">CpuModelCompareResult</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-machine.CpuModelCompareInfo" title="QMP:machine.CpuModelCompareInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelCompareInfo</span></code></a></span> -- a <a class="reference internal" href="#object-QMP-machine.CpuModelCompareInfo" title="QMP:machine.CpuModelCompareInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">CpuModelCompareInfo</span></code></a> describing how both CPU models
compare</p>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>if comparing CPU models is not supported by the target</p></li>
<li><p>if a model cannot be used</p></li>
<li><p>if a model contains an unknown cpu definition name, unknown
properties or properties with wrong types.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-cpu-model-baseline">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-cpu-model-baseline</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#command-QMP-machine.query-cpu-model-baseline" title="Link to this definition"></a></dt>
<dd><p>Baseline two CPU models, <code class="docutils literal notranslate"><span class="pre">modela</span></code> and <code class="docutils literal notranslate"><span class="pre">modelb</span></code>, creating a compatible
third model.  The created model will always be a static,
migration-safe CPU model (see &quot;static&quot; CPU model expansion for
details).</p>
<p>This interface can be used by tooling to create a compatible CPU
model out two CPU models.  The created CPU model will be identical
to or a subset of both CPU models when comparing them.  Therefore,
the created CPU model is guaranteed to run where the given CPU
models run.</p>
<p>The result returned by this command may be affected by:</p>
<ul class="simple">
<li><p>QEMU version: CPU models may look different depending on the QEMU
version.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>machine-type: CPU model may look different depending on the
machine-type.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>machine options (including accelerator): in some architectures,
CPU models may look different depending on machine and accelerator
options.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>&quot;-cpu&quot; arguments and global properties: arguments to the -cpu
option and global properties may affect expansion of CPU models.
Using <a class="reference internal" href="#command-QMP-machine.query-cpu-model-expansion" title="QMP:machine.query-cpu-model-expansion"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-model-expansion</span></code></a> while using these is not advised.</p></li>
</ul>
<p>Some architectures may not support baselining CPU models.  s390x
supports baselining CPU models.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modela</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a></span>) -- description of the first CPU model to baseline</p></li>
<li><p><strong>modelb</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a></span>) -- description of the second CPU model to baseline</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-machine.CpuModelBaselineInfo" title="QMP:machine.CpuModelBaselineInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelBaselineInfo</span></code></a></span> -- a <a class="reference internal" href="#object-QMP-machine.CpuModelBaselineInfo" title="QMP:machine.CpuModelBaselineInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">CpuModelBaselineInfo</span></code></a> describing the baselined CPU model</p>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>if baselining CPU models is not supported by the target</p></li>
<li><p>if a model cannot be used</p></li>
<li><p>if a model contains an unknown cpu definition name, unknown
properties or properties with wrong types.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CpuModelExpansionInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuModelExpansionInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#object-QMP-machine.CpuModelExpansionInfo" title="Link to this definition"></a></dt>
<dd><p>The result of a cpu model expansion.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a></span>) -- the expanded <a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a>.</p></li>
<li><p><strong>deprecated-props</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- an optional list of properties that are flagged as
deprecated by the CPU vendor.  The list depends on the
<a class="reference internal" href="#enum-QMP-machine.CpuModelExpansionType" title="QMP:machine.CpuModelExpansionType"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">CpuModelExpansionType</span></code></a>: &quot;static&quot; properties are a subset of the
enabled-properties for the expanded model; &quot;full&quot; properties are
a set of properties that are deprecated across all models for
the architecture.  (since: 10.1 -- since 9.1 on s390x --).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-cpu-model-expansion">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-cpu-model-expansion</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.8)</span></span><a class="headerlink" href="#command-QMP-machine.query-cpu-model-expansion" title="Link to this definition"></a></dt>
<dd><p>Expands a given CPU model, <code class="docutils literal notranslate"><span class="pre">model</span></code>, (or a combination of CPU model +
additional options) to different granularities, specified by <code class="docutils literal notranslate"><span class="pre">type</span></code>,
allowing tooling to get an understanding what a specific CPU model
looks like in QEMU under a certain configuration.</p>
<p>This interface can be used to query the &quot;host&quot; CPU model.</p>
<p>The data returned by this command may be affected by:</p>
<ul class="simple">
<li><p>QEMU version: CPU models may look different depending on the QEMU
version.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>machine-type: CPU model may look different depending on the
machine-type.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>machine options (including accelerator): in some architectures,
CPU models may look different depending on machine and accelerator
options.  (Except for CPU models reported as &quot;static&quot; in
<a class="reference internal" href="#command-QMP-machine.query-cpu-definitions" title="QMP:machine.query-cpu-definitions"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-definitions</span></code></a>.)</p></li>
<li><p>&quot;-cpu&quot; arguments and global properties: arguments to the -cpu
option and global properties may affect expansion of CPU models.
Using <a class="reference internal" href="#command-QMP-machine.query-cpu-model-expansion" title="QMP:machine.query-cpu-model-expansion"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-cpu-model-expansion</span></code></a> while using these is not advised.</p></li>
</ul>
<p>Some architectures may not support all expansion types.  s390x
supports &quot;full&quot; and &quot;static&quot;.  Arm only supports &quot;full&quot;.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<span><a class="reference internal" href="#object-QMP-machine.CpuModelInfo" title="QMP:machine.CpuModelInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelInfo</span></code></a></span>) -- description of the CPU model to expand</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-machine.CpuModelExpansionType" title="QMP:machine.CpuModelExpansionType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelExpansionType</span></code></a></span>) -- expansion type, specifying how to expand the CPU model</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-machine.CpuModelExpansionInfo" title="QMP:machine.CpuModelExpansionInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuModelExpansionInfo</span></code></a></span> -- a <a class="reference internal" href="#object-QMP-machine.CpuModelExpansionInfo" title="QMP:machine.CpuModelExpansionInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">CpuModelExpansionInfo</span></code></a> describing the expanded CPU model</p>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>if expanding CPU models is not supported</p></li>
<li><p>if the model cannot be expanded</p></li>
<li><p>if the model contains an unknown CPU definition name, unknown
properties or properties with a wrong type</p></li>
<li><p>if an expansion type is not supported</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine.CpuDefinitionInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuDefinitionInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-machine.CpuDefinitionInfo" title="Link to this definition"></a></dt>
<dd><p>Virtual CPU definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the CPU definition</p></li>
<li><p><strong>migration-safe</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether a CPU definition can be safely used for
migration in combination with a QEMU compatibility machine when
migrating between different QEMU versions and between hosts with
different sets of (hardware or software) capabilities.  If not
provided, information is not available and callers should not
assume the CPU definition to be migration-safe.  (since 2.8)</p></li>
<li><p><strong>static</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether a CPU definition is static and will not change
depending on QEMU version, machine type, machine options and
accelerator options.  A static model is always migration-safe.
(since 2.8)</p></li>
<li><p><strong>unavailable-features</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- List of properties that prevent the CPU model
from running in the current host.  (since 2.8)</p></li>
<li><p><strong>typename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Type name that can be used as argument to
<a class="reference internal" href="#command-QMP-qdev.device-list-properties" title="QMP:qdev.device-list-properties"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">device-list-properties</span></code></a>, to introspect properties configurable
using -cpu or -global.  (since 2.9)</p></li>
<li><p><strong>alias-of</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Name of CPU model this model is an alias for.  The target
of the CPU model alias may change depending on the machine type.
Management software is supposed to translate CPU model aliases
in the VM configuration, because aliases may stop being
migration-safe in the future (since 4.1)</p></li>
<li><p><strong>deprecated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- If true, this CPU model is deprecated and may be
removed in some future version of QEMU according to the QEMU
deprecation policy.  (since 5.2)</p></li>
</ul>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">unavailable-features</span></code> is a list of QOM property names that represent
CPU model attributes that prevent the CPU from running.  If the QOM
property is read-only, that means there's no known way to make the
CPU model run in the current host.  Implementations that choose not
to provide specific information return the property name &quot;type&quot;.  If
the property is read-write, it means that it MAY be possible to run
the CPU model in the current host if that property is changed.
Management software can use it as hints to suggest or choose an
alternative for the user, or just to generate meaningful error
messages explaining why the CPU model can't be used.  If
<code class="docutils literal notranslate"><span class="pre">unavailable-features</span></code> is an empty list, the CPU model is runnable
using the current host and machine-type.  If <code class="docutils literal notranslate"><span class="pre">unavailable-features</span></code>
is not present, runnability information for the CPU is not
available.</p>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine.query-cpu-definitions">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-cpu-definitions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-machine.query-cpu-definitions" title="Link to this definition"></a></dt>
<dd><p>Return a list of supported virtual CPU definitions</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-machine.CpuDefinitionInfo" title="QMP:machine.CpuDefinitionInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuDefinitionInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum" id="module-QMP-machine-s390x">
<dt class="sig sig-object qapi" id="enum-QMP-machine-s390x.S390CpuPolarization">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">S390CpuPolarization</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#enum-QMP-machine-s390x.S390CpuPolarization" title="Link to this definition"></a></dt>
<dd><p>An enumeration of CPU polarization that can be assumed by a virtual
S390 CPU</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>horizontal</strong> -- Not documented</p></li>
<li><p><strong>vertical</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine-s390x.set-cpu-topology">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set-cpu-topology</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#command-QMP-machine-s390x.set-cpu-topology" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Modify the topology by moving the CPU inside the topology tree, or
by changing a modifier attribute of a CPU.  Absent values will not
be modified.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the vCPU ID to be moved</p></li>
<li><p><strong>socket-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- destination socket to move the vCPU to</p></li>
<li><p><strong>book-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- destination book to move the vCPU to</p></li>
<li><p><strong>drawer-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- destination drawer to move the vCPU to</p></li>
<li><p><strong>entitlement</strong> (<span><a class="reference internal" href="#enum-QMP-machine-common.S390CpuEntitlement" title="QMP:machine-common.S390CpuEntitlement"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">S390CpuEntitlement</span></code></a>, <em>optional</em></span>) -- entitlement to set</p></li>
<li><p><strong>dedicated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether the provisioning of real to virtual CPU is
dedicated</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is experimental.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-machine-s390x.CPU_POLARIZATION_CHANGE">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CPU_POLARIZATION_CHANGE</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#event-QMP-machine-s390x.CPU_POLARIZATION_CHANGE" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This event is unstable/experimental.</div>
</div>
<p>Emitted when the guest asks to change the polarization.</p>
<p>The guest can tell the host (via the PTF instruction) whether the
CPUs should be provisioned using horizontal or vertical
polarization.</p>
<p>On horizontal polarization the host is expected to provision all
vCPUs equally.</p>
<p>On vertical polarization the host can provision each vCPU
differently.  The guest will get information on the details of the
provisioning the next time it uses the STSI(15) instruction.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polarization</strong> (<span><a class="reference internal" href="#enum-QMP-machine-s390x.S390CpuPolarization" title="QMP:machine-s390x.S390CpuPolarization"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">S390CpuPolarization</span></code></a></span>) -- polarization specified by the guest</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This event is experimental.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CPU_POLARIZATION_CHANGE&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;polarization&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;horizontal&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1401385907</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">422329</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-machine-s390x.CpuPolarizationInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CpuPolarizationInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#object-QMP-machine-s390x.CpuPolarizationInfo" title="Link to this definition"></a></dt>
<dd><p>The result of a CPU polarization query.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polarization</strong> (<span><a class="reference internal" href="#enum-QMP-machine-s390x.S390CpuPolarization" title="QMP:machine-s390x.S390CpuPolarization"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">S390CpuPolarization</span></code></a></span>) -- the CPU polarization</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-machine-s390x.query-s390x-cpu-polarization">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-s390x-cpu-polarization</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.2)</span></span><a class="headerlink" href="#command-QMP-machine-s390x.query-s390x-cpu-polarization" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is experimental.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-machine-s390x.CpuPolarizationInfo" title="QMP:machine-s390x.CpuPolarizationInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CpuPolarizationInfo</span></code></a></span> -- the machine's CPU polarization</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="record-replay">
<span id="module-QMP-replay"></span><h2><a class="toc-backref" href="#id36" role="doc-backlink">Record/replay</a><a class="headerlink" href="#record-replay" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-replay.ReplayMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ReplayMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.5)</span></span><a class="headerlink" href="#enum-QMP-replay.ReplayMode" title="Link to this definition"></a></dt>
<dd><p>Mode of the replay subsystem.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>none</strong> -- normal execution mode.  Replay or record are not enabled.</p></li>
<li><p><strong>record</strong> -- record mode.  All non-deterministic data is written into
the replay log.</p></li>
<li><p><strong>play</strong> -- replay mode.  Non-deterministic data required for system
execution is read from the log.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-replay.ReplayInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ReplayInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#object-QMP-replay.ReplayInfo" title="Link to this definition"></a></dt>
<dd><p>Record/replay information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<span><a class="reference internal" href="#enum-QMP-replay.ReplayMode" title="QMP:replay.ReplayMode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ReplayMode</span></code></a></span>) -- current mode.</p></li>
<li><p><strong>filename</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the record/replay log file.  It is present only
in record or replay modes, when the log is recorded or replayed.</p></li>
<li><p><strong>icount</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- current number of executed instructions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-replay.query-replay">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-replay</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-replay.query-replay" title="Link to this definition"></a></dt>
<dd><p>Retrieve the record/replay information.  It includes current
instruction count which may be used for <a class="reference internal" href="#command-QMP-replay.replay-break" title="QMP:replay.replay-break"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">replay-break</span></code></a> and
<a class="reference internal" href="#command-QMP-replay.replay-seek" title="QMP:replay.replay-seek"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">replay-seek</span></code></a> commands.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-replay.ReplayInfo" title="QMP:replay.ReplayInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ReplayInfo</span></code></a></span> -- record/replay information.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-replay&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;play&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log.rr&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;icount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">220414</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-replay.replay-break">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">replay-break</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-replay.replay-break" title="Link to this definition"></a></dt>
<dd><p>Set replay breakpoint at instruction count <code class="docutils literal notranslate"><span class="pre">icount</span></code>.  Execution stops
when the specified instruction is reached.  There can be at most one
breakpoint.  When breakpoint is set, any prior one is removed.  The
breakpoint may be set only in replay mode and only &quot;in the future&quot;,
i.e. at instruction counts greater than the current one.  The
current instruction count can be observed with <a class="reference internal" href="#command-QMP-replay.query-replay" title="QMP:replay.query-replay"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-replay</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>icount</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- instruction count to stop at</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;replay-break&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;icount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">220414</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-replay.replay-delete-break">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">replay-delete-break</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-replay.replay-delete-break" title="Link to this definition"></a></dt>
<dd><p>Remove replay breakpoint which was set with <a class="reference internal" href="#command-QMP-replay.replay-break" title="QMP:replay.replay-break"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">replay-break</span></code></a>.  The
command is ignored when there are no replay breakpoints.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;replay-delete-break&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-replay.replay-seek">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">replay-seek</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.2)</span></span><a class="headerlink" href="#command-QMP-replay.replay-seek" title="Link to this definition"></a></dt>
<dd><p>Automatically proceed to the instruction count <code class="docutils literal notranslate"><span class="pre">icount</span></code>, when
replaying the execution.  The command automatically loads nearest
snapshot and replays the execution to find the desired instruction.
When there is no preceding snapshot or the execution is not
replayed, then the command fails.  Instruction count can be obtained
with the <a class="reference internal" href="#command-QMP-replay.query-replay" title="QMP:replay.query-replay"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-replay</span></code></a> command.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>icount</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- target instruction count</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;replay-seek&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;icount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">220414</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="yank-feature">
<span id="module-QMP-yank"></span><h2><a class="toc-backref" href="#id37" role="doc-backlink">Yank feature</a><a class="headerlink" href="#yank-feature" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-yank.YankInstanceType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">YankInstanceType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#enum-QMP-yank.YankInstanceType" title="Link to this definition"></a></dt>
<dd><p>An enumeration of yank instance types.  See <a class="reference internal" href="#object-QMP-yank.YankInstance" title="QMP:yank.YankInstance"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">YankInstance</span></code></a> for more
information.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>block-node</strong> -- Not documented</p></li>
<li><p><strong>chardev</strong> -- Not documented</p></li>
<li><p><strong>migration</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-yank.YankInstanceBlockNode">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">YankInstanceBlockNode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-yank.YankInstanceBlockNode" title="Link to this definition"></a></dt>
<dd><p>Specifies which block graph node to yank.  See <a class="reference internal" href="#object-QMP-yank.YankInstance" title="QMP:yank.YankInstance"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">YankInstance</span></code></a> for
more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the block graph node</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-yank.YankInstanceChardev">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">YankInstanceChardev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-yank.YankInstanceChardev" title="Link to this definition"></a></dt>
<dd><p>Specifies which character device to yank.  See <a class="reference internal" href="#object-QMP-yank.YankInstance" title="QMP:yank.YankInstance"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">YankInstance</span></code></a> for
more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the chardev's ID</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-yank.YankInstance">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">YankInstance</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-yank.YankInstance" title="Link to this definition"></a></dt>
<dd><p>A yank instance can be yanked with the <a class="reference internal" href="#command-QMP-yank.yank" title="QMP:yank.yank"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">yank</span></code></a> qmp command to recover
from a hanging QEMU.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-yank.YankInstanceType" title="QMP:yank.YankInstanceType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">YankInstanceType</span></code></a></span>) -- yank instance type</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">block-node</span></code>: The members of <a class="reference internal" href="#object-QMP-yank.YankInstanceBlockNode" title="QMP:yank.YankInstanceBlockNode"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">YankInstanceBlockNode</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">chardev</span></code>: The members of <a class="reference internal" href="#object-QMP-yank.YankInstanceChardev" title="QMP:yank.YankInstanceChardev"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">YankInstanceChardev</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p>Currently implemented yank instances:</p>
<ul class="simple">
<li><p>nbd block device: Yanking it will shut down the connection to the
nbd server without attempting to reconnect.</p></li>
<li><p>socket chardev: Yanking it will shut down the connected socket.</p></li>
<li><p>migration: Yanking it will shut down all migration connections.
Unlike <a class="reference internal" href="#command-QMP-migration.migrate_cancel" title="QMP:migration.migrate_cancel"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">migrate_cancel</span></code></a>, it will not notify the migration process,
so migration will go into <code class="docutils literal notranslate"><span class="pre">failed</span></code> state, instead of <code class="docutils literal notranslate"><span class="pre">cancelled</span></code>
state.  <a class="reference internal" href="#command-QMP-yank.yank" title="QMP:yank.yank"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">yank</span></code></a> should be used to recover from hangs.</p></li>
</ul>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-yank.yank">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">yank</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#command-QMP-yank.yank" title="Link to this definition"></a></dt>
<dd><p>Try to recover from hanging QEMU by yanking the specified instances.
See <a class="reference internal" href="#object-QMP-yank.YankInstance" title="QMP:yank.YankInstance"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">YankInstance</span></code></a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instances</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-yank.YankInstance" title="QMP:yank.YankInstance"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">YankInstance</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the instances to be yanked</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If any of the YankInstances doesn't exist, DeviceNotFound</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;yank&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;instances&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-node&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nbd0&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">         </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-yank.query-yank">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-yank</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#command-QMP-yank.query-yank" title="Link to this definition"></a></dt>
<dd><p>Query yank instances.  See <a class="reference internal" href="#object-QMP-yank.YankInstance" title="QMP:yank.YankInstance"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">YankInstance</span></code></a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-yank.YankInstance" title="QMP:yank.YankInstance"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">YankInstance</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-yank&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;block-node&quot;</span><span class="p">,</span>
<span class="w">           </span><span class="nt">&quot;node-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nbd0&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">     </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="miscellanea">
<span id="module-QMP-misc"></span><h2><a class="toc-backref" href="#id38" role="doc-backlink">Miscellanea</a><a class="headerlink" href="#miscellanea" title="Link to this heading"></a></h2>
<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.add_client">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_client</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-misc.add_client" title="Link to this definition"></a></dt>
<dd><p>Allow client connections for VNC, Spice and socket based character
devices to be passed in to QEMU via SCM_RIGHTS.</p>
<p>If the FD associated with <code class="docutils literal notranslate"><span class="pre">fdname</span></code> is not a socket, the command will
fail and the FD will be closed.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protocol</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- protocol name.  Valid names are &quot;vnc&quot;, &quot;spice&quot;,
&quot;<code class="docutils literal notranslate"><span class="pre">dbus-display</span></code>&quot; or the name of a character device (e.g. from
-chardev id=XXXX)</p></li>
<li><p><strong>fdname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- file descriptor name previously passed via <a class="reference internal" href="#command-QMP-misc.getfd" title="QMP:misc.getfd"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">getfd</span></code></a> command</p></li>
<li><p><strong>skipauth</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to skip authentication.  Only applies to &quot;vnc&quot;
and &quot;spice&quot; protocols</p></li>
<li><p><strong>tls</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- whether to perform TLS.  Only applies to the &quot;spice&quot; protocol</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;add_client&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vnc&quot;</span><span class="p">,</span>
<span class="w">                                             </span><span class="nt">&quot;fdname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;myclient&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc.NameInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NameInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-misc.NameInfo" title="Link to this definition"></a></dt>
<dd><p>Guest name information.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The name of the guest</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.query-name">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-name</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-misc.query-name" title="Link to this definition"></a></dt>
<dd><p>Return the name information of a guest.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-misc.NameInfo" title="QMP:misc.NameInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">NameInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-name&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu-name&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc.IOThreadInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IOThreadInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#object-QMP-misc.IOThreadInfo" title="Link to this definition"></a></dt>
<dd><p>Information about an iothread</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the identifier of the iothread</p></li>
<li><p><strong>thread-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- ID of the underlying host thread</p></li>
<li><p><strong>poll-max-ns</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- maximum polling time in ns, 0 means polling is
disabled (since 2.9)</p></li>
<li><p><strong>poll-grow</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- how many ns will be added to polling time, 0 means that
it's not configured (since 2.9)</p></li>
<li><p><strong>poll-shrink</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- how many ns will be removed from polling time, 0 means
that it's not configured (since 2.9)</p></li>
<li><p><strong>aio-max-batch</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- maximum number of requests in a batch for the AIO
engine, 0 means that the engine will use its default (since 6.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.query-iothreads">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-iothreads</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.0)</span></span><a class="headerlink" href="#command-QMP-misc.query-iothreads" title="Link to this definition"></a></dt>
<dd><p>Return a list of information about each iothread.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This list excludes the QEMU main loop thread, which is not
declared using the <code class="docutils literal notranslate"><span class="pre">-object</span> <span class="pre">iothread</span></code> command-line option.  It
is always the main thread of the process.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-misc.IOThreadInfo" title="QMP:misc.IOThreadInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IOThreadInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list of info for each iothread</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-iothreads&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;iothread0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;thread-id&quot;</span><span class="p">:</span><span class="mi">3134</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;iothread1&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;thread-id&quot;</span><span class="p">:</span><span class="mi">3135</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.stop">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stop</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-misc.stop" title="Link to this definition"></a></dt>
<dd><p>Stop guest VM execution.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This function will succeed even if the guest is already in
the stopped state.  In &quot;inmigrate&quot; state, it will ensure that the
guest remains paused once migration finishes, as if the <code class="docutils literal notranslate"><span class="pre">-S</span></code>
option was passed on the command line.</p>
<p>In the &quot;suspended&quot; state, it will completely stop the VM and
cause a transition to the &quot;paused&quot; state.  (Since 9.0)</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stop&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.cont">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cont</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-misc.cont" title="Link to this definition"></a></dt>
<dd><p>Resume guest VM execution.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This command will succeed if the guest is currently
running.  It will also succeed if the guest is in the &quot;inmigrate&quot;
state; in this case, the effect of the command is to make sure
the guest starts once migration finishes, removing the effect of
the <code class="docutils literal notranslate"><span class="pre">-S</span></code> command line option if it was passed.</p>
<p>If the VM was previously suspended, and not been reset or woken,
this command will transition back to the &quot;suspended&quot; state.
(Since 9.0)</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cont&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.x-exit-preconfig">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-exit-preconfig</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">3.0)</span></span><a class="headerlink" href="#command-QMP-misc.x-exit-preconfig" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Exit from &quot;preconfig&quot; state</p>
<p>This command makes QEMU exit the preconfig state and proceed with VM
initialization using configuration data provided on the command line
and via the QMP monitor during the preconfig state.  The command is
only available during the preconfig state (i.e. when the --preconfig
command line option was in use).</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is experimental.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-exit-preconfig&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.human-monitor-command">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">human-monitor-command</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-misc.human-monitor-command" title="Link to this definition"></a></dt>
<dd><p>Execute a command on the human monitor and return the output.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command-line</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the command to execute in the human monitor</p></li>
<li><p><strong>cpu-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The CPU to use for commands that require an implicit CPU</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>savevm-monitor-nodes</strong> -- If present, HMP command savevm only snapshots
monitor-owned nodes if they have no parents.  This allows the
use of 'savevm' with -blockdev.  (since 4.2)</p></li>
</ul>
</dd>
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span> -- the output of the command as a string</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This command only exists as a stop-gap.  Its use is highly
discouraged.  The semantics of this command are not guaranteed:
this means that command names, arguments and responses can change
or be removed at <strong>any</strong> time.  Applications that rely on long
term stability guarantees should <strong>not</strong> use this command.</p>
<p>Known limitations:</p>
<ul class="simple">
<li><p>This command is stateless, this means that commands that depend
on state information (such as <a class="reference internal" href="#command-QMP-misc.getfd" title="QMP:misc.getfd"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">getfd</span></code></a>) might not work.</p></li>
<li><p>Commands that prompt the user for data don't currently work.</p></li>
</ul>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;human-monitor-command&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;command-line&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;info kvm&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;kvm support: enabled\r\n&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.getfd">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getfd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-misc.getfd" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_POSIX</span></code></div>
</div>
<p>Receive a file descriptor via SCM rights and assign it a name</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- file descriptor name</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If <code class="docutils literal notranslate"><span class="pre">fdname</span></code> already exists, the file descriptor assigned to
it will be closed and replaced by the received file descriptor.</p>
<p>The <a class="reference internal" href="#command-QMP-misc.closefd" title="QMP:misc.closefd"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">closefd</span></code></a> command can be used to explicitly close the file
descriptor when it is no longer needed.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;getfd&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;fdname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fd1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.get-win32-socket">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get-win32-socket</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#command-QMP-misc.get-win32-socket" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-ifcond docutils container">
<em>Availability</em>: <code class="docutils literal notranslate"><span class="pre">CONFIG_WIN32</span></code></div>
</div>
<p>Add a socket that was duplicated to QEMU process with
WSADuplicateSocketW() via WSASocket() &amp; WSAPROTOCOL_INFOW structure
and assign it a name (the SOCKET is associated with a CRT file
descriptor)</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>info</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the WSAPROTOCOL_INFOW structure (encoded in base64)</p></li>
<li><p><strong>fdname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- file descriptor name</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If <code class="docutils literal notranslate"><span class="pre">fdname</span></code> already exists, the file descriptor assigned to
it will be closed and replaced by the received file descriptor.</p>
<p>The <a class="reference internal" href="#command-QMP-misc.closefd" title="QMP:misc.closefd"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">closefd</span></code></a> command can be used to explicitly close the file
descriptor when it is no longer needed.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;get-win32-socket&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abcd123..&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;fdname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;skclient&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.closefd">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">closefd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-misc.closefd" title="Link to this definition"></a></dt>
<dd><p>Close a file descriptor previously passed via SCM rights</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdname</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- file descriptor name</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;closefd&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;fdname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fd1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc.AddfdInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AddfdInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-misc.AddfdInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a file descriptor that was added to an fd set.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdset-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The ID of the fd set that <code class="docutils literal notranslate"><span class="pre">fd</span></code> was added to.</p></li>
<li><p><strong>fd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The file descriptor that was received via SCM rights and added
to the fd set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.add-fd">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add-fd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-misc.add-fd" title="Link to this definition"></a></dt>
<dd><p>Add a file descriptor, that was passed via SCM rights, to an fd set.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdset-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The ID of the fd set to add the file descriptor to.</p></li>
<li><p><strong>opaque</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- A free-form string that can be used to describe the fd.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-misc.AddfdInfo" title="QMP:misc.AddfdInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AddfdInfo</span></code></a></span></p>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If file descriptor was not received, GenericError</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">fdset-id</span></code> is a negative value, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The list of fd sets is shared by all monitor connections.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If <code class="docutils literal notranslate"><span class="pre">fdset-id</span></code> is not specified, a new fd set will be
created.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;add-fd&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;fdset-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;fdset-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;fd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.remove-fd">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove-fd</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-misc.remove-fd" title="Link to this definition"></a></dt>
<dd><p>Remove a file descriptor from an fd set.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdset-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The ID of the fd set that the file descriptor belongs to.</p></li>
<li><p><strong>fd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The file descriptor that is to be removed.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">fdset-id</span></code> or <code class="docutils literal notranslate"><span class="pre">fd</span></code> is not found, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The list of fd sets is shared by all monitor connections.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If <code class="docutils literal notranslate"><span class="pre">fd</span></code> is not specified, all file descriptors in <code class="docutils literal notranslate"><span class="pre">fdset-id</span></code>
will be removed.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;remove-fd&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;fdset-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;fd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc.FdsetFdInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FdsetFdInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-misc.FdsetFdInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a file descriptor that belongs to an fd set.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The file descriptor value.</p></li>
<li><p><strong>opaque</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- A free-form string that can be used to describe the fd.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc.FdsetInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FdsetInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#object-QMP-misc.FdsetInfo" title="Link to this definition"></a></dt>
<dd><p>Information about an fd set.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdset-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The ID of the fd set.</p></li>
<li><p><strong>fds</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-misc.FdsetFdInfo" title="QMP:misc.FdsetFdInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FdsetFdInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- A list of file descriptors that belong to this fd set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.query-fdsets">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-fdsets</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.2)</span></span><a class="headerlink" href="#command-QMP-misc.query-fdsets" title="Link to this definition"></a></dt>
<dd><p>Return information describing all fd sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-misc.FdsetInfo" title="QMP:misc.FdsetInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">FdsetInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The list of fd sets is shared by all monitor connections.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-fdsets&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;fds&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">           </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;fd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;opaque&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rdonly:/path/to/file&quot;</span>
<span class="w">           </span><span class="p">},</span>
<span class="w">           </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;fd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;opaque&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rdwr:/path/to/file&quot;</span>
<span class="w">           </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;fdset-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">       </span><span class="p">},</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;fds&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">           </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;fd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span>
<span class="w">           </span><span class="p">},</span>
<span class="w">           </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;fd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span>
<span class="w">           </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;fdset-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">     </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-misc.CommandLineParameterType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CommandLineParameterType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#enum-QMP-misc.CommandLineParameterType" title="Link to this definition"></a></dt>
<dd><p>Possible types for an option parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> -- accepts a character string</p></li>
<li><p><strong>boolean</strong> -- accepts &quot;on&quot; or &quot;off&quot;</p></li>
<li><p><strong>number</strong> -- accepts a number</p></li>
<li><p><strong>size</strong> -- accepts a number followed by an optional suffix (K)ilo,
(M)ega, (G)iga, (T)era</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc.CommandLineParameterInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CommandLineParameterInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-misc.CommandLineParameterInfo" title="Link to this definition"></a></dt>
<dd><p>Details about a single parameter of a command line option.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- parameter name</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-misc.CommandLineParameterType" title="QMP:misc.CommandLineParameterType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CommandLineParameterType</span></code></a></span>) -- parameter <a class="reference internal" href="#enum-QMP-misc.CommandLineParameterType" title="QMP:misc.CommandLineParameterType"><code class="xref any qapi qapi-enum docutils literal notranslate"><span class="pre">CommandLineParameterType</span></code></a></p></li>
<li><p><strong>help</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- human readable text string, not suitable for parsing.</p></li>
<li><p><strong>default</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- default value string (since 2.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc.CommandLineOptionInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CommandLineOptionInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-misc.CommandLineOptionInfo" title="Link to this definition"></a></dt>
<dd><p>Details about a command line option, including its list of parameter
details</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>option</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- option name</p></li>
<li><p><strong>parameters</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-misc.CommandLineParameterInfo" title="QMP:misc.CommandLineParameterInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CommandLineParameterInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- an array of <a class="reference internal" href="#object-QMP-misc.CommandLineParameterInfo" title="QMP:misc.CommandLineParameterInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">CommandLineParameterInfo</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc.query-command-line-options">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-command-line-options</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#command-QMP-misc.query-command-line-options" title="Link to this definition"></a></dt>
<dd><p>Query command line option schema.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>option</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- option name</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-misc.CommandLineOptionInfo" title="QMP:misc.CommandLineOptionInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CommandLineOptionInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- list of objects for all options (or for the given <code class="docutils literal notranslate"><span class="pre">option</span></code>).</p>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>if the given <code class="docutils literal notranslate"><span class="pre">option</span></code> doesn't exist</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-command-line-options&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;option&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;option-rom&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;romfile&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bootindex&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;option&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;option-rom&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">     </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-misc.RTC_CHANGE">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RTC_CHANGE</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.13)</span></span><a class="headerlink" href="#event-QMP-misc.RTC_CHANGE" title="Link to this definition"></a></dt>
<dd><p>Emitted when the guest changes the RTC time.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- offset in seconds between base RTC clock (as specified by
-rtc base), and new RTC clock value</p></li>
<li><p><strong>qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the RTC object in the QOM tree</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This event is rate-limited.  It is not guaranteed that the
RTC in the system implements this event, or even that the system
has an RTC at all.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;RTC_CHANGE&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1267020223</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">435656</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-misc.VFU_CLIENT_HANGUP">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VFU_CLIENT_HANGUP</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#event-QMP-misc.VFU_CLIENT_HANGUP" title="Link to this definition"></a></dt>
<dd><p>Emitted when the client of a TYPE_VFIO_USER_SERVER closes the
communication channel</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vfu-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- ID of the TYPE_VFIO_USER_SERVER object.  It is the last
component of <code class="docutils literal notranslate"><span class="pre">vfu-qom-path</span></code> referenced below</p></li>
<li><p><strong>vfu-qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the TYPE_VFIO_USER_SERVER object in the QOM
tree</p></li>
<li><p><strong>dev-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- ID of attached PCI device</p></li>
<li><p><strong>dev-qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to attached PCI device in the QOM tree</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VFU_CLIENT_HANGUP&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;vfu-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vfu1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;vfu-qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/objects/vfu1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;dev-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sas1&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;dev-qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/sas1&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object" id="module-QMP-misc-arm">
<dt class="sig sig-object qapi" id="object-QMP-misc-arm.GICCapability">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GICCapability</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#object-QMP-misc-arm.GICCapability" title="Link to this definition"></a></dt>
<dd><p>The struct describes capability for a specific GIC (Generic
Interrupt Controller) version.  These bits are not only decided by
QEMU/KVM software version, but also decided by the hardware that the
program is running upon.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>version</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- version of GIC to be described.  Currently, only 2 and 3
are supported.</p></li>
<li><p><strong>emulated</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether current QEMU/hardware supports emulated GIC
device in user space.</p></li>
<li><p><strong>kernel</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- whether current QEMU/hardware supports hardware accelerated
GIC device in kernel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-arm.query-gic-capabilities">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-gic-capabilities</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.6)</span></span><a class="headerlink" href="#command-QMP-misc-arm.query-gic-capabilities" title="Link to this definition"></a></dt>
<dd><p>It will return a list of <a class="reference internal" href="#object-QMP-misc-arm.GICCapability" title="QMP:misc-arm.GICCapability"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">GICCapability</span></code></a> objects that describe its
capability bits.</p>
<p>On non-ARM targets this command will report an error as the GIC
technology is not applicable.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-misc-arm.GICCapability" title="QMP:misc-arm.GICCapability"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">GICCapability</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-gic-capabilities&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;emulated&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;kernel&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;emulated&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;kernel&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command" id="module-QMP-misc-i386">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.rtc-reset-reinjection">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rtc-reset-reinjection</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#command-QMP-misc-i386.rtc-reset-reinjection" title="Link to this definition"></a></dt>
<dd><p>Reset the RTC interrupt reinjection backlog.  Can be used if another
mechanism to synchronize guest time is in effect, for example QEMU
guest agent's <a class="reference internal" href="qemu-ga-ref.html#command-QGA-qapi-schema.guest-set-time" title="QGA:qapi-schema.guest-set-time"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">guest-set-time</span></code></a> command.</p>
<p>Use of this command is only applicable for x86 machines with an RTC,
and on other machines will silently return without performing any
action.</p>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rtc-reset-reinjection&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-misc-i386.SevState">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevState</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#enum-QMP-misc-i386.SevState" title="Link to this definition"></a></dt>
<dd><p>An enumeration of SEV state information used during <a class="reference internal" href="#command-QMP-misc-i386.query-sev" title="QMP:misc-i386.query-sev"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-sev</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uninit</strong> -- The guest is uninitialized.</p></li>
<li><p><strong>launch-update</strong> -- The guest is currently being launched; plaintext
data and register state is being imported.</p></li>
<li><p><strong>launch-secret</strong> -- The guest is currently being launched; ciphertext
data is being imported.</p></li>
<li><p><strong>running</strong> -- The guest is fully launched or migrated in.</p></li>
<li><p><strong>send-update</strong> -- The guest is currently being migrated out to another
machine.</p></li>
<li><p><strong>receive-update</strong> -- The guest is currently being migrated from another
machine.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-misc-i386.SevGuestType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevGuestType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#enum-QMP-misc-i386.SevGuestType" title="Link to this definition"></a></dt>
<dd><p>An enumeration indicating the type of SEV guest being run.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sev</strong> -- The guest is a legacy SEV or SEV-ES guest.</p></li>
<li><p><strong>sev-snp</strong> -- The guest is an SEV-SNP guest.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.SevGuestInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevGuestInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-misc-i386.SevGuestInfo" title="Link to this definition"></a></dt>
<dd><p>Information specific to legacy SEV/SEV-ES guests.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>policy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SEV policy value</p></li>
<li><p><strong>handle</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SEV firmware handle</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.SevSnpGuestInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevSnpGuestInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#object-QMP-misc-i386.SevSnpGuestInfo" title="Link to this definition"></a></dt>
<dd><p>Information specific to SEV-SNP guests.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snp-policy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SEV-SNP policy value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.SevInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-misc-i386.SevInfo" title="Link to this definition"></a></dt>
<dd><p>Information about Secure Encrypted Virtualization (SEV) support</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if SEV is active</p></li>
<li><p><strong>api-major</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SEV API major version</p></li>
<li><p><strong>api-minor</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SEV API minor version</p></li>
<li><p><strong>build-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- SEV FW build id</p></li>
<li><p><strong>state</strong> (<span><a class="reference internal" href="#enum-QMP-misc-i386.SevState" title="QMP:misc-i386.SevState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevState</span></code></a></span>) -- SEV guest state</p></li>
<li><p><strong>sev-type</strong> (<span><a class="reference internal" href="#enum-QMP-misc-i386.SevGuestType" title="QMP:misc-i386.SevGuestType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevGuestType</span></code></a></span>) -- Type of SEV guest being run</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">sev-type</span></code> is <code class="docutils literal notranslate"><span class="pre">sev</span></code>: The members of <a class="reference internal" href="#object-QMP-misc-i386.SevGuestInfo" title="QMP:misc-i386.SevGuestInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevGuestInfo</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">sev-type</span></code> is <code class="docutils literal notranslate"><span class="pre">sev-snp</span></code>: The members of <a class="reference internal" href="#object-QMP-misc-i386.SevSnpGuestInfo" title="QMP:misc-i386.SevSnpGuestInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevSnpGuestInfo</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.query-sev">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-sev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-misc-i386.query-sev" title="Link to this definition"></a></dt>
<dd><p>Return information about SEV/SEV-ES/SEV-SNP.</p>
<p>If unavailable due to an incompatible configuration the returned
<code class="docutils literal notranslate"><span class="pre">enabled</span></code> field is set to 'false' and the state of all other fields
is unspecified.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-misc-i386.SevInfo" title="QMP:misc-i386.SevInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-sev&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;api-major&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;api-minor&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;build-id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;policy&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;handle&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.SevLaunchMeasureInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevLaunchMeasureInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-misc-i386.SevLaunchMeasureInfo" title="Link to this definition"></a></dt>
<dd><p>SEV Guest Launch measurement information</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the measurement value encoded in base64</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.query-sev-launch-measure">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-sev-launch-measure</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-misc-i386.query-sev-launch-measure" title="Link to this definition"></a></dt>
<dd><p>Query the SEV/SEV-ES guest launch information.</p>
<p>This is only valid on x86 machines configured with KVM and the
'sev-guest' confidential virtualization object.  The launch
measurement for SEV-SNP guests is only available within the guest.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-misc-i386.SevLaunchMeasureInfo" title="QMP:misc-i386.SevLaunchMeasureInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevLaunchMeasureInfo</span></code></a></span> -- The guest's SEV guest launch measurement info</p>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If the launch measurement is unavailable, either due to an
invalid guest configuration or if the guest has not reached
the required SEV state, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-sev-launch-measure&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4l8LXeNlSPUDlXPJG5966/8%YZ&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.SevCapability">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevCapability</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#object-QMP-misc-i386.SevCapability" title="Link to this definition"></a></dt>
<dd><p>The struct describes capability for a Secure Encrypted
Virtualization feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pdh</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Platform Diffie-Hellman key (base64 encoded)</p></li>
<li><p><strong>cert-chain</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- PDH certificate chain (base64 encoded)</p></li>
<li><p><strong>cpu0-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Unique ID of CPU0 (base64 encoded) (since 7.1)</p></li>
<li><p><strong>cbitpos</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- C-bit location in page table entry</p></li>
<li><p><strong>reduced-phys-bits</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of physical address bit reduction when
SEV is enabled</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.query-sev-capabilities">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-sev-capabilities</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.12)</span></span><a class="headerlink" href="#command-QMP-misc-i386.query-sev-capabilities" title="Link to this definition"></a></dt>
<dd><p>Get SEV capabilities.</p>
<p>This is only supported on AMD X86 platforms with KVM enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-misc-i386.SevCapability" title="QMP:misc-i386.SevCapability"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevCapability</span></code></a></span></p>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If SEV is not available on the platform, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-sev-capabilities&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;pdh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8CCDD8DDD&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;cert-chain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;888CCCDDDEE&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;cpu0-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2lvmGwo+</span><span class="cm">...</span><span class="s2">61iEinw==&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;cbitpos&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reduced-phys-bits&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.sev-inject-launch-secret">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sev-inject-launch-secret</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#command-QMP-misc-i386.sev-inject-launch-secret" title="Link to this definition"></a></dt>
<dd><p>Inject a secret blob into a SEV/SEV-ES guest's memory.</p>
<p>This is only valid on x86 machines configured with KVM and the
'sev-guest' confidential virtualization object.  SEV-SNP guests do
not support launch secret injection.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>packet-header</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the launch secret packet header encoded in base64</p></li>
<li><p><strong>secret</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the launch secret data to be injected encoded in base64</p></li>
<li><p><strong>gpa</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the guest physical address where secret will be injected.</p></li>
</ul>
</dd>
<dt class="field-even">Errors<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If launch secret injection is not possible, either due to
an invalid guest configuration, or if the guest has not
reached the required SEV state, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.SevAttestationReport">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SevAttestationReport</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#object-QMP-misc-i386.SevAttestationReport" title="Link to this definition"></a></dt>
<dd><p>The struct describes attestation report for a Secure Encrypted
Virtualization feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- guest attestation report (base64 encoded)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.query-sev-attestation-report">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-sev-attestation-report</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.1)</span></span><a class="headerlink" href="#command-QMP-misc-i386.query-sev-attestation-report" title="Link to this definition"></a></dt>
<dd><p>Get the SEV attestation report.</p>
<p>This is only valid on x86 machines configured with KVM and the
'sev-guest' confidential virtualization object.  The attestation
report for SEV-SNP guests is only available within the guest.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mnonce</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- a random 16 bytes value encoded in base64 (it will be
included in report)</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-misc-i386.SevAttestationReport" title="QMP:misc-i386.SevAttestationReport"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SevAttestationReport</span></code></a></span></p>
</dd>
<dt class="field-odd">Errors<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If the attestation report is unavailable, either due to an
invalid guest configuration or because the guest has not
reached the required SEV state, GenericError</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-sev-attestation-report&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;mnonce&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;aaaaaaa&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;aaaaaaaabbbddddd&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.SgxEpcSection">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SgxEpcSection</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.0)</span></span><a class="headerlink" href="#object-QMP-misc-i386.SgxEpcSection" title="Link to this definition"></a></dt>
<dd><p>Information about intel SGX EPC section</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the numa node</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the size of EPC section</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.SgxInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SgxInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#object-QMP-misc-i386.SgxInfo" title="Link to this definition"></a></dt>
<dd><p>Information about intel Safe Guard eXtension (SGX) support</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sgx</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if SGX is supported</p></li>
<li><p><strong>sgx1</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if SGX1 is supported</p></li>
<li><p><strong>sgx2</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if SGX2 is supported</p></li>
<li><p><strong>flc</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- true if FLC is supported</p></li>
<li><p><strong>sections</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-misc-i386.SgxEpcSection" title="QMP:misc-i386.SgxEpcSection"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SgxEpcSection</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- The EPC sections information (Since: 7.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.query-sgx">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-sgx</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#command-QMP-misc-i386.query-sgx" title="Link to this definition"></a></dt>
<dd><p>Return information about configured SGX capabilities of guest</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-misc-i386.SgxInfo" title="QMP:misc-i386.SgxInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SgxInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-sgx&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;sgx&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sgx1&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sgx2&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;flc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;sections&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67108864</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">29360128</span><span class="p">}]}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.query-sgx-capabilities">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-sgx-capabilities</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.2)</span></span><a class="headerlink" href="#command-QMP-misc-i386.query-sgx-capabilities" title="Link to this definition"></a></dt>
<dd><p>Return information about SGX capabilities of host</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-misc-i386.SgxInfo" title="QMP:misc-i386.SgxInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">SgxInfo</span></code></a></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-sgx-capabilities&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;sgx&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sgx1&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;sgx2&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;flc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;section&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67108864</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">29360128</span><span class="p">}]}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-misc-i386.EvtchnPortType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EvtchnPortType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#enum-QMP-misc-i386.EvtchnPortType" title="Link to this definition"></a></dt>
<dd><p>An enumeration of Xen event channel port types.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>closed</strong> -- The port is unused.</p></li>
<li><p><strong>unbound</strong> -- The port is allocated and ready to be bound.</p></li>
<li><p><strong>interdomain</strong> -- The port is connected as an interdomain interrupt.</p></li>
<li><p><strong>pirq</strong> -- The port is bound to a physical IRQ (PIRQ).</p></li>
<li><p><strong>virq</strong> -- The port is bound to a virtual IRQ (VIRQ).</p></li>
<li><p><strong>ipi</strong> -- The post is an inter-processor interrupt (IPI).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-misc-i386.EvtchnInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EvtchnInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-misc-i386.EvtchnInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a Xen event channel port</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the port number</p></li>
<li><p><strong>vcpu</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- target vCPU for this port</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-misc-i386.EvtchnPortType" title="QMP:misc-i386.EvtchnPortType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">EvtchnPortType</span></code></a></span>) -- the port type</p></li>
<li><p><strong>remote-domain</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- remote domain for interdomain ports</p></li>
<li><p><strong>target</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- remote port ID, or virq/pirq number</p></li>
<li><p><strong>pending</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- port is currently active pending delivery</p></li>
<li><p><strong>masked</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- port is masked</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.xen-event-list">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xen-event-list</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#command-QMP-misc-i386.xen-event-list" title="Link to this definition"></a></dt>
<dd><p>Query the Xen event channels opened by the guest.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-misc-i386.EvtchnInfo" title="QMP:misc-i386.EvtchnInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">EvtchnInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- list of open event channel ports.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xen-event-list&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;vcpu&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;remote-domain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;qemu&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;masked&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;interdomain&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;vcpu&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;remote-domain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;masked&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virq&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">     </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-misc-i386.xen-event-inject">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xen-event-inject</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#command-QMP-misc-i386.xen-event-inject" title="Link to this definition"></a></dt>
<dd><p>Inject a Xen event channel port (interrupt) to the guest.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The port number</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xen-event-inject&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="audio">
<span id="module-QMP-audio"></span><h2><a class="toc-backref" href="#id39" role="doc-backlink">Audio</a><a class="headerlink" href="#audio" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevPerDirectionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevPerDirectionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="Link to this definition"></a></dt>
<dd><p>General audio backend options that are used for both playback and
recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mixing-engine</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- use QEMU's mixing engine to mix all streams inside
QEMU and convert audio formats when not supported by the
backend.  When set to off, fixed-settings must be also off
(default on, since 4.2)</p></li>
<li><p><strong>fixed-settings</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- use fixed settings for host input/output.  When
off, frequency, channels and format must not be specified
(default true)</p></li>
<li><p><strong>frequency</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- frequency to use when using fixed settings (default
44100)</p></li>
<li><p><strong>channels</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of channels when using fixed settings (default 2)</p></li>
<li><p><strong>voices</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of voices to use (default 1)</p></li>
<li><p><strong>format</strong> (<span><a class="reference internal" href="#enum-QMP-audio.AudioFormat" title="QMP:audio.AudioFormat"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudioFormat</span></code></a>, <em>optional</em></span>) -- sample format to use when using fixed settings (default
s16)</p></li>
<li><p><strong>buffer-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the buffer length in microseconds</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevGenericOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevGenericOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevGenericOptions" title="Link to this definition"></a></dt>
<dd><p>Generic driver-specific options.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevDBusOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevDBusOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevDBusOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the D-Bus audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
<li><p><strong>nsamples</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- set the number of samples per read/write calls (default to 480,</p></li>
</ul>
</dd>
</dl>
<p>10ms at 48kHz).</p>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevAlsaPerDirectionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevAlsaPerDirectionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevAlsaPerDirectionOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the ALSA backend that are used for both playback and
recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of the ALSA device to use (default 'default')</p></li>
<li><p><strong>period-length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the period length in microseconds</p></li>
<li><p><strong>try-poll</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- attempt to use poll mode, falling back to non-polling
access on failure (default false)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevAlsaOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevAlsaOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevAlsaOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the ALSA audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevAlsaPerDirectionOptions" title="QMP:audio.AudiodevAlsaPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevAlsaPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevAlsaPerDirectionOptions" title="QMP:audio.AudiodevAlsaPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevAlsaPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
<li><p><strong>threshold</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- set the threshold (in microseconds) when playback starts</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevSndioOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevSndioOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevSndioOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the sndio audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
<li><p><strong>dev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the name of the sndio device to use (default 'default')</p></li>
<li><p><strong>latency</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- play buffer size (in microseconds)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevCoreaudioPerDirectionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevCoreaudioPerDirectionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevCoreaudioPerDirectionOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the Core Audio backend that are used for both playback
and recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffer-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of buffers</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevCoreaudioOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevCoreaudioOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevCoreaudioOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the coreaudio audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevCoreaudioPerDirectionOptions" title="QMP:audio.AudiodevCoreaudioPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevCoreaudioPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevCoreaudioPerDirectionOptions" title="QMP:audio.AudiodevCoreaudioPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevCoreaudioPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevDsoundOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevDsoundOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevDsoundOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the DirectSound audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
<li><p><strong>latency</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- add extra latency to playback in microseconds (default
10000)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevJackPerDirectionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevJackPerDirectionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevJackPerDirectionOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the JACK backend that are used for both playback and
recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- select from among several possible concurrent server
instances (default: environment variable $JACK_DEFAULT_SERVER if
set, else &quot;default&quot;)</p></li>
<li><p><strong>client-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- the client name to use.  The server will modify this
name to create a unique variant, if needed unless <code class="docutils literal notranslate"><span class="pre">exact-name</span></code> is
true (default: the guest's name)</p></li>
<li><p><strong>connect-ports</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- if set, a regular expression of JACK client port
name(s) to monitor for and automatically connect to</p></li>
<li><p><strong>start-server</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- start a jack server process if one is not already
present (default: false)</p></li>
<li><p><strong>exact-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- use the exact name requested otherwise JACK
automatically generates a unique one, if needed (default: false)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevJackOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevJackOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">5.1)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevJackOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the JACK audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevJackPerDirectionOptions" title="QMP:audio.AudiodevJackPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevJackPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevJackPerDirectionOptions" title="QMP:audio.AudiodevJackPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevJackPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevOssPerDirectionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevOssPerDirectionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevOssPerDirectionOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the OSS backend that are used for both playback and
recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- file name of the OSS device (default '/dev/dsp')</p></li>
<li><p><strong>buffer-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of buffers</p></li>
<li><p><strong>try-poll</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- attempt to use poll mode, falling back to non-polling
access on failure (default true)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevOssOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevOssOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevOssOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the OSS audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevOssPerDirectionOptions" title="QMP:audio.AudiodevOssPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevOssPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevOssPerDirectionOptions" title="QMP:audio.AudiodevOssPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevOssPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
<li><p><strong>try-mmap</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- try using memory-mapped access, falling back to
non-memory-mapped access on failure (default true)</p></li>
<li><p><strong>exclusive</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- open device in exclusive mode (vmix won't work) (default
false)</p></li>
<li><p><strong>dsp-policy</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- set the timing policy of the device (between 0 and 10,
where smaller number means smaller latency but higher CPU usage)
or -1 to use fragment mode (option ignored on some platforms)
(default 5)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevPaPerDirectionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevPaPerDirectionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevPaPerDirectionOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the Pulseaudio backend that are used for both playback
and recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the sink/source to use</p></li>
<li><p><strong>stream-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the PulseAudio stream created by QEMU.  Can be
used to identify the stream in PulseAudio when you create
multiple PulseAudio devices or run multiple QEMU instances
(default: audiodev's id, since 4.2)</p></li>
<li><p><strong>latency</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- latency you want PulseAudio to achieve in microseconds
(default 15000)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevPaOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevPaOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevPaOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the PulseAudio audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPaPerDirectionOptions" title="QMP:audio.AudiodevPaPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPaPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPaPerDirectionOptions" title="QMP:audio.AudiodevPaPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPaPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
<li><p><strong>server</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- PulseAudio server address (default: let PulseAudio choose)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevPipewirePerDirectionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevPipewirePerDirectionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevPipewirePerDirectionOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the PipeWire backend that are used for both playback and
recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the sink/source to use</p></li>
<li><p><strong>stream-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the PipeWire stream created by QEMU.  Can be
used to identify the stream in PipeWire when you create multiple
PipeWire devices or run multiple QEMU instances (default:
audiodev's id)</p></li>
<li><p><strong>latency</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- latency you want PipeWire to achieve in microseconds
(default 46000)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevPipewireOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevPipewireOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevPipewireOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the PipeWire audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPipewirePerDirectionOptions" title="QMP:audio.AudiodevPipewirePerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPipewirePerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPipewirePerDirectionOptions" title="QMP:audio.AudiodevPipewirePerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPipewirePerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevSdlPerDirectionOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevSdlPerDirectionOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevSdlPerDirectionOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the SDL audio backend that are used for both playback and
recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffer-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- number of buffers (default 4)</p></li>
<li><p>The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevSdlOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevSdlOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">6.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevSdlOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the SDL audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevSdlPerDirectionOptions" title="QMP:audio.AudiodevSdlPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevSdlPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the recording stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevSdlPerDirectionOptions" title="QMP:audio.AudiodevSdlPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevSdlPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.AudiodevWavOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevWavOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.AudiodevWavOptions" title="Link to this definition"></a></dt>
<dd><p>Options of the wav audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the capture stream</p></li>
<li><p><strong>out</strong> (<span><a class="reference internal" href="#object-QMP-audio.AudiodevPerDirectionOptions" title="QMP:audio.AudiodevPerDirectionOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPerDirectionOptions</span></code></a>, <em>optional</em></span>) -- options of the playback stream</p></li>
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- name of the wav file to record (default 'qemu.wav')</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-audio.AudioFormat">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudioFormat</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-audio.AudioFormat" title="Link to this definition"></a></dt>
<dd><p>An enumeration of possible audio formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u8</strong> -- unsigned 8 bit integer</p></li>
<li><p><strong>s8</strong> -- signed 8 bit integer</p></li>
<li><p><strong>u16</strong> -- unsigned 16 bit integer</p></li>
<li><p><strong>s16</strong> -- signed 16 bit integer</p></li>
<li><p><strong>u32</strong> -- unsigned 32 bit integer</p></li>
<li><p><strong>s32</strong> -- signed 32 bit integer</p></li>
<li><p><strong>f32</strong> -- single precision floating-point (since 5.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-audio.AudiodevDriver">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AudiodevDriver</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#enum-QMP-audio.AudiodevDriver" title="Link to this definition"></a></dt>
<dd><p>An enumeration of possible audio backend drivers.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jack</strong> -- JACK audio backend (since 5.1)</p></li>
<li><p><strong>none</strong> -- Not documented</p></li>
<li><p><strong>alsa</strong> -- Not documented</p></li>
<li><p><strong>coreaudio</strong> -- Not documented</p></li>
<li><p><strong>dbus</strong> -- Not documented</p></li>
<li><p><strong>dsound</strong> -- Not documented</p></li>
<li><p><strong>oss</strong> -- Not documented</p></li>
<li><p><strong>pa</strong> -- Not documented</p></li>
<li><p><strong>pipewire</strong> -- Not documented</p></li>
<li><p><strong>sdl</strong> -- Not documented</p></li>
<li><p><strong>sndio</strong> -- Not documented</p></li>
<li><p><strong>spice</strong> -- Not documented</p></li>
<li><p><strong>wav</strong> -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-audio.Audiodev">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Audiodev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">4.0)</span></span><a class="headerlink" href="#object-QMP-audio.Audiodev" title="Link to this definition"></a></dt>
<dd><p>Options of an audio backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- identifier of the backend</p></li>
<li><p><strong>driver</strong> (<span><a class="reference internal" href="#enum-QMP-audio.AudiodevDriver" title="QMP:audio.AudiodevDriver"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevDriver</span></code></a></span>) -- the backend driver to use</p></li>
<li><p><strong>timer-period</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- timer period (in microseconds, 0: use lowest
possible)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">none</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevGenericOptions" title="QMP:audio.AudiodevGenericOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevGenericOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">alsa</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevAlsaOptions" title="QMP:audio.AudiodevAlsaOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevAlsaOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">coreaudio</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevCoreaudioOptions" title="QMP:audio.AudiodevCoreaudioOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevCoreaudioOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">dbus</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevDBusOptions" title="QMP:audio.AudiodevDBusOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevDBusOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">dsound</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevDsoundOptions" title="QMP:audio.AudiodevDsoundOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevDsoundOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">jack</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevJackOptions" title="QMP:audio.AudiodevJackOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevJackOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">oss</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevOssOptions" title="QMP:audio.AudiodevOssOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevOssOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">pa</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPaOptions" title="QMP:audio.AudiodevPaOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPaOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">pipewire</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevPipewireOptions" title="QMP:audio.AudiodevPipewireOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevPipewireOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">sdl</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevSdlOptions" title="QMP:audio.AudiodevSdlOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevSdlOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">sndio</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevSndioOptions" title="QMP:audio.AudiodevSndioOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevSndioOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">spice</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevGenericOptions" title="QMP:audio.AudiodevGenericOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevGenericOptions</span></code></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">driver</span></code> is <code class="docutils literal notranslate"><span class="pre">wav</span></code>: The members of <a class="reference internal" href="#object-QMP-audio.AudiodevWavOptions" title="QMP:audio.AudiodevWavOptions"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">AudiodevWavOptions</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-audio.query-audiodevs">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-audiodevs</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#command-QMP-audio.query-audiodevs" title="Link to this definition"></a></dt>
<dd><p>Return information about audiodev configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-audio.Audiodev" title="QMP:audio.Audiodev"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Audiodev</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="acpi">
<span id="module-QMP-acpi"></span><h2><a class="toc-backref" href="#id40" role="doc-backlink">ACPI</a><a class="headerlink" href="#acpi" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-acpi.AcpiTableOptions">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AcpiTableOptions</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">1.5)</span></span><a class="headerlink" href="#object-QMP-acpi.AcpiTableOptions" title="Link to this definition"></a></dt>
<dd><p>Specify an ACPI table on the command line to load.</p>
<p>At most one of <code class="docutils literal notranslate"><span class="pre">file</span></code> and <code class="docutils literal notranslate"><span class="pre">data</span></code> can be specified.  The list of files
specified by any one of them is loaded and concatenated in order.
If both are omitted, <code class="docutils literal notranslate"><span class="pre">data</span></code> is implied.</p>
<p>Other fields / optargs can be used to override fields of the generic
ACPI table header; refer to the ACPI specification 5.0, section
5.2.6 System Description Table Header.  If a header field is not
overridden, then the corresponding value from the concatenated blob
is used (in case of <code class="docutils literal notranslate"><span class="pre">file</span></code>), or it is filled in with a hard-coded
value (in case of <code class="docutils literal notranslate"><span class="pre">data</span></code>).</p>
<p>String fields are copied into the matching ACPI member from lowest
address upwards, and silently truncated / NUL-padded to length.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sig</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- table signature / identifier (4 bytes)</p></li>
<li><p><strong>rev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- table revision number (dependent on signature, 1 byte)</p></li>
<li><p><strong>oem_id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- OEM identifier (6 bytes)</p></li>
<li><p><strong>oem_table_id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- OEM table identifier (8 bytes)</p></li>
<li><p><strong>oem_rev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- OEM-supplied revision number (4 bytes)</p></li>
<li><p><strong>asl_compiler_id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- identifier of the utility that created the table
(4 bytes)</p></li>
<li><p><strong>asl_compiler_rev</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- revision number of the utility that created the
table (4 bytes)</p></li>
<li><p><strong>file</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- colon (:) separated list of pathnames to load and concatenate
as table data.  The resultant binary blob is expected to have an
ACPI table header.  At least one file is required.  This field
excludes <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p></li>
<li><p><strong>data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- colon (:) separated list of pathnames to load and concatenate
as table data.  The resultant binary blob must not have an ACPI
table header.  At least one file is required.  This field
excludes <code class="docutils literal notranslate"><span class="pre">file</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-acpi.ACPISlotType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ACPISlotType</span></span><a class="headerlink" href="#enum-QMP-acpi.ACPISlotType" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>DIMM</strong> -- memory slot</p></li>
<li><p><strong>CPU</strong> -- logical CPU slot (since 2.7)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-acpi.ACPIOSTInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ACPIOSTInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#object-QMP-acpi.ACPIOSTInfo" title="Link to this definition"></a></dt>
<dd><p>OSPM Status Indication for a device.  For description of possible
values of <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">status</span></code> fields see &quot;_OST (OSPM Status
Indication)&quot; chapter of ACPI5.0 spec.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- device ID associated with slot</p></li>
<li><p><strong>slot</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- slot ID, unique per slot of a given <code class="docutils literal notranslate"><span class="pre">slot-type</span></code></p></li>
<li><p><strong>slot-type</strong> (<span><a class="reference internal" href="#enum-QMP-acpi.ACPISlotType" title="QMP:acpi.ACPISlotType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ACPISlotType</span></code></a></span>) -- type of the slot</p></li>
<li><p><strong>source</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- an integer containing the source event</p></li>
<li><p><strong>status</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- an integer containing the status code</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-acpi.query-acpi-ospm-status">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-acpi-ospm-status</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#command-QMP-acpi.query-acpi-ospm-status" title="Link to this definition"></a></dt>
<dd><p>Return a list of <a class="reference internal" href="#object-QMP-acpi.ACPIOSTInfo" title="QMP:acpi.ACPIOSTInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">ACPIOSTInfo</span></code></a> for devices that support status
reporting via ACPI _OST method.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-acpi.ACPIOSTInfo" title="QMP:acpi.ACPIOSTInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ACPIOSTInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-acpi-ospm-status&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;slot-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DIMM&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;slot-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DIMM&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;slot-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DIMM&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
<span class="w">                 </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;slot-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DIMM&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
<span class="w">   </span><span class="p">]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-acpi.ACPI_DEVICE_OST">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ACPI_DEVICE_OST</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.1)</span></span><a class="headerlink" href="#event-QMP-acpi.ACPI_DEVICE_OST" title="Link to this definition"></a></dt>
<dd><p>Emitted when guest executes ACPI _OST method.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>info</strong> (<span><a class="reference internal" href="#object-QMP-acpi.ACPIOSTInfo" title="QMP:acpi.ACPIOSTInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">ACPIOSTInfo</span></code></a></span>) -- OSPM Status Indication</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ACPI_DEVICE_OST&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                         </span><span class="nt">&quot;slot-type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DIMM&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1265044230</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450486</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="pci">
<span id="module-QMP-pci"></span><h2><a class="toc-backref" href="#id41" role="doc-backlink">PCI</a><a class="headerlink" href="#pci" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-pci.PciMemoryRange">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PciMemoryRange</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-pci.PciMemoryRange" title="Link to this definition"></a></dt>
<dd><p>A PCI device memory region</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the starting address (guest physical)</p></li>
<li><p><strong>limit</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the ending address (guest physical)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-pci.PciMemoryRegion">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PciMemoryRegion</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-pci.PciMemoryRegion" title="Link to this definition"></a></dt>
<dd><p>Information about a PCI device I/O region.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bar</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the index of the Base Address Register for this region</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- <ul>
<li><p>'io' if the region is a PIO region</p></li>
<li><p>'memory' if the region is a MMIO region</p></li>
</ul>
</p></li>
<li><p><strong>address</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- memory address</p></li>
<li><p><strong>size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- memory size</p></li>
<li><p><strong>prefetch</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if <code class="docutils literal notranslate"><span class="pre">type</span></code> is 'memory', true if the memory is prefetchable</p></li>
<li><p><strong>mem_type_64</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- if <code class="docutils literal notranslate"><span class="pre">type</span></code> is 'memory', true if the BAR is 64-bit</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-pci.PciBusInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PciBusInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-pci.PciBusInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a bus of a PCI Bridge device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- primary bus interface number.  This should be the number of
the bus the device resides on.</p></li>
<li><p><strong>secondary</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- secondary bus interface number.  This is the number of
the main bus for the bridge</p></li>
<li><p><strong>subordinate</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- This is the highest number bus that resides below the
bridge.</p></li>
<li><p><strong>io_range</strong> (<span><a class="reference internal" href="#object-QMP-pci.PciMemoryRange" title="QMP:pci.PciMemoryRange"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciMemoryRange</span></code></a></span>) -- The PIO range for all devices on this bridge</p></li>
<li><p><strong>memory_range</strong> (<span><a class="reference internal" href="#object-QMP-pci.PciMemoryRange" title="QMP:pci.PciMemoryRange"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciMemoryRange</span></code></a></span>) -- The MMIO range for all devices on this bridge</p></li>
<li><p><strong>prefetchable_range</strong> (<span><a class="reference internal" href="#object-QMP-pci.PciMemoryRange" title="QMP:pci.PciMemoryRange"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciMemoryRange</span></code></a></span>) -- The range of prefetchable MMIO for all devices
on this bridge</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-pci.PciBridgeInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PciBridgeInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-pci.PciBridgeInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a PCI Bridge device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bus</strong> (<span><a class="reference internal" href="#object-QMP-pci.PciBusInfo" title="QMP:pci.PciBusInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciBusInfo</span></code></a></span>) -- information about the bus the device resides on</p></li>
<li><p><strong>devices</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-pci.PciDeviceInfo" title="QMP:pci.PciDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciDeviceInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- a list of <a class="reference internal" href="#object-QMP-pci.PciDeviceInfo" title="QMP:pci.PciDeviceInfo"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">PciDeviceInfo</span></code></a> for each device on this bridge</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-pci.PciDeviceClass">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PciDeviceClass</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-pci.PciDeviceClass" title="Link to this definition"></a></dt>
<dd><p>Information about the Class of a PCI device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>desc</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- a string description of the device's class (not stable, and
should only be treated as informational)</p></li>
<li><p><strong>class</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the class code of the device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-pci.PciDeviceId">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PciDeviceId</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">2.4)</span></span><a class="headerlink" href="#object-QMP-pci.PciDeviceId" title="Link to this definition"></a></dt>
<dd><p>Information about the Id of a PCI device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the PCI device id</p></li>
<li><p><strong>vendor</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the PCI vendor id</p></li>
<li><p><strong>subsystem</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the PCI subsystem id (since 3.1)</p></li>
<li><p><strong>subsystem-vendor</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- the PCI subsystem vendor id (since 3.1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-pci.PciDeviceInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PciDeviceInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-pci.PciDeviceInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a PCI device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bus</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the bus number of the device</p></li>
<li><p><strong>slot</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the slot the device is located in</p></li>
<li><p><strong>function</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the function of the slot used by the device</p></li>
<li><p><strong>class_info</strong> (<span><a class="reference internal" href="#object-QMP-pci.PciDeviceClass" title="QMP:pci.PciDeviceClass"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciDeviceClass</span></code></a></span>) -- the class of the device</p></li>
<li><p><strong>id</strong> (<span><a class="reference internal" href="#object-QMP-pci.PciDeviceId" title="QMP:pci.PciDeviceId"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciDeviceId</span></code></a></span>) -- the PCI device id</p></li>
<li><p><strong>irq</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- if an IRQ is assigned to the device, the IRQ number</p></li>
<li><p><strong>irq_pin</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the IRQ pin, zero means no IRQ (since 5.1)</p></li>
<li><p><strong>qdev_id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the device name of the PCI device</p></li>
<li><p><strong>pci_bridge</strong> (<span><a class="reference internal" href="#object-QMP-pci.PciBridgeInfo" title="QMP:pci.PciBridgeInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciBridgeInfo</span></code></a>, <em>optional</em></span>) -- if the device is a PCI bridge, the bridge information</p></li>
<li><p><strong>regions</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-pci.PciMemoryRegion" title="QMP:pci.PciMemoryRegion"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciMemoryRegion</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- a list of the PCI I/O regions associated with the device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-pci.PciInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PciInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#object-QMP-pci.PciInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a PCI bus</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bus</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the bus index</p></li>
<li><p><strong>devices</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-pci.PciDeviceInfo" title="QMP:pci.PciDeviceInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciDeviceInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- a list of devices on this bus</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-pci.query-pci">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-pci</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">0.14)</span></span><a class="headerlink" href="#command-QMP-pci.query-pci" title="Link to this definition"></a></dt>
<dd><p>Return information about the PCI bus topology of the guest.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-pci.PciInfo" title="QMP:pci.PciInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">PciInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list of info for each PCI bus.  Each bus is
represented by a json-object, which has a key with a json-array
of all PCI devices attached to it.  Each device is represented
by a json-object.</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-pci&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;bus&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">               </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;bus&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;qdev_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;class_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1536</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Host bridge&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">32902</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;vendor&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4663</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">]</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;bus&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;qdev_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;class_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1537</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ISA bridge&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">32902</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;vendor&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28672</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">]</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;bus&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;qdev_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;class_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">257</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IDE controller&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">32902</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;vendor&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28688</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                     </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">49152</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;io&quot;</span>
<span class="w">                     </span><span class="p">}</span>
<span class="w">                  </span><span class="p">]</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;bus&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;qdev_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;class_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">768</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VGA controller&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4115</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;vendor&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">184</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                     </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;prefetch&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;mem_type_64&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">33554432</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4026531840</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;memory&quot;</span>
<span class="w">                     </span><span class="p">},</span>
<span class="w">                     </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;prefetch&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;mem_type_64&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4096</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4060086272</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;memory&quot;</span>
<span class="w">                     </span><span class="p">},</span>
<span class="w">                     </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;prefetch&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;mem_type_64&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">65536</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;memory&quot;</span>
<span class="w">                     </span><span class="p">}</span>
<span class="w">                  </span><span class="p">]</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;bus&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;qdev_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;irq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;slot&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;class_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1280</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;RAM controller&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6900</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;vendor&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4098</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                     </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">49280</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;io&quot;</span>
<span class="w">                     </span><span class="p">}</span>
<span class="w">                  </span><span class="p">]</span>
<span class="w">               </span><span class="p">}</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>This example has been shortened as the real response is too long.</p>
</dd></dl>

</section>
<section id="statistics">
<span id="module-QMP-stats"></span><h2><a class="toc-backref" href="#id42" role="doc-backlink">Statistics</a><a class="headerlink" href="#statistics" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-stats.StatsType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-stats.StatsType" title="Link to this definition"></a></dt>
<dd><p>Enumeration of statistics types</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cumulative</strong> -- stat is cumulative; value can only increase.</p></li>
<li><p><strong>instant</strong> -- stat is instantaneous; value can increase or decrease.</p></li>
<li><p><strong>peak</strong> -- stat is the peak value; value can only increase.</p></li>
<li><p><strong>linear-histogram</strong> -- stat is a linear histogram.</p></li>
<li><p><strong>log2-histogram</strong> -- stat is a logarithmic histogram, with one bucket
for each power of two.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-stats.StatsUnit">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsUnit</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-stats.StatsUnit" title="Link to this definition"></a></dt>
<dd><p>Enumeration of unit of measurement for statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bytes</strong> -- stat reported in bytes.</p></li>
<li><p><strong>seconds</strong> -- stat reported in seconds.</p></li>
<li><p><strong>cycles</strong> -- stat reported in clock cycles.</p></li>
<li><p><strong>boolean</strong> -- stat is a boolean value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-stats.StatsProvider">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsProvider</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-stats.StatsProvider" title="Link to this definition"></a></dt>
<dd><p>Enumeration of statistics providers.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kvm</strong> -- since 7.1</p></li>
<li><p><strong>cryptodev</strong> -- since 8.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-stats.StatsTarget">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsTarget</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#enum-QMP-stats.StatsTarget" title="Link to this definition"></a></dt>
<dd><p>The kinds of objects on which one can request statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vm</strong> -- statistics that apply to the entire virtual machine or the
entire QEMU process.</p></li>
<li><p><strong>vcpu</strong> -- statistics that apply to a single virtual CPU.</p></li>
<li><p><strong>cryptodev</strong> -- statistics that apply to a crypto device (since 8.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-stats.StatsRequest">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsRequest</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-stats.StatsRequest" title="Link to this definition"></a></dt>
<dd><p>Indicates a set of statistics that should be returned by
<a class="reference internal" href="#command-QMP-stats.query-stats" title="QMP:stats.query-stats"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-stats</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>provider</strong> (<span><a class="reference internal" href="#enum-QMP-stats.StatsProvider" title="QMP:stats.StatsProvider"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsProvider</span></code></a></span>) -- provider for which to return statistics.</p></li>
<li><p><strong>names</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- statistics to be returned (all if omitted).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-stats.StatsVCPUFilter">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsVCPUFilter</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-stats.StatsVCPUFilter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vcpus</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- list of QOM paths for the desired vCPU objects.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-stats.StatsFilter">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsFilter</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-stats.StatsFilter" title="Link to this definition"></a></dt>
<dd><p>The arguments to the <a class="reference internal" href="#command-QMP-stats.query-stats" title="QMP:stats.query-stats"><code class="xref any qapi qapi-cmd docutils literal notranslate"><span class="pre">query-stats</span></code></a> command; specifies a target for
which to request statistics and optionally the required subset of
information for that target.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<span><a class="reference internal" href="#enum-QMP-stats.StatsTarget" title="QMP:stats.StatsTarget"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsTarget</span></code></a></span>) -- the kind of objects to query.  Note that each possible
target may enable additional filtering options</p></li>
<li><p><strong>providers</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-stats.StatsRequest" title="QMP:stats.StatsRequest"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsRequest</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- which providers to request statistics from, and
optionally which named values to return within each provider</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">target</span></code> is <code class="docutils literal notranslate"><span class="pre">vcpu</span></code>: The members of <a class="reference internal" href="#object-QMP-stats.StatsVCPUFilter" title="QMP:stats.StatsVCPUFilter"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsVCPUFilter</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi alternate">
<dt class="sig sig-object qapi" id="alternate-QMP-stats.StatsValue">
<em class="property"><span class="k"><span class="pre">Alternate</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsValue</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#alternate-QMP-stats.StatsValue" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Alternatives<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scalar</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- single unsigned 64-bit integers.</p></li>
<li><p><strong>boolean</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- single boolean value.</p></li>
<li><p><strong>list</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of unsigned 64-bit integers (used for histograms).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-stats.Stats">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Stats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-stats.Stats" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of stat.</p></li>
<li><p><strong>value</strong> (<span><a class="reference internal" href="#alternate-QMP-stats.StatsValue" title="QMP:stats.StatsValue"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsValue</span></code></a></span>) -- stat value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-stats.StatsResult">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsResult</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-stats.StatsResult" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>provider</strong> (<span><a class="reference internal" href="#enum-QMP-stats.StatsProvider" title="QMP:stats.StatsProvider"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsProvider</span></code></a></span>) -- provider for this set of statistics.</p></li>
<li><p><strong>qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Path to the object for which the statistics are returned,
if the object is exposed in the QOM tree</p></li>
<li><p><strong>stats</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-stats.Stats" title="QMP:stats.Stats"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">Stats</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of statistics.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-stats.query-stats">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-stats</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#command-QMP-stats.query-stats" title="Link to this definition"></a></dt>
<dd><p>Return runtime-collected statistics for objects such as the VM or
its vCPUs.</p>
<p>The arguments are a <a class="reference internal" href="#object-QMP-stats.StatsFilter" title="QMP:stats.StatsFilter"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">StatsFilter</span></code></a> and specify the provider and objects
to return statistics about.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The members of <a class="reference internal" href="#object-QMP-stats.StatsFilter" title="QMP:stats.StatsFilter"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsFilter</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-stats.StatsResult" title="QMP:stats.StatsResult"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsResult</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- a list of statistics, one for each provider and object
(e.g., for each vCPU).</p>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-stats.StatsSchemaValue">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsSchemaValue</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-stats.StatsSchemaValue" title="Link to this definition"></a></dt>
<dd><p>Schema for a single statistic.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- name of the statistic; each element of the schema is uniquely
identified by a target, a provider (both available in
<a class="reference internal" href="#object-QMP-stats.StatsSchema" title="QMP:stats.StatsSchema"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">StatsSchema</span></code></a>) and the name.</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-stats.StatsType" title="QMP:stats.StatsType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsType</span></code></a></span>) -- kind of statistic.</p></li>
<li><p><strong>unit</strong> (<span><a class="reference internal" href="#enum-QMP-stats.StatsUnit" title="QMP:stats.StatsUnit"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsUnit</span></code></a>, <em>optional</em></span>) -- basic unit of measure for the statistic; if missing, the
statistic is a simple number or counter.</p></li>
<li><p><strong>base</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- base for the multiple of <code class="docutils literal notranslate"><span class="pre">unit</span></code> in which the statistic is
measured.  Only present if <code class="docutils literal notranslate"><span class="pre">exponent</span></code> is non-zero; <code class="docutils literal notranslate"><span class="pre">base</span></code> and
<code class="docutils literal notranslate"><span class="pre">exponent</span></code> together form a SI prefix (e.g., _nano-_ for
<code class="docutils literal notranslate"><span class="pre">base=10</span></code> and <code class="docutils literal notranslate"><span class="pre">exponent=-9</span></code>) or IEC binary prefix (e.g.
_kibi-_ for <code class="docutils literal notranslate"><span class="pre">base=2</span></code> and <code class="docutils literal notranslate"><span class="pre">exponent=10</span></code>)</p></li>
<li><p><strong>exponent</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- exponent for the multiple of <code class="docutils literal notranslate"><span class="pre">unit</span></code> in which the statistic
is expressed, or 0 for the basic unit</p></li>
<li><p><strong>bucket-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Present when <code class="docutils literal notranslate"><span class="pre">type</span></code> is &quot;linear-histogram&quot;, contains the
width of each bucket of the histogram.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-stats.StatsSchema">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatsSchema</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#object-QMP-stats.StatsSchema" title="Link to this definition"></a></dt>
<dd><p>Schema for all available statistics for a provider and target.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>provider</strong> (<span><a class="reference internal" href="#enum-QMP-stats.StatsProvider" title="QMP:stats.StatsProvider"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsProvider</span></code></a></span>) -- provider for this set of statistics.</p></li>
<li><p><strong>target</strong> (<span><a class="reference internal" href="#enum-QMP-stats.StatsTarget" title="QMP:stats.StatsTarget"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsTarget</span></code></a></span>) -- the kind of object that can be queried through the
provider.</p></li>
<li><p><strong>stats</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-stats.StatsSchemaValue" title="QMP:stats.StatsSchemaValue"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsSchemaValue</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of statistics.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-stats.query-stats-schemas">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-stats-schemas</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.1)</span></span><a class="headerlink" href="#command-QMP-stats.query-stats-schemas" title="Link to this definition"></a></dt>
<dd><p>Return the schema for all available runtime-collected statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>provider</strong> (<span><a class="reference internal" href="#enum-QMP-stats.StatsProvider" title="QMP:stats.StatsProvider"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsProvider</span></code></a>, <em>optional</em></span>) -- a provider to restrict the query to.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-stats.StatsSchema" title="QMP:stats.StatsSchema"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">StatsSchema</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Runtime-collected statistics and their names fall outside
QEMU's usual deprecation policies.  QEMU will try to keep the set
of available data stable, together with their names, but will not
guarantee stability at all costs; the same is true of providers
that source statistics externally, e.g. from Linux.  For example,
if the same value is being tracked with different names on
different architectures or by different providers, one of them
might be renamed.  A statistic might go away if an algorithm is
changed or some code is removed; changing a default might cause
previously useful statistics to always report 0.  Such changes,
however, are expected to be rare.</p>
</div>
</dd></dl>

</section>
<section id="virtio-devices">
<span id="module-QMP-virtio"></span><h2><a class="toc-backref" href="#id43" role="doc-backlink">Virtio devices</a><a class="headerlink" href="#virtio-devices" title="Link to this heading"></a></h2>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtioInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtioInfo" title="Link to this definition"></a></dt>
<dd><p>Basic information about a given VirtIODevice</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The VirtIODevice's canonical QOM path</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of the VirtIODevice</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-virtio.x-query-virtio">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-virtio</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#command-QMP-virtio.x-query-virtio" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Return a list of all realized VirtIODevices</p>
<dl class="field-list simple">
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-virtio.VirtioInfo" title="QMP:virtio.VirtioInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span> -- List of gathered VirtIODevices</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-input&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[4]/virtio-backend&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-crypto&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/crypto0/virtio-backend&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-scsi&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[2]/virtio-backend&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-net&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[1]/virtio-backend&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-serial&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[0]/virtio-backend&quot;</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">     </span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VhostStatus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VhostStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VhostStatus" title="Link to this definition"></a></dt>
<dd><p>Information about a vhost device.  This information will only be
displayed if the vhost device is active.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n-mem-sections</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_dev n_mem_sections</p></li>
<li><p><strong>n-tmp-sections</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_dev n_tmp_sections</p></li>
<li><p><strong>nvqs</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_dev nvqs (number of virtqueues being used)</p></li>
<li><p><strong>vq-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_dev vq_index</p></li>
<li><p><strong>features</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceFeatures" title="QMP:virtio.VirtioDeviceFeatures"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioDeviceFeatures</span></code></a></span>) -- vhost_dev features</p></li>
<li><p><strong>acked-features</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceFeatures" title="QMP:virtio.VirtioDeviceFeatures"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioDeviceFeatures</span></code></a></span>) -- vhost_dev acked_features</p></li>
<li><p><strong>backend-features</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceFeatures" title="QMP:virtio.VirtioDeviceFeatures"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioDeviceFeatures</span></code></a></span>) -- vhost_dev backend_features</p></li>
<li><p><strong>protocol-features</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VhostDeviceProtocols" title="QMP:virtio.VhostDeviceProtocols"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VhostDeviceProtocols</span></code></a></span>) -- vhost_dev protocol_features</p></li>
<li><p><strong>max-queues</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_dev max_queues</p></li>
<li><p><strong>backend-cap</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_dev backend_cap</p></li>
<li><p><strong>log-enabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- vhost_dev log_enabled flag</p></li>
<li><p><strong>log-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_dev log_size</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtioStatus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtioStatus" title="Link to this definition"></a></dt>
<dd><p>Full status of the virtio device with most VirtIODevice members.
Also includes the full status of the corresponding vhost device if
the vhost device is active.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- VirtIODevice name</p></li>
<li><p><strong>device-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtIODevice ID</p></li>
<li><p><strong>vhost-started</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice vhost_started flag</p></li>
<li><p><strong>guest-features</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceFeatures" title="QMP:virtio.VirtioDeviceFeatures"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioDeviceFeatures</span></code></a></span>) -- VirtIODevice guest_features</p></li>
<li><p><strong>host-features</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceFeatures" title="QMP:virtio.VirtioDeviceFeatures"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioDeviceFeatures</span></code></a></span>) -- VirtIODevice host_features</p></li>
<li><p><strong>backend-features</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceFeatures" title="QMP:virtio.VirtioDeviceFeatures"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioDeviceFeatures</span></code></a></span>) -- VirtIODevice backend_features</p></li>
<li><p><strong>device-endian</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- VirtIODevice device_endian</p></li>
<li><p><strong>num-vqs</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtIODevice virtqueue count.  This is the number of
active virtqueues being used by the VirtIODevice.</p></li>
<li><p><strong>status</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioDeviceStatus" title="QMP:virtio.VirtioDeviceStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioDeviceStatus</span></code></a></span>) -- VirtIODevice configuration status (<a class="reference internal" href="#object-QMP-virtio.VirtioDeviceStatus" title="QMP:virtio.VirtioDeviceStatus"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">VirtioDeviceStatus</span></code></a>)</p></li>
<li><p><strong>isr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtIODevice ISR</p></li>
<li><p><strong>queue-sel</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtIODevice queue_sel</p></li>
<li><p><strong>vm-running</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice vm_running flag</p></li>
<li><p><strong>broken</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice broken flag</p></li>
<li><p><strong>disabled</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice disabled flag</p></li>
<li><p><strong>use-started</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice use_started flag</p></li>
<li><p><strong>started</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice started flag</p></li>
<li><p><strong>start-on-kick</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice start_on_kick flag</p></li>
<li><p><strong>disable-legacy-check</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice disabled_legacy_check flag</p></li>
<li><p><strong>bus-name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- VirtIODevice bus_name</p></li>
<li><p><strong>use-guest-notifier-mask</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtIODevice use_guest_notifier_mask flag</p></li>
<li><p><strong>vhost-dev</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VhostStatus" title="QMP:virtio.VhostStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VhostStatus</span></code></a>, <em>optional</em></span>) -- Corresponding vhost device info for a given
VirtIODevice.  Present if the given VirtIODevice has an active
vhost device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-virtio.x-query-virtio-status">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-virtio-status</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#command-QMP-virtio.x-query-virtio-status" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Poll for a comprehensive status of a given virtio device</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Canonical QOM path of the VirtIODevice</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-virtio.VirtioStatus" title="QMP:virtio.VirtioStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioStatus</span></code></a></span> -- Status of the virtio device</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Poll for the status of virtio-crypto (no vhost-crypto active)</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-status&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/crypto0/virtio-backend&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;device-endian&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;little&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;bus-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;disable-legacy-check&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-crypto&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;started&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;device-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;backend-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">             </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;start-on-kick&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;isr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;broken&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;statuses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_CONFIG_S_ACKNOWLEDGE: Valid virtio device found&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_CONFIG_S_DRIVER: Guest OS compatible with device&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_CONFIG_S_FEATURES_OK: Feature negotiation complete&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_CONFIG_S_DRIVER_OK: Driver setup and ready&quot;</span>
<span class="w">             </span><span class="p">]</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;num-vqs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;guest-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">             </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_EVENT_IDX: Used &amp; avail. event fields enabled&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_INDIRECT_DESC: Indirect descriptors supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_VERSION_1: Device compliant for v1 spec (legacy)&quot;</span>
<span class="w">             </span><span class="p">]</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;host-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;unknown-dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1073741824</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">             </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_EVENT_IDX: Used &amp; avail. event fields enabled&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_INDIRECT_DESC: Indirect descriptors supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_VERSION_1: Device compliant for v1 spec (legacy)&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_ANY_LAYOUT: Device accepts arbitrary desc. layouts&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_NOTIFY_ON_EMPTY: Notify when device runs out of avail. descs. on VQ&quot;</span>
<span class="w">             </span><span class="p">]</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;use-guest-notifier-mask&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vm-running&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;queue-sel&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;disabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vhost-started&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;use-started&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Poll for the status of virtio-net (vhost-net is active)</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-status&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[1]/virtio-backend&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;device-endian&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;little&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;bus-name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;disabled-legacy-check&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-net&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;started&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;device-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vhost-dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;n-tmp-sections&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;n-mem-sections&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;max-queues&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;backend-cap&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;log-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;backend-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">                 </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">             </span><span class="p">},</span>
<span class="w">             </span><span class="nt">&quot;nvqs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;protocol-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="nt">&quot;protocols&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">             </span><span class="p">},</span>
<span class="w">             </span><span class="nt">&quot;vq-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;log-enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">             </span><span class="nt">&quot;acked-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_NET_F_MRG_RXBUF: Driver can merge receive buffers&quot;</span>
<span class="w">                 </span><span class="p">],</span>
<span class="w">                 </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_RING_F_EVENT_IDX: Used &amp; avail. event fields enabled&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_RING_F_INDIRECT_DESC: Indirect descriptors supported&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_F_VERSION_1: Device compliant for v1 spec (legacy)&quot;</span>
<span class="w">                 </span><span class="p">]</span>
<span class="w">             </span><span class="p">},</span>
<span class="w">             </span><span class="nt">&quot;features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                     </span><span class="s2">&quot;VHOST_F_LOG_ALL: Logging write descriptors supported&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_NET_F_MRG_RXBUF: Driver can merge receive buffers&quot;</span>
<span class="w">                 </span><span class="p">],</span>
<span class="w">                 </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_RING_F_EVENT_IDX: Used &amp; avail. event fields enabled&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_RING_F_INDIRECT_DESC: Indirect descriptors supported&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_F_IOMMU_PLATFORM: Device can be used on IOMMU platform&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_F_VERSION_1: Device compliant for v1 spec (legacy)&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_F_ANY_LAYOUT: Device accepts arbitrary desc. layouts&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;VIRTIO_F_NOTIFY_ON_EMPTY: Notify when device runs out of avail. descs. on VQ&quot;</span>
<span class="w">                 </span><span class="p">]</span>
<span class="w">             </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;backend-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VHOST_USER_F_PROTOCOL_FEATURES: Vhost-user protocol features negotiation supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GSO: Handling GSO-type packets supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_MAC_ADDR: MAC address set through control channel&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_ANNOUNCE: Driver sending gratuitous packets supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_RX_EXTRA: Extra RX mode control supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_VLAN: Control channel VLAN filtering supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_RX: Control channel RX mode supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_VQ: Control channel available&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_STATUS: Configuration status field available&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_MRG_RXBUF: Driver can merge receive buffers&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_UFO: Device can receive UFO&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_ECN: Device can receive TSO with ECN&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_TSO6: Device can receive TSOv6&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_TSO4: Device can receive TSOv4&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_UFO: Driver can receive UFO&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_ECN: Driver can receive TSO with ECN&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_TSO6: Driver can receive TSOv6&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_TSO4: Driver can receive TSOv4&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_MAC: Device has given MAC address&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_GUEST_OFFLOADS: Control channel offloading reconfig. supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_CSUM: Driver handling packets with partial checksum supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CSUM: Device handling packets with partial checksum supported&quot;</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">             </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_EVENT_IDX: Used &amp; avail. event fields enabled&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_INDIRECT_DESC: Indirect descriptors supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_VERSION_1: Device compliant for v1 spec (legacy)&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_ANY_LAYOUT: Device accepts arbitrary desc. layouts&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_NOTIFY_ON_EMPTY: Notify when device runs out of avail. descs. on VQ&quot;</span>
<span class="w">             </span><span class="p">]</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;start-on-kick&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;isr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;broken&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;statuses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_CONFIG_S_ACKNOWLEDGE: Valid virtio device found&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_CONFIG_S_DRIVER: Guest OS compatible with device&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_CONFIG_S_FEATURES_OK: Feature negotiation complete&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_CONFIG_S_DRIVER_OK: Driver setup and ready&quot;</span>
<span class="w">             </span><span class="p">]</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;num-vqs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;guest-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_MAC_ADDR: MAC address set through control channel&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_ANNOUNCE: Driver sending gratuitous packets supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_VLAN: Control channel VLAN filtering supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_RX: Control channel RX mode supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_VQ: Control channel available&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_STATUS: Configuration status field available&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_MRG_RXBUF: Driver can merge receive buffers&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_UFO: Device can receive UFO&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_ECN: Device can receive TSO with ECN&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_TSO6: Device can receive TSOv6&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_TSO4: Device can receive TSOv4&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_UFO: Driver can receive UFO&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_ECN: Driver can receive TSO with ECN&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_TSO6: Driver can receive TSOv6&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_TSO4: Driver can receive TSOv4&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_MAC: Device has given MAC address&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_GUEST_OFFLOADS: Control channel offloading reconfig. supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_CSUM: Driver handling packets with partial checksum supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CSUM: Device handling packets with partial checksum supported&quot;</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">             </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_EVENT_IDX: Used &amp; avail. event fields enabled&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_INDIRECT_DESC: Indirect descriptors supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_VERSION_1: Device compliant for v1 spec (legacy)&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;host-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;dev-features&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VHOST_USER_F_PROTOCOL_FEATURES: Vhost-user protocol features negotiation supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GSO: Handling GSO-type packets supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_MAC_ADDR: MAC address set through control channel&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_ANNOUNCE: Driver sending gratuitous packets supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_RX_EXTRA: Extra RX mode control supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_VLAN: Control channel VLAN filtering supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_RX: Control channel RX mode supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_VQ: Control channel available&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_STATUS: Configuration status field available&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_MRG_RXBUF: Driver can merge receive buffers&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_UFO: Device can receive UFO&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_ECN: Device can receive TSO with ECN&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_TSO6: Device can receive TSOv6&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_HOST_TSO4: Device can receive TSOv4&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_UFO: Driver can receive UFO&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_ECN: Driver can receive TSO with ECN&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_TSO6: Driver can receive TSOv6&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_TSO4: Driver can receive TSOv4&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_MAC: Device has given MAC address&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CTRL_GUEST_OFFLOADS: Control channel offloading reconfig. supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_GUEST_CSUM: Driver handling packets with partial checksum supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_NET_F_CSUM: Device handling packets with partial checksum supported&quot;</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">             </span><span class="nt">&quot;transports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_EVENT_IDX: Used &amp; avail. event fields enabled&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_RING_F_INDIRECT_DESC: Indirect descriptors supported&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_VERSION_1: Device compliant for v1 spec (legacy)&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_ANY_LAYOUT: Device accepts arbitrary desc. layouts&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="s2">&quot;VIRTIO_F_NOTIFY_ON_EMPTY: Notify when device runs out of avail. descs. on VQ&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;use-guest-notifier-mask&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vm-running&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;queue-sel&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;disabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vhost-started&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;use-started&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtioDeviceStatus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioDeviceStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtioDeviceStatus" title="Link to this definition"></a></dt>
<dd><p>A structure defined to list the configuration statuses of a virtio
device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>statuses</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of decoded configuration statuses of the virtio
device</p></li>
<li><p><strong>unknown-statuses</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Virtio device statuses bitmap that have not been
decoded</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VhostDeviceProtocols">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VhostDeviceProtocols</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VhostDeviceProtocols" title="Link to this definition"></a></dt>
<dd><p>A structure defined to list the vhost user protocol features of a
Vhost User device</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protocols</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of decoded vhost user protocol features of a vhost
user device</p></li>
<li><p><strong>unknown-protocols</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Vhost user device protocol features bitmap that
have not been decoded</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtioDeviceFeatures">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioDeviceFeatures</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtioDeviceFeatures" title="Link to this definition"></a></dt>
<dd><p>The common fields that apply to most Virtio devices.  Some devices
may not have their own device-specific features (e.g. virtio-rng).</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transports</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of transport features of the virtio device</p></li>
<li><p><strong>dev-features</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- List of device-specific features (if the device has
unique features)</p></li>
<li><p><strong>unknown-dev-features</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Virtio device features bitmap that have not
been decoded</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtQueueStatus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtQueueStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtQueueStatus" title="Link to this definition"></a></dt>
<dd><p>Information of a VirtIODevice VirtQueue, including most members of
the VirtQueue data structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of the VirtIODevice that uses this VirtQueue</p></li>
<li><p><strong>queue-index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue queue_index</p></li>
<li><p><strong>inuse</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue inuse</p></li>
<li><p><strong>vring-num</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue vring.num</p></li>
<li><p><strong>vring-num-default</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue vring.num_default</p></li>
<li><p><strong>vring-align</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue vring.align</p></li>
<li><p><strong>vring-desc</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue vring.desc (descriptor area)</p></li>
<li><p><strong>vring-avail</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue vring.avail (driver area)</p></li>
<li><p><strong>vring-used</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue vring.used (device area)</p></li>
<li><p><strong>last-avail-idx</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- VirtQueue last_avail_idx or return of vhost_dev
vhost_get_vring_base (if vhost active)</p></li>
<li><p><strong>shadow-avail-idx</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- VirtQueue shadow_avail_idx</p></li>
<li><p><strong>used-idx</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue used_idx</p></li>
<li><p><strong>signalled-used</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue signalled_used</p></li>
<li><p><strong>signalled-used-valid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code></span>) -- VirtQueue signalled_used_valid flag</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-virtio.x-query-virtio-queue-status">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-virtio-queue-status</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#command-QMP-virtio.x-query-virtio-queue-status" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Return the status of a given VirtIODevice's VirtQueue</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- VirtIODevice canonical QOM path</p></li>
<li><p><strong>queue</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue index to examine</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-virtio.VirtQueueStatus" title="QMP:virtio.VirtQueueStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtQueueStatus</span></code></a></span> -- Status of the queue</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>last_avail_idx will not be displayed in the case where the
selected VirtIODevice has a running vhost device and the
VirtIODevice VirtQueue index (queue) does not exist for the
corresponding vhost device vhost_virtqueue.  Also,
shadow_avail_idx will not be displayed in the case where the
selected VirtIODevice has a running vhost device.</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Get <a class="reference internal" href="#object-QMP-virtio.VirtQueueStatus" title="QMP:virtio.VirtQueueStatus"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">VirtQueueStatus</span></code></a> for virtio-vsock (vhost-vsock running)</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-queue-status&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/vsock0/virtio-backend&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;queue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;signalled-used&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;inuse&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vhost-vsock&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-align&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4096</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5217370112</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;signalled-used-valid&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-num-default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-avail&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5217372160</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;queue-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;last-avail-idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-used&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5217372480</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;used-idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-num&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<p>Get <a class="reference internal" href="#object-QMP-virtio.VirtQueueStatus" title="QMP:virtio.VirtQueueStatus"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">VirtQueueStatus</span></code></a> for virtio-serial (no vhost)</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-queue-status&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[0]/virtio-backend&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;queue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;signalled-used&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;inuse&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-serial&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-align&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4096</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5182074880</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;signalled-used-valid&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-num-default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-avail&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5182076928</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;queue-index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;last-avail-idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-used&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5182077248</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;used-idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;shadow-avail-idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;vring-num&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtVhostQueueStatus">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtVhostQueueStatus</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtVhostQueueStatus" title="Link to this definition"></a></dt>
<dd><p>Information of a vhost device's vhost_virtqueue, including most
members of the vhost_dev vhost_virtqueue data structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of the VirtIODevice that uses this vhost_virtqueue</p></li>
<li><p><strong>kick</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue kick</p></li>
<li><p><strong>call</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue call</p></li>
<li><p><strong>desc</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue desc</p></li>
<li><p><strong>avail</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue avail</p></li>
<li><p><strong>used</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue used</p></li>
<li><p><strong>num</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue num</p></li>
<li><p><strong>desc-phys</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue desc_phys (descriptor area physical
address)</p></li>
<li><p><strong>desc-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue desc_size</p></li>
<li><p><strong>avail-phys</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue avail_phys (driver area physical
address)</p></li>
<li><p><strong>avail-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue avail_size</p></li>
<li><p><strong>used-phys</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue used_phys (device area physical address)</p></li>
<li><p><strong>used-size</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue used_size</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-virtio.x-query-virtio-vhost-queue-status">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-virtio-vhost-queue-status</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#command-QMP-virtio.x-query-virtio-vhost-queue-status" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Return information of a given vhost device's vhost_virtqueue</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- VirtIODevice canonical QOM path</p></li>
<li><p><strong>queue</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- vhost_virtqueue index to examine</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><a class="reference internal" href="#object-QMP-virtio.VirtVhostQueueStatus" title="QMP:virtio.VirtVhostQueueStatus"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtVhostQueueStatus</span></code></a></span> -- Status of the vhost_virtqueue</p>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Get vhost_virtqueue status for vhost-crypto</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-vhost-queue-status&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/crypto0/virtio-backend&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;queue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;avail-phys&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5216124928</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-crypto&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;used-phys&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5216127040</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;avail-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2054</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;desc-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16384</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;used-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8198</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">140141447430144</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;num&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;call&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;avail&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">140141447446528</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;desc-phys&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5216108544</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;used&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">140141447448640</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;kick&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Get vhost_virtqueue status for vhost-vsock</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-vhost-queue-status&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/vsock0/virtio-backend&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;queue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;avail-phys&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5182261248</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vhost-vsock&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;used-phys&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5182261568</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;avail-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">262</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;desc-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;used-size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1030</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">140141413580800</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;num&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;call&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;avail&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">140141413582848</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;desc-phys&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5182259200</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;used&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">140141413583168</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;kick&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtioRingDesc">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioRingDesc</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtioRingDesc" title="Link to this definition"></a></dt>
<dd><p>Information regarding the vring descriptor area</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Guest physical address of the descriptor area</p></li>
<li><p><strong>len</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Length of the descriptor area</p></li>
<li><p><strong>flags</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of descriptor flags</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtioRingAvail">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioRingAvail</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtioRingAvail" title="Link to this definition"></a></dt>
<dd><p>Information regarding the avail vring (a.k.a. driver area)</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flags</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VRingAvail flags</p></li>
<li><p><strong>idx</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VRingAvail index</p></li>
<li><p><strong>ring</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VRingAvail ring[] entry at provided index</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtioRingUsed">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioRingUsed</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtioRingUsed" title="Link to this definition"></a></dt>
<dd><p>Information regarding the used vring (a.k.a. device area)</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flags</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VRingUsed flags</p></li>
<li><p><strong>idx</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VRingUsed index</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtioQueueElement">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtioQueueElement</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtioQueueElement" title="Link to this definition"></a></dt>
<dd><p>Information regarding a VirtQueue's VirtQueueElement including
descriptor, driver, and device areas</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- Name of the VirtIODevice that uses this VirtQueue</p></li>
<li><p><strong>index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Index of the element in the queue</p></li>
<li><p><strong>descs</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-virtio.VirtioRingDesc" title="QMP:virtio.VirtioRingDesc"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioRingDesc</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- List of descriptors (<a class="reference internal" href="#object-QMP-virtio.VirtioRingDesc" title="QMP:virtio.VirtioRingDesc"><code class="xref any qapi qapi-obj docutils literal notranslate"><span class="pre">VirtioRingDesc</span></code></a>)</p></li>
<li><p><strong>avail</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioRingAvail" title="QMP:virtio.VirtioRingAvail"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioRingAvail</span></code></a></span>) -- VRingAvail info</p></li>
<li><p><strong>used</strong> (<span><a class="reference internal" href="#object-QMP-virtio.VirtioRingUsed" title="QMP:virtio.VirtioRingUsed"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioRingUsed</span></code></a></span>) -- VRingUsed info</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-virtio.x-query-virtio-queue-element">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x-query-virtio-queue-element</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">7.2)</span></span><a class="headerlink" href="#command-QMP-virtio.x-query-virtio-queue-element" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Return the information about a VirtQueue's VirtQueueElement</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- VirtIODevice canonical QOM path</p></li>
<li><p><strong>queue</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- VirtQueue index to examine</p></li>
<li><p><strong>index</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Index of the element in the queue (default: head of the
queue)</p></li>
</ul>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><span><a class="reference internal" href="#object-QMP-virtio.VirtioQueueElement" title="QMP:virtio.VirtioQueueElement"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtioQueueElement</span></code></a></span></p>
</dd>
<dt class="field-odd">Features<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unstable</strong> -- This command is meant for debugging.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Introspect on virtio-net's VirtQueue 0 at index 5</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-queue-element&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[1]/virtio-backend&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;queue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-net&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;descs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;write&quot;</span><span class="p">],</span>
<span class="w">                  </span><span class="nt">&quot;len&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1536</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5257305600</span>
<span class="w">              </span><span class="p">}</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">          </span><span class="nt">&quot;avail&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;ring&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;used&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Introspect on virtio-crypto's VirtQueue 1 at head</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-queue-element&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/crypto0/virtio-backend&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;queue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-crypto&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;descs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">                  </span><span class="nt">&quot;len&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8080268923184214134</span>
<span class="w">              </span><span class="p">}</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">          </span><span class="nt">&quot;avail&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;ring&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;used&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example: Introspect on virtio-scsi's VirtQueue 2 at head</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="gp">-&gt; </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;execute&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x-query-virtio-queue-element&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral-anon/device[2]/virtio-backend&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;queue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w"> </span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;return&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtio-scsi&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;descs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;used&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;indirect&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;write&quot;</span><span class="p">],</span>
<span class="w">                  </span><span class="nt">&quot;len&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4099327944</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;addr&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12055409292258155293</span>
<span class="w">              </span><span class="p">}</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">          </span><span class="nt">&quot;avail&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1147</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;ring&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;used&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;idx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.IOThreadVirtQueueMapping">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IOThreadVirtQueueMapping</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#object-QMP-virtio.IOThreadVirtQueueMapping" title="Link to this definition"></a></dt>
<dd><p>Describes the subset of virtqueues assigned to an IOThread.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iothread</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the id of IOThread object</p></li>
<li><p><strong>vqs</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- an optional array of virtqueue indices that will be handled by
this IOThread.  When absent, virtqueues are assigned round-robin
across all IOThreadVirtQueueMappings provided.  Either all
IOThreadVirtQueueMappings must have <code class="docutils literal notranslate"><span class="pre">vqs</span></code> or none of them must
have it.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.VirtIOGPUOutput">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtIOGPUOutput</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.1)</span></span><a class="headerlink" href="#object-QMP-virtio.VirtIOGPUOutput" title="Link to this definition"></a></dt>
<dd><p>Describes configuration of a VirtIO GPU output.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the name of the output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-virtio.DummyVirtioForceArrays">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DummyVirtioForceArrays</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#object-QMP-virtio.DummyVirtioForceArrays" title="Link to this definition"></a></dt>
<dd><p>Not used by QMP; hack to let us use IOThreadVirtQueueMappingList
and VirtIOGPUOutputList internally</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unused-iothread-vq-mapping</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-virtio.IOThreadVirtQueueMapping" title="QMP:virtio.IOThreadVirtQueueMapping"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">IOThreadVirtQueueMapping</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Not documented</p></li>
<li><p><strong>unused-virtio-gpu-output</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-virtio.VirtIOGPUOutput" title="QMP:virtio.VirtIOGPUOutput"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">VirtIOGPUOutput</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Not documented</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-virtio.GranuleMode">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GranuleMode</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.0)</span></span><a class="headerlink" href="#enum-QMP-virtio.GranuleMode" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>4k</strong> -- granule page size of 4KiB</p></li>
<li><p><strong>8k</strong> -- granule page size of 8KiB</p></li>
<li><p><strong>16k</strong> -- granule page size of 16KiB</p></li>
<li><p><strong>64k</strong> -- granule page size of 64KiB</p></li>
<li><p><strong>host</strong> -- granule matches the host page size</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-virtio.VMAppleVirtioBlkVariant">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VMAppleVirtioBlkVariant</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.2)</span></span><a class="headerlink" href="#enum-QMP-virtio.VMAppleVirtioBlkVariant" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unspecified</strong> -- The default, not a valid setting.</p></li>
<li><p><strong>root</strong> -- Block device holding the root volume</p></li>
<li><p><strong>aux</strong> -- Block device holding auxiliary data required for boot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="vfio-devices">
<span id="module-QMP-vfio"></span><h2><a class="toc-backref" href="#id44" role="doc-backlink">VFIO devices</a><a class="headerlink" href="#vfio-devices" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-vfio.QapiVfioMigrationState">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QapiVfioMigrationState</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#enum-QMP-vfio.QapiVfioMigrationState" title="Link to this definition"></a></dt>
<dd><p>An enumeration of the VFIO device migration states.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stop</strong> -- The device is stopped.</p></li>
<li><p><strong>running</strong> -- The device is running.</p></li>
<li><p><strong>stop-copy</strong> -- The device is stopped and its internal state is
available for reading.</p></li>
<li><p><strong>resuming</strong> -- The device is stopped and its internal state is available
for writing.</p></li>
<li><p><strong>running-p2p</strong> -- The device is running in the P2P quiescent state.</p></li>
<li><p><strong>pre-copy</strong> -- The device is running, tracking its internal state and
its internal state is available for reading.</p></li>
<li><p><strong>pre-copy-p2p</strong> -- The device is running in the P2P quiescent state,
tracking its internal state and its internal state is available
for reading.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi event">
<dt class="sig sig-object qapi" id="event-QMP-vfio.VFIO_MIGRATION">
<em class="property"><span class="k"><span class="pre">Event</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VFIO_MIGRATION</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#event-QMP-vfio.VFIO_MIGRATION" title="Link to this definition"></a></dt>
<dd><p>This event is emitted when a VFIO device migration state is changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The device's id, if it has one.</p></li>
<li><p><strong>qom-path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- The device's QOM path.</p></li>
<li><p><strong>device-state</strong> (<span><a class="reference internal" href="#enum-QMP-vfio.QapiVfioMigrationState" title="QMP:vfio.QapiVfioMigrationState"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QapiVfioMigrationState</span></code></a></span>) -- The new changed device migration state.</p></li>
</ul>
</dd>
</dl>
<div class="admonition admonition-example">
<p class="admonition-title">Example:</p>
<div class="highlight-QMP notranslate"><div class="highlight"><pre><span></span><span class="gp">&lt;- </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1713771323</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;microseconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">212268</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VFIO_MIGRATION&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;device-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vfio_dev1&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;qom-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/machine/peripheral/vfio_dev1&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;device-state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stop&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
<section id="cryptography-devices">
<span id="module-QMP-cryptodev"></span><h2><a class="toc-backref" href="#id45" role="doc-backlink">Cryptography devices</a><a class="headerlink" href="#cryptography-devices" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-cryptodev.QCryptodevBackendAlgoType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptodevBackendAlgoType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#enum-QMP-cryptodev.QCryptodevBackendAlgoType" title="Link to this definition"></a></dt>
<dd><p>The supported algorithm types of a crypto device.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sym</strong> -- symmetric encryption</p></li>
<li><p><strong>asym</strong> -- asymmetric encryption</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-cryptodev.QCryptodevBackendServiceType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptodevBackendServiceType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#enum-QMP-cryptodev.QCryptodevBackendServiceType" title="Link to this definition"></a></dt>
<dd><p>The supported service types of a crypto device.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cipher</strong> -- Symmetric Key Cipher service</p></li>
<li><p><strong>hash</strong> -- Hash service</p></li>
<li><p><strong>mac</strong> -- Message Authentication Codes service</p></li>
<li><p><strong>aead</strong> -- Authenticated Encryption with Associated Data service</p></li>
<li><p><strong>akcipher</strong> -- Asymmetric Key Cipher service</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-cryptodev.QCryptodevBackendType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptodevBackendType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#enum-QMP-cryptodev.QCryptodevBackendType" title="Link to this definition"></a></dt>
<dd><p>The crypto device backend type</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builtin</strong> -- the QEMU builtin support</p></li>
<li><p><strong>vhost-user</strong> -- vhost-user</p></li>
<li><p><strong>lkcf</strong> -- Linux kernel cryptographic framework</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-cryptodev.QCryptodevBackendClient">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptodevBackendClient</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-cryptodev.QCryptodevBackendClient" title="Link to this definition"></a></dt>
<dd><p>Information about a queue of crypto device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- the queue index of the crypto device</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-cryptodev.QCryptodevBackendType" title="QMP:cryptodev.QCryptodevBackendType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptodevBackendType</span></code></a></span>) -- the type of the crypto device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-cryptodev.QCryptodevInfo">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QCryptodevInfo</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-cryptodev.QCryptodevInfo" title="Link to this definition"></a></dt>
<dd><p>Information about a crypto device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- the id of the crypto device</p></li>
<li><p><strong>service</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#enum-QMP-cryptodev.QCryptodevBackendServiceType" title="QMP:cryptodev.QCryptodevBackendServiceType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptodevBackendServiceType</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- supported service types of a crypto device</p></li>
<li><p><strong>client</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-cryptodev.QCryptodevBackendClient" title="QMP:cryptodev.QCryptodevBackendClient"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptodevBackendClient</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- the additional information of the crypto device</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cryptodev.query-cryptodev">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query-cryptodev</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#command-QMP-cryptodev.query-cryptodev" title="Link to this definition"></a></dt>
<dd><p>Return information about current crypto devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-cryptodev.QCryptodevInfo" title="QMP:cryptodev.QCryptodevInfo"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">QCryptodevInfo</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="cxl-devices">
<span id="module-QMP-cxl"></span><h2><a class="toc-backref" href="#id46" role="doc-backlink">CXL devices</a><a class="headerlink" href="#cxl-devices" title="Link to this heading"></a></h2>
<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-cxl.CxlEventLog">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CxlEventLog</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#enum-QMP-cxl.CxlEventLog" title="Link to this definition"></a></dt>
<dd><p>CXL has a number of separate event logs for different types of
events.  Each such event log is handled and signaled independently.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>informational</strong> -- Information Event Log</p></li>
<li><p><strong>warning</strong> -- Warning Event Log</p></li>
<li><p><strong>failure</strong> -- Failure Event Log</p></li>
<li><p><strong>fatal</strong> -- Fatal Event Log</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cxl.cxl-inject-general-media-event">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cxl-inject-general-media-event</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#command-QMP-cxl.cxl-inject-general-media-event" title="Link to this definition"></a></dt>
<dd><p>Inject an event record for a General Media Event (CXL r3.0
8.2.9.2.1.1).  This event type is reported via one of the event logs
specified via the log parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- CXL type 3 device canonical QOM path</p></li>
<li><p><strong>log</strong> (<span><a class="reference internal" href="#enum-QMP-cxl.CxlEventLog" title="QMP:cxl.CxlEventLog"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlEventLog</span></code></a></span>) -- event log to add the event to</p></li>
<li><p><strong>flags</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Event Record Flags.  See CXL r3.0 Table 8-42 Common Event
Record Format, Event Record Flags for subfield definitions.</p></li>
<li><p><strong>dpa</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Device Physical Address (relative to <code class="docutils literal notranslate"><span class="pre">path</span></code> device).  Note
lower bits include some flags.  See CXL r3.0 Table 8-43 General
Media Event Record, Physical Address.</p></li>
<li><p><strong>descriptor</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Memory Event Descriptor with additional memory event
information.  See CXL r3.0 Table 8-43 General Media Event
Record, Memory Event Descriptor for bit definitions.</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Type of memory event that occurred.  See CXL r3.0 Table 8-43
General Media Event Record, Memory Event Type for possible
values.</p></li>
<li><p><strong>transaction-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Type of first transaction that caused the event
to occur.  See CXL r3.0 Table 8-43 General Media Event Record,
Transaction Type for possible values.</p></li>
<li><p><strong>channel</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The channel of the memory event location.  A channel is an
interface that can be independently accessed for a transaction.</p></li>
<li><p><strong>rank</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The rank of the memory event location.  A rank is a set of
memory devices on a channel that together execute a transaction.</p></li>
<li><p><strong>device</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Bitmask that represents all devices in the rank associated
with the memory event location.</p></li>
<li><p><strong>component-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- Device specific component identifier for the event.
May describe a field replaceable sub-component of the device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cxl.cxl-inject-dram-event">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cxl-inject-dram-event</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#command-QMP-cxl.cxl-inject-dram-event" title="Link to this definition"></a></dt>
<dd><p>Inject an event record for a DRAM Event (CXL r3.0 8.2.9.2.1.2).
This event type is reported via one of the event logs specified via
the log parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- CXL type 3 device canonical QOM path</p></li>
<li><p><strong>log</strong> (<span><a class="reference internal" href="#enum-QMP-cxl.CxlEventLog" title="QMP:cxl.CxlEventLog"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlEventLog</span></code></a></span>) -- Event log to add the event to</p></li>
<li><p><strong>flags</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Event Record Flags.  See CXL r3.0 Table 8-42 Common Event
Record Format, Event Record Flags for subfield definitions.</p></li>
<li><p><strong>dpa</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Device Physical Address (relative to <code class="docutils literal notranslate"><span class="pre">path</span></code> device).  Note
lower bits include some flags.  See CXL r3.0 Table 8-44 DRAM
Event Record, Physical Address.</p></li>
<li><p><strong>descriptor</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Memory Event Descriptor with additional memory event
information.  See CXL r3.0 Table 8-44 DRAM Event Record, Memory
Event Descriptor for bit definitions.</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Type of memory event that occurred.  See CXL r3.0 Table 8-44
DRAM Event Record, Memory Event Type for possible values.</p></li>
<li><p><strong>transaction-type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Type of first transaction that caused the event
to occur.  See CXL r3.0 Table 8-44 DRAM Event Record,
Transaction Type for possible values.</p></li>
<li><p><strong>channel</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The channel of the memory event location.  A channel is an
interface that can be independently accessed for a transaction.</p></li>
<li><p><strong>rank</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- The rank of the memory event location.  A rank is a set of
memory devices on a channel that together execute a transaction.</p></li>
<li><p><strong>nibble-mask</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Identifies one or more nibbles that the error affects</p></li>
<li><p><strong>bank-group</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Bank group of the memory event location, incorporating
a number of banks.</p></li>
<li><p><strong>bank</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Bank of the memory event location.  A single bank is accessed
per read or write of the memory.</p></li>
<li><p><strong>row</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Row address within the DRAM.</p></li>
<li><p><strong>column</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code>, <em>optional</em></span>) -- Column address within the DRAM.</p></li>
<li><p><strong>correction-mask</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code>, <em>optional</em></span>) -- Bits within each nibble.  Used in order of bits
set in the nibble-mask.  Up to 4 nibbles may be covered.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cxl.cxl-inject-memory-module-event">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cxl-inject-memory-module-event</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#command-QMP-cxl.cxl-inject-memory-module-event" title="Link to this definition"></a></dt>
<dd><p>Inject an event record for a Memory Module Event (CXL r3.0
8.2.9.2.1.3).  This event includes a copy of the Device Health info
at the time of the event.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- CXL type 3 device canonical QOM path</p></li>
<li><p><strong>log</strong> (<span><a class="reference internal" href="#enum-QMP-cxl.CxlEventLog" title="QMP:cxl.CxlEventLog"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlEventLog</span></code></a></span>) -- Event Log to add the event to</p></li>
<li><p><strong>flags</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Event Record Flags.  See CXL r3.0 Table 8-42 Common Event
Record Format, Event Record Flags for subfield definitions.</p></li>
<li><p><strong>type</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Device Event Type.  See CXL r3.0 Table 8-45 Memory Module
Event Record for bit definitions for bit definiions.</p></li>
<li><p><strong>health-status</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Overall health summary bitmap.  See CXL r3.0 Table
8-100 Get Health Info Output Payload, Health Status for bit
definitions.</p></li>
<li><p><strong>media-status</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Overall media health summary.  See CXL r3.0 Table
8-100 Get Health Info Output Payload, Media Status for bit
definitions.</p></li>
<li><p><strong>additional-status</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- See CXL r3.0 Table 8-100 Get Health Info Output
Payload, Additional Status for subfield definitions.</p></li>
<li><p><strong>life-used</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Percentage (0-100) of factory expected life span.</p></li>
<li><p><strong>temperature</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Device temperature in degrees Celsius.</p></li>
<li><p><strong>dirty-shutdown-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Number of times the device has been unable to
determine whether data loss may have occurred.</p></li>
<li><p><strong>corrected-volatile-error-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Total number of correctable errors
in volatile memory.</p></li>
<li><p><strong>corrected-persistent-error-count</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Total number of correctable
errors in persistent memory</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cxl.cxl-inject-poison">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cxl-inject-poison</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.1)</span></span><a class="headerlink" href="#command-QMP-cxl.cxl-inject-poison" title="Link to this definition"></a></dt>
<dd><p>Poison records indicate that a CXL memory device knows that a
particular memory region may be corrupted.  This may be because of
locally detected errors (e.g. ECC failure) or poisoned writes
received from other components in the system.  This injection
mechanism enables testing of the OS handling of poison records which
may be queried via the CXL mailbox.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- CXL type 3 device canonical QOM path</p></li>
<li><p><strong>start</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Start address; must be 64 byte aligned.</p></li>
<li><p><strong>length</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- Length of poison to inject; must be a multiple of 64 bytes.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-cxl.CxlUncorErrorType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CxlUncorErrorType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#enum-QMP-cxl.CxlUncorErrorType" title="Link to this definition"></a></dt>
<dd><p>Type of uncorrectable CXL error to inject.  These errors are
reported via an AER uncorrectable internal error with additional
information logged at the CXL device.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache-data-parity</strong> -- Data error such as data parity or data ECC error
CXL.cache</p></li>
<li><p><strong>cache-address-parity</strong> -- Address parity or other errors associated
with the address field on CXL.cache</p></li>
<li><p><strong>cache-be-parity</strong> -- Byte enable parity or other byte enable errors on
CXL.cache</p></li>
<li><p><strong>cache-data-ecc</strong> -- ECC error on CXL.cache</p></li>
<li><p><strong>mem-data-parity</strong> -- Data error such as data parity or data ECC error
on CXL.mem</p></li>
<li><p><strong>mem-address-parity</strong> -- Address parity or other errors associated with
the address field on CXL.mem</p></li>
<li><p><strong>mem-be-parity</strong> -- Byte enable parity or other byte enable errors on
CXL.mem.</p></li>
<li><p><strong>mem-data-ecc</strong> -- Data ECC error on CXL.mem.</p></li>
<li><p><strong>reinit-threshold</strong> -- REINIT threshold hit.</p></li>
<li><p><strong>rsvd-encoding</strong> -- Received unrecognized encoding.</p></li>
<li><p><strong>poison-received</strong> -- Received poison from the peer.</p></li>
<li><p><strong>receiver-overflow</strong> -- Buffer overflows (first 3 bits of header log
indicate which)</p></li>
<li><p><strong>internal</strong> -- Component specific error</p></li>
<li><p><strong>cxl-ide-tx</strong> -- Integrity and data encryption tx error.</p></li>
<li><p><strong>cxl-ide-rx</strong> -- Integrity and data encryption rx error.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-cxl.CXLUncorErrorRecord">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CXLUncorErrorRecord</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#object-QMP-cxl.CXLUncorErrorRecord" title="Link to this definition"></a></dt>
<dd><p>Record of a single error including header log.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-cxl.CxlUncorErrorType" title="QMP:cxl.CxlUncorErrorType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlUncorErrorType</span></code></a></span>) -- Type of error</p></li>
<li><p><strong>header</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- 16 DWORD of header.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cxl.cxl-inject-uncorrectable-errors">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cxl-inject-uncorrectable-errors</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#command-QMP-cxl.cxl-inject-uncorrectable-errors" title="Link to this definition"></a></dt>
<dd><p>Command to allow injection of multiple errors in one go.  This
allows testing of multiple header log handling in the OS.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- CXL Type 3 device canonical QOM path</p></li>
<li><p><strong>errors</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-cxl.CXLUncorErrorRecord" title="QMP:cxl.CXLUncorErrorRecord"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CXLUncorErrorRecord</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- Errors to inject</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-cxl.CxlCorErrorType">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CxlCorErrorType</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#enum-QMP-cxl.CxlCorErrorType" title="Link to this definition"></a></dt>
<dd><p>Type of CXL correctable error to inject</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache-data-ecc</strong> -- Data ECC error on CXL.cache</p></li>
<li><p><strong>mem-data-ecc</strong> -- Data ECC error on CXL.mem</p></li>
<li><p><strong>crc-threshold</strong> -- Component specific and applicable to 68 byte Flit
mode only.</p></li>
<li><p><strong>retry-threshold</strong> -- Retry threshold hit in the Local Retry State
Machine, 68B Flits only.</p></li>
<li><p><strong>cache-poison-received</strong> -- Received poison from a peer on CXL.cache.</p></li>
<li><p><strong>mem-poison-received</strong> -- Received poison from a peer on CXL.mem</p></li>
<li><p><strong>physical</strong> -- Received error indication from the physical layer.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cxl.cxl-inject-correctable-error">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cxl-inject-correctable-error</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">8.0)</span></span><a class="headerlink" href="#command-QMP-cxl.cxl-inject-correctable-error" title="Link to this definition"></a></dt>
<dd><p>Command to inject a single correctable error.  Multiple error
injection of this error type is not interesting as there is no
associated header log.  These errors are reported via AER as a
correctable internal error, with additional detail available from
the CXL device.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- CXL Type 3 device canonical QOM path</p></li>
<li><p><strong>type</strong> (<span><a class="reference internal" href="#enum-QMP-cxl.CxlCorErrorType" title="QMP:cxl.CxlCorErrorType"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlCorErrorType</span></code></a></span>) -- Type of error.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-cxl.CxlDynamicCapacityExtent">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CxlDynamicCapacityExtent</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#object-QMP-cxl.CxlDynamicCapacityExtent" title="Link to this definition"></a></dt>
<dd><p>A single dynamic capacity extent.  This is a contiguous allocation
of memory by Device Physical Address within a single Dynamic
Capacity Region on a CXL Type 3 Device.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The offset (in bytes) to the start of the region where the
extent belongs to.</p></li>
<li><p><strong>len</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The length of the extent in bytes.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-cxl.CxlExtentSelectionPolicy">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CxlExtentSelectionPolicy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#enum-QMP-cxl.CxlExtentSelectionPolicy" title="Link to this definition"></a></dt>
<dd><p>The policy to use for selecting which extents comprise the added
capacity, as defined in Compute Express Link (CXL) Specification,
Revision 3.1, Table 7-70.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>free</strong> -- Device is responsible for allocating the requested memory
capacity and is free to do this using any combination of
supported extents.</p></li>
<li><p><strong>contiguous</strong> -- Device is responsible for allocating the requested
memory capacity but must do so as a single contiguous
extent.</p></li>
<li><p><strong>prescriptive</strong> -- The precise set of extents to be allocated is
specified by the command.  Thus allocation is being managed
by the issuer of the allocation command, not the device.</p></li>
<li><p><strong>enable-shared-access</strong> -- Capacity has already been allocated to a
different host using free, contiguous or prescriptive policy
with a known tag.  This policy then instructs the device to make
the capacity with the specified tag available to an additional
host.  Capacity is implicit as it matches that already
associated with the tag.  Note that the extent list (and hence
Device Physical Addresses) used are per host, so a device may
use different representations on each host.  The ordering of the
extents provided to each host is indicated to the host using per
extent sequence numbers generated by the device.  Has a similar
meaning for temporal sharing, but in that case there may be only
one host involved.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cxl.cxl-add-dynamic-capacity">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cxl-add-dynamic-capacity</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#command-QMP-cxl.cxl-add-dynamic-capacity" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Initiate adding dynamic capacity extents to a host.  This simulates
operations defined in Compute Express Link (CXL) Specification,
Revision 3.1, Section 7.6.7.6.5.  Note that, currently, establishing
success or failure of the full Add Dynamic Capacity flow requires
out of band communication with the OS of the CXL host.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the CXL Dynamic Capacity Device in the QOM tree.</p></li>
<li><p><strong>host-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The &quot;Host ID&quot; field as defined in Compute Express Link
(CXL) Specification, Revision 3.1, Table 7-70.</p></li>
<li><p><strong>selection-policy</strong> (<span><a class="reference internal" href="#enum-QMP-cxl.CxlExtentSelectionPolicy" title="QMP:cxl.CxlExtentSelectionPolicy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlExtentSelectionPolicy</span></code></a></span>) -- The &quot;Selection Policy&quot; bits as defined in
Compute Express Link (CXL) Specification, Revision 3.1,
Table 7-70.  It specifies the policy to use for selecting
which extents comprise the added capacity.</p></li>
<li><p><strong>region</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The &quot;Region Number&quot; field as defined in Compute Express
Link (CXL) Specification, Revision 3.1, Table 7-70.  Valid
range is from 0-7.</p></li>
<li><p><strong>tag</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The &quot;Tag&quot; field as defined in Compute Express Link (CXL)
Specification, Revision 3.1, Table 7-70.</p></li>
<li><p><strong>extents</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-cxl.CxlDynamicCapacityExtent" title="QMP:cxl.CxlDynamicCapacityExtent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlDynamicCapacityExtent</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- The &quot;Extent List&quot; field as defined in Compute Express Link
(CXL) Specification, Revision 3.1, Table 7-70.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- For now this command is subject to change.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi enum">
<dt class="sig sig-object qapi" id="enum-QMP-cxl.CxlExtentRemovalPolicy">
<em class="property"><span class="k"><span class="pre">Enum</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CxlExtentRemovalPolicy</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#enum-QMP-cxl.CxlExtentRemovalPolicy" title="Link to this definition"></a></dt>
<dd><p>The policy to use for selecting which extents comprise the released
capacity, defined in the &quot;Flags&quot; field in Compute Express Link (CXL)
Specification, Revision 3.1, Table 7-71.</p>
<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag-based</strong> -- Extents are selected by the device based on tag, with
no requirement for contiguous extents.</p></li>
<li><p><strong>prescriptive</strong> -- Extent list of capacity to release is included in
the request payload.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi command">
<dt class="sig sig-object qapi" id="command-QMP-cxl.cxl-release-dynamic-capacity">
<em class="property"><span class="k"><span class="pre">Command</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cxl-release-dynamic-capacity</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">9.1)</span></span><a class="headerlink" href="#command-QMP-cxl.cxl-release-dynamic-capacity" title="Link to this definition"></a></dt>
<dd><div class="qapi-infopips docutils container">
<div class="qapi-infopip qapi-unstable docutils container">
This command is unstable/experimental.</div>
</div>
<p>Initiate release of dynamic capacity extents from a host.  This
simulates operations defined in Compute Express Link (CXL)
Specification, Revision 3.1, Section 7.6.7.6.6.  Note that,
currently, success or failure of the full Release Dynamic Capacity
flow requires out of band communication with the OS of the CXL host.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- path to the CXL Dynamic Capacity Device in the QOM tree.</p></li>
<li><p><strong>host-id</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The &quot;Host ID&quot; field as defined in Compute Express Link
(CXL) Specification, Revision 3.1, Table 7-71.</p></li>
<li><p><strong>removal-policy</strong> (<span><a class="reference internal" href="#enum-QMP-cxl.CxlExtentRemovalPolicy" title="QMP:cxl.CxlExtentRemovalPolicy"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlExtentRemovalPolicy</span></code></a></span>) -- Bit[3:0] of the &quot;Flags&quot; field as defined in
Compute Express Link (CXL) Specification, Revision 3.1,
Table 7-71.</p></li>
<li><p><strong>forced-removal</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Bit[4] of the &quot;Flags&quot; field in Compute Express
Link (CXL) Specification, Revision 3.1, Table 7-71.  When set,
the device does not wait for a Release Dynamic Capacity command
from the host.  Instead, the host immediately looses access to
the released capacity.</p></li>
<li><p><strong>sanitize-on-release</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">boolean</span></code>, <em>optional</em></span>) -- Bit[5] of the &quot;Flags&quot; field in Compute Express
Link (CXL) Specification, Revision 3.1, Table 7-71.  When set,
the device should sanitize all released capacity as a result of
this request.  This ensures that all user data and metadata is
made permanently unavailable by whatever means is appropriate
for the media type.  Note that changing encryption keys is not
sufficient.</p></li>
<li><p><strong>region</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- The &quot;Region Number&quot; field as defined in Compute Express
Link Specification, Revision 3.1, Table 7-71.  Valid range
is from 0-7.</p></li>
<li><p><strong>tag</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- The &quot;Tag&quot; field as defined in Compute Express Link (CXL)
Specification, Revision 3.1, Table 7-71.</p></li>
<li><p><strong>extents</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-cxl.CxlDynamicCapacityExtent" title="QMP:cxl.CxlDynamicCapacityExtent"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">CxlDynamicCapacityExtent</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- The &quot;Extent List&quot; field as defined in Compute Express
Link (CXL) Specification, Revision 3.1, Table 7-71.</p></li>
</ul>
</dd>
<dt class="field-even">Features<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unstable</strong> -- For now this command is subject to change.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="uefi-variable-store">
<span id="module-QMP-uefi"></span><h2><a class="toc-backref" href="#id47" role="doc-backlink">UEFI Variable Store</a><a class="headerlink" href="#uefi-variable-store" title="Link to this heading"></a></h2>
<p>The QEMU efi variable store implementation (hw/uefi/) uses this to
store non-volatile variables in json format on disk.</p>
<p>This is an existing format already supported by (at least) two other
projects, specifically <a class="reference external" href="https://gitlab.com/kraxel/virt-firmware">https://gitlab.com/kraxel/virt-firmware</a> and
<a class="reference external" href="https://github.com/awslabs/python-uefivars">https://github.com/awslabs/python-uefivars</a>.</p>
<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-uefi.UefiVariable">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UefiVariable</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#object-QMP-uefi.UefiVariable" title="Link to this definition"></a></dt>
<dd><p>UEFI Variable.  Check the UEFI specifification for more detailed
information on the fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guid</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- variable namespace GUID</p></li>
<li><p><strong>name</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- variable name, in UTF-8 encoding.</p></li>
<li><p><strong>attr</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- variable attributes.</p></li>
<li><p><strong>data</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code></span>) -- variable value, encoded as hex string.</p></li>
<li><p><strong>time</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- variable modification time.  EFI_TIME struct, encoded as hex
string.  Used only for authenticated variables, where the
EFI_VARIABLE_TIME_BASED_AUTHENTICATED_WRITE_ACCESS attribute bit
is set.</p></li>
<li><p><strong>digest</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">string</span></code>, <em>optional</em></span>) -- variable certificate digest.  Used to verify the signature
of updates for authenticated variables.  UEFI has two kinds of
authenticated variables.  The secure boot variables ('PK',
'KEK', 'db' and 'dbx') have hard coded signature checking rules.
For other authenticated variables the firmware stores a digest
of the signing certificate at variable creation time, and any
updates must be signed with the same certificate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="qapi object">
<dt class="sig sig-object qapi" id="object-QMP-uefi.UefiVarStore">
<em class="property"><span class="k"><span class="pre">Object</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UefiVarStore</span></span><span class="w"> </span><span><span class="pre">(Since:</span> <span class="pre">10.0)</span></span><a class="headerlink" href="#object-QMP-uefi.UefiVarStore" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Members<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>version</strong> (<span><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">int</span></code></span>) -- currently always 2</p></li>
<li><p><strong>variables</strong> (<span><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#object-QMP-uefi.UefiVariable" title="QMP:uefi.UefiVariable"><code class="xref qapi qapi-type docutils literal notranslate"><span class="pre">UefiVariable</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></span>) -- list of UEFI variables</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="qemu-ga-ref.html" class="btn btn-neutral float-left" title="QEMU Guest Agent Protocol Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="qemu-storage-daemon-qmp-ref.html" class="btn btn-neutral float-right" title="QEMU Storage Daemon QMP Reference Manual" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2025, The QEMU Project Developers。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
  

<!-- Empty para to force a blank line after "Built with Sphinx ..." -->
<p></p>

<p>This documentation is for QEMU version 10.</p>


<p><a href="../about/license.html">QEMU and this manual are released under the
GNU General Public License, version 2.</a></p>

 


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>