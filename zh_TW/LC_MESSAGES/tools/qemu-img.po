# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2020, The QEMU Project Developers
# This file is distributed under the same license as the QEMU package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: QEMU 6.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-28 10:00+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../tools/qemu-img.rst:2
msgid "QEMU disk image utility"
msgstr ""

#: ../../../tools/qemu-img.rst:5
msgid "Synopsis"
msgstr "概要"

#: ../../../tools/qemu-img.rst:7
msgid "**qemu-img** [*standard options*] *command* [*command options*]"
msgstr ""

#: ../../../tools/qemu-img.rst:10
msgid "Description"
msgstr ""

#: ../../../tools/qemu-img.rst:12
msgid ""
"qemu-img allows you to create, convert and modify images offline. It can "
"handle all image formats supported by QEMU."
msgstr ""

#: ../../../tools/qemu-img.rst:15
msgid ""
"**Warning:** Never use qemu-img to modify images in use by a running virtual "
"machine or any other process; this may destroy the image. Also, be aware "
"that querying an image that is being modified by another process may "
"encounter inconsistent state."
msgstr ""

#: ../../../tools/qemu-img.rst:21
msgid "Options"
msgstr ""

#: ../../../tools/qemu-img.rst:25
msgid "Standard options:"
msgstr ""

#: ../../../tools/qemu-img.rst:29
msgid "Display this help and exit"
msgstr ""

#: ../../../tools/qemu-img.rst:33
msgid "Display version information and exit"
msgstr ""

#: ../../../qemu-option-trace.rst.inc:2
msgid "Specify tracing options."
msgstr ""

#: ../../../qemu-option-trace.rst.inc:4
msgid "``[enable=]PATTERN``"
msgstr ""

#: ../../../qemu-option-trace.rst.inc:6
msgid ""
"Immediately enable events matching *PATTERN* (either event name or a "
"globbing pattern).  This option is only available if QEMU has been compiled "
"with the ``simple``, ``log`` or ``ftrace`` tracing backend.  To specify "
"multiple events or patterns, specify the :option:`-trace` option multiple "
"times."
msgstr ""

#: ../../../qemu-option-trace.rst.inc:12
msgid "Use :option:`-trace help` to print a list of names of trace points."
msgstr ""

#: ../../../qemu-option-trace.rst.inc:14
msgid "``events=FILE``"
msgstr ""

#: ../../../qemu-option-trace.rst.inc:16
msgid ""
"Immediately enable events listed in *FILE*. The file must contain one event "
"name (as listed in the ``trace-events-all`` file) per line; globbing "
"patterns are accepted too.  This option is only available if QEMU has been "
"compiled with the ``simple``, ``log`` or ``ftrace`` tracing backend."
msgstr ""

#: ../../../qemu-option-trace.rst.inc:22
msgid "``file=FILE``"
msgstr ""

#: ../../../qemu-option-trace.rst.inc:24
msgid ""
"Log output traces to *FILE*. This option is only available if QEMU has been "
"compiled with the ``simple`` tracing backend."
msgstr ""

#: ../../../tools/qemu-img.rst:39
msgid "The following commands are supported:"
msgstr ""

#: ../../../tools/qemu-img.rst:43
msgid "Command parameters:"
msgstr "命令參數："

#: ../../../tools/qemu-img.rst:45
msgid "*FILENAME* is a disk image filename."
msgstr ""

#: ../../../tools/qemu-img.rst:47
msgid ""
"*FMT* is the disk image format. It is guessed automatically in most cases. "
"See below for a description of the supported disk formats."
msgstr ""

#: ../../../tools/qemu-img.rst:50
msgid ""
"*SIZE* is the disk image size in bytes. Optional suffixes ``k`` or ``K`` "
"(kilobyte, 1024) ``M`` (megabyte, 1024k) and ``G`` (gigabyte, 1024M) and T "
"(terabyte, 1024G) are supported.  ``b`` is ignored."
msgstr ""

#: ../../../tools/qemu-img.rst:54
msgid "*OUTPUT_FILENAME* is the destination disk image filename."
msgstr ""

#: ../../../tools/qemu-img.rst:56
msgid "*OUTPUT_FMT* is the destination format."
msgstr ""

#: ../../../tools/qemu-img.rst:58
msgid ""
"*OPTIONS* is a comma separated list of format specific options in a "
"name=value format. Use ``-o ?`` for an overview of the options supported by "
"the used format or see the format descriptions below for details."
msgstr ""

#: ../../../tools/qemu-img.rst:62
msgid ""
"*SNAPSHOT_PARAM* is param used for internal snapshot, format is 'snapshot."
"id=[ID],snapshot.name=[NAME]' or '[ID_OR_NAME]'."
msgstr ""

#: ../../../tools/qemu-img.rst:73
msgid ""
"is a QEMU user creatable object definition. See the :manpage:`qemu(1)` "
"manual page for a description of the object properties. The most common "
"object type is a ``secret``, which is used to supply passwords and/or "
"encryption keys."
msgstr ""

#: ../../../tools/qemu-img.rst:80
msgid ""
"Indicates that the source *FILENAME* parameter is to be interpreted as a "
"full option string, not a plain filename. This parameter is mutually "
"exclusive with the *-f* parameter."
msgstr ""

#: ../../../tools/qemu-img.rst:86
msgid ""
"Indicates that the OUTPUT_FILENAME parameter(s) are to be interpreted as a "
"full option string, not a plain filename. This parameter is mutually "
"exclusive with the *-O* parameters. It is currently required to also use the "
"*-n* parameter to skip image creation. This restriction may be relaxed in a "
"future release."
msgstr ""

#: ../../../tools/qemu-img.rst:94
msgid ""
"If specified, ``qemu-img`` will open the image in shared mode, allowing "
"other QEMU processes to open it in write mode. For example, this can be used "
"to get the image information (with 'info' subcommand) when the image is used "
"by a running guest.  Note that this could produce inconsistent results "
"because of concurrent metadata changes, etc. This option is only allowed "
"when opening images in read-only mode."
msgstr ""

#: ../../../tools/qemu-img.rst:103
msgid ""
"Will enumerate information about backing files in a disk image chain. Refer "
"below for further description."
msgstr ""

#: ../../../tools/qemu-img.rst:108
msgid "Indicates that target image must be compressed (qcow format only)."
msgstr ""

#: ../../../tools/qemu-img.rst:112
msgid "With or without a command, shows help and lists the supported formats."
msgstr ""

#: ../../../tools/qemu-img.rst:116
msgid ""
"Display progress bar (compare, convert and rebase commands only). If the *-"
"p* option is not used for a command that supports it, the progress is "
"reported when the process receives a ``SIGUSR1`` or ``SIGINFO`` signal."
msgstr ""

#: ../../../tools/qemu-img.rst:123
msgid ""
"Quiet mode - do not print any output (except errors). There's no progress "
"bar in case both *-q* and *-p* options are used."
msgstr ""

#: ../../../tools/qemu-img.rst:128
msgid ""
"Indicates the consecutive number of bytes that must contain only zeros for "
"qemu-img to create a sparse image during conversion. This value is rounded "
"down to the nearest 512 bytes. You may use the common size suffixes like "
"``k`` for kilobytes."
msgstr ""

#: ../../../tools/qemu-img.rst:135
msgid ""
"Specifies the cache mode that should be used with the (destination) file. "
"See the documentation of the emulator's ``-drive cache=...`` option for "
"allowed values."
msgstr ""

#: ../../../tools/qemu-img.rst:141
msgid ""
"Specifies the cache mode that should be used with the source file(s). See "
"the documentation of the emulator's ``-drive cache=...`` option for allowed "
"values."
msgstr ""

#: ../../../tools/qemu-img.rst:145
msgid "Parameters to compare subcommand:"
msgstr ""

#: ../../../tools/qemu-img.rst:151
msgid "First image format"
msgstr ""

#: ../../../tools/qemu-img.rst:155
msgid "Second image format"
msgstr ""

#: ../../../tools/qemu-img.rst:159
msgid "Strict mode - fail on different image size or sector allocation"
msgstr ""

#: ../../../tools/qemu-img.rst:161
msgid "Parameters to convert subcommand:"
msgstr ""

#: ../../../tools/qemu-img.rst:167
msgid ""
"Additionally copy all persistent bitmaps from the top layer of the source"
msgstr ""

#: ../../../tools/qemu-img.rst:171
msgid "Skip the creation of the target volume"
msgstr ""

#: ../../../tools/qemu-img.rst:175
msgid "Number of parallel coroutines for the convert process"
msgstr ""

#: ../../../tools/qemu-img.rst:179
msgid ""
"Allow out-of-order writes to the destination. This option improves "
"performance, but is only recommended for preallocated devices like host "
"devices or other raw block devices."
msgstr ""

#: ../../../tools/qemu-img.rst:185
msgid ""
"Try to use copy offloading to move data from source image to target. This "
"may improve performance if the data is remote, such as with NFS or iSCSI "
"backends, but will not automatically sparsify zero sectors, and may result "
"in a fully allocated target image depending on the host support for getting "
"allocation information."
msgstr ""

#: ../../../tools/qemu-img.rst:193
msgid "Rate limit for the convert process"
msgstr ""

#: ../../../tools/qemu-img.rst:197
msgid ""
"Try to ignore I/O errors when reading.  Unless in quiet mode (``-q``), "
"errors will still be printed.  Areas that cannot be read from the source "
"will be treated as containing only zeroes."
msgstr ""

#: ../../../tools/qemu-img.rst:203
msgid ""
"Assume that reading the destination image will always return zeros. This "
"parameter is mutually exclusive with a destination image that has a backing "
"file. It is required to also use the ``-n`` parameter to skip image creation."
msgstr ""

#: ../../../tools/qemu-img.rst:208
msgid "Parameters to dd subcommand:"
msgstr ""

#: ../../../tools/qemu-img.rst:214
msgid "Defines the block size"
msgstr ""

#: ../../../tools/qemu-img.rst:218
msgid "Sets the number of input blocks to copy"
msgstr ""

#: ../../../tools/qemu-img.rst:222
msgid "Sets the input file"
msgstr "設定輸入檔案"

#: ../../../tools/qemu-img.rst:226
msgid "Sets the output file"
msgstr "設定輸出檔案"

#: ../../../tools/qemu-img.rst:230
msgid "Sets the number of input blocks to skip"
msgstr ""

#: ../../../tools/qemu-img.rst:232
msgid "Parameters to snapshot subcommand:"
msgstr ""

#: ../../../tools/qemu-img.rst:238
msgid "Is the name of the snapshot to create, apply or delete"
msgstr ""

#: ../../../tools/qemu-img.rst:242
msgid "Applies a snapshot (revert disk to saved state)"
msgstr ""

#: ../../../tools/qemu-img.rst:246
msgid "Creates a snapshot"
msgstr "建立快照"

#: ../../../tools/qemu-img.rst:250
msgid "Deletes a snapshot"
msgstr "刪除快照"

#: ../../../tools/qemu-img.rst:254
msgid "Lists all snapshots in the given image"
msgstr ""

#: ../../../tools/qemu-img.rst:256
msgid "Command description:"
msgstr ""

#: ../../../tools/qemu-img.rst:262
msgid ""
"Amends the image format specific *OPTIONS* for the image file *FILENAME*. "
"Not all file formats support this operation."
msgstr ""

#: ../../../tools/qemu-img.rst:265
msgid ""
"The set of options that can be amended are dependent on the image format, "
"but note that amending the backing chain relationship should instead be "
"performed with ``qemu-img rebase``."
msgstr ""

#: ../../../tools/qemu-img.rst:269
msgid ""
"--force allows some unsafe operations. Currently for -f luks, it allows to "
"erase the last encryption key, and to overwrite an active encryption key."
msgstr ""

#: ../../../tools/qemu-img.rst:274
msgid ""
"Run a simple sequential I/O benchmark on the specified image. If ``-w`` is "
"specified, a write test is performed, otherwise a read test is performed."
msgstr ""

#: ../../../tools/qemu-img.rst:277
msgid ""
"A total number of *COUNT* I/O requests is performed, each *BUFFER_SIZE* "
"bytes in size, and with *DEPTH* requests in parallel. The first request "
"starts at the position given by *OFFSET*, each following request increases "
"the current position by *STEP_SIZE*. If *STEP_SIZE* is not given, "
"*BUFFER_SIZE* is used for its value."
msgstr ""

#: ../../../tools/qemu-img.rst:283
msgid ""
"If *FLUSH_INTERVAL* is specified for a write test, the request queue is "
"drained and a flush is issued before new writes are made whenever the number "
"of remaining requests is a multiple of *FLUSH_INTERVAL*. If additionally ``--"
"no-drain`` is specified, a flush is issued without draining the request "
"queue first."
msgstr ""

#: ../../../tools/qemu-img.rst:289
msgid ""
"if ``-i`` is specified, *AIO* option can be used to specify different AIO "
"backends: ``threads``, ``native`` or ``io_uring``."
msgstr ""

#: ../../../tools/qemu-img.rst:292
msgid ""
"If ``-n`` is specified, the native AIO backend is used if possible. On "
"Linux, this option only works if ``-t none`` or ``-t directsync`` is "
"specified as well."
msgstr ""

#: ../../../tools/qemu-img.rst:296
msgid ""
"For write tests, by default a buffer filled with zeros is written. This can "
"be overridden with a pattern byte specified by *PATTERN*."
msgstr ""

#: ../../../tools/qemu-img.rst:301
msgid ""
"Perform one or more modifications of the persistent bitmap *BITMAP* in the "
"disk image *FILENAME*.  The various modifications are:"
msgstr ""

#: ../../../tools/qemu-img.rst:304
msgid "``--add`` to create *BITMAP*, enabled to record future edits."
msgstr ""

#: ../../../tools/qemu-img.rst:306
msgid "``--remove`` to remove *BITMAP*."
msgstr ""

#: ../../../tools/qemu-img.rst:308
msgid "``--clear`` to clear *BITMAP*."
msgstr ""

#: ../../../tools/qemu-img.rst:310
msgid "``--enable`` to change *BITMAP* to start recording future edits."
msgstr ""

#: ../../../tools/qemu-img.rst:312
msgid "``--disable`` to change *BITMAP* to stop recording future edits."
msgstr ""

#: ../../../tools/qemu-img.rst:314
msgid "``--merge`` to merge the contents of the *SOURCE* bitmap into *BITMAP*."
msgstr ""

#: ../../../tools/qemu-img.rst:316
msgid ""
"Additional options include ``-g`` which sets a non-default *GRANULARITY* for "
"``--add``, and ``-b`` and ``-F`` which select an alternative source file for "
"all *SOURCE* bitmaps used by ``--merge``."
msgstr ""

#: ../../../tools/qemu-img.rst:321
msgid "To see what bitmaps are present in an image, use ``qemu-img info``."
msgstr ""

#: ../../../tools/qemu-img.rst:325
msgid ""
"Perform a consistency check on the disk image *FILENAME*. The command can "
"output in the format *OFMT* which is either ``human`` or ``json``. The JSON "
"output is an object of QAPI type ``ImageCheck``."
msgstr ""

#: ../../../tools/qemu-img.rst:329
msgid ""
"If ``-r`` is specified, qemu-img tries to repair any inconsistencies found "
"during the check. ``-r leaks`` repairs only cluster leaks, whereas ``-r "
"all`` fixes all kinds of errors, with a higher risk of choosing the wrong "
"fix or hiding corruption that has already occurred."
msgstr ""

#: ../../../tools/qemu-img.rst:334
msgid ""
"Only the formats ``qcow2``, ``qed`` and ``vdi`` support consistency checks."
msgstr ""

#: ../../../tools/qemu-img.rst:337
msgid ""
"In case the image does not have any inconsistencies, check exits with ``0``. "
"Other exit codes indicate the kind of inconsistency found or if another "
"error occurred. The following table summarizes all exit codes of the check "
"subcommand:"
msgstr ""

#: ../../../tools/qemu-img.rst:341 ../../../tools/qemu-img.rst:406
msgid "0"
msgstr ""

#: ../../../tools/qemu-img.rst:342
msgid "Check completed, the image is (now) consistent"
msgstr ""

#: ../../../tools/qemu-img.rst:343 ../../../tools/qemu-img.rst:408
msgid "1"
msgstr ""

#: ../../../tools/qemu-img.rst:344
msgid "Check not completed because of internal errors"
msgstr ""

#: ../../../tools/qemu-img.rst:345 ../../../tools/qemu-img.rst:410
msgid "2"
msgstr ""

#: ../../../tools/qemu-img.rst:346
msgid "Check completed, image is corrupted"
msgstr ""

#: ../../../tools/qemu-img.rst:347 ../../../tools/qemu-img.rst:412
msgid "3"
msgstr ""

#: ../../../tools/qemu-img.rst:348
msgid "Check completed, image has leaked clusters, but is not corrupted"
msgstr ""

#: ../../../tools/qemu-img.rst:349
msgid "63"
msgstr ""

#: ../../../tools/qemu-img.rst:350
msgid "Checks are not supported by the image format"
msgstr ""

#: ../../../tools/qemu-img.rst:352
msgid ""
"If ``-r`` is specified, exit codes representing the image state refer to the "
"state after (the attempt at) repairing it. That is, a successful ``-r all`` "
"will yield the exit code 0, independently of the image state before."
msgstr ""

#: ../../../tools/qemu-img.rst:358
msgid ""
"Commit the changes recorded in *FILENAME* in its base image or backing file. "
"If the backing file is smaller than the snapshot, then the backing file will "
"be resized to be the same size as the snapshot.  If the snapshot is smaller "
"than the backing file, the backing file will not be truncated.  If you want "
"the backing file to match the size of the smaller snapshot, you can safely "
"truncate it yourself once the commit operation successfully completes."
msgstr ""

#: ../../../tools/qemu-img.rst:365
msgid ""
"The image *FILENAME* is emptied after the operation has succeeded. If you do "
"not need *FILENAME* afterwards and intend to drop it, you may skip emptying "
"*FILENAME* by specifying the ``-d`` flag."
msgstr ""

#: ../../../tools/qemu-img.rst:369
msgid ""
"If the backing chain of the given image file *FILENAME* has more than one "
"layer, the backing file into which the changes will be committed may be "
"specified as *BASE* (which has to be part of *FILENAME*'s backing chain). If "
"*BASE* is not specified, the immediate backing file of the top image (which "
"is *FILENAME*) will be used. Note that after a commit operation all images "
"between *BASE* and the top image will be invalid and may return garbage data "
"when read. For this reason, ``-b`` implies ``-d`` (so that the top image "
"stays valid)."
msgstr ""

#: ../../../tools/qemu-img.rst:378
msgid "The rate limit for the commit process is specified by ``-r``."
msgstr ""

#: ../../../tools/qemu-img.rst:382
msgid ""
"Check if two images have the same content. You can compare images with "
"different format or settings."
msgstr ""

#: ../../../tools/qemu-img.rst:385
msgid ""
"The format is probed unless you specify it by ``-f`` (used for *FILENAME1*) "
"and/or ``-F`` (used for *FILENAME2*) option."
msgstr ""

#: ../../../tools/qemu-img.rst:388
msgid ""
"By default, images with different size are considered identical if the "
"larger image contains only unallocated and/or zeroed sectors in the area "
"after the end of the other image. In addition, if any sector is not "
"allocated in one image and contains only zero bytes in the second one, it is "
"evaluated as equal. You can use Strict mode by specifying the ``-s`` option. "
"When compare runs in Strict mode, it fails in case image size differs or a "
"sector is allocated in one image and is not allocated in the second one."
msgstr ""

#: ../../../tools/qemu-img.rst:396
msgid ""
"By default, compare prints out a result message. This message displays "
"information that both images are same or the position of the first different "
"byte. In addition, result message can report different image size in case "
"Strict mode is used."
msgstr ""

#: ../../../tools/qemu-img.rst:401
msgid ""
"Compare exits with ``0`` in case the images are equal and with ``1`` in case "
"the images differ. Other exit codes mean an error occurred during execution "
"and standard error output should contain an error message. The following "
"table sumarizes all exit codes of the compare subcommand:"
msgstr ""

#: ../../../tools/qemu-img.rst:407
msgid "Images are identical (or requested help was printed)"
msgstr ""

#: ../../../tools/qemu-img.rst:409
msgid "Images differ"
msgstr ""

#: ../../../tools/qemu-img.rst:411
msgid "Error on opening an image"
msgstr ""

#: ../../../tools/qemu-img.rst:413
msgid "Error on checking a sector allocation"
msgstr ""

#: ../../../tools/qemu-img.rst:414
msgid "4"
msgstr ""

#: ../../../tools/qemu-img.rst:415
msgid "Error on reading data"
msgstr ""

#: ../../../tools/qemu-img.rst:419
msgid ""
"Convert the disk image *FILENAME* or a snapshot *SNAPSHOT_PARAM* to disk "
"image *OUTPUT_FILENAME* using format *OUTPUT_FMT*. It can be optionally "
"compressed (``-c`` option) or use any format specific options like "
"encryption (``-o`` option)."
msgstr ""

#: ../../../tools/qemu-img.rst:424
msgid ""
"Only the formats ``qcow`` and ``qcow2`` support compression. The compression "
"is read-only. It means that if a compressed sector is rewritten, then it is "
"rewritten as uncompressed data."
msgstr ""

#: ../../../tools/qemu-img.rst:428
msgid ""
"Image conversion is also useful to get smaller image when using a growable "
"format such as ``qcow``: the empty sectors are detected and suppressed from "
"the destination image."
msgstr ""

#: ../../../tools/qemu-img.rst:432
msgid ""
"*SPARSE_SIZE* indicates the consecutive number of bytes (defaults to 4k) "
"that must contain only zeros for qemu-img to create a sparse image during "
"conversion. If *SPARSE_SIZE* is 0, the source will not be scanned for "
"unallocated or zero sectors, and the destination image will always be fully "
"allocated."
msgstr ""

#: ../../../tools/qemu-img.rst:438
msgid ""
"You can use the *BACKING_FILE* option to force the output image to be "
"created as a copy on write image of the specified base image; the "
"*BACKING_FILE* should have the same content as the input's base image, "
"however the path, image format, etc may differ."
msgstr ""

#: ../../../tools/qemu-img.rst:443
msgid ""
"If a relative path name is given, the backing file is looked up relative to "
"the directory containing *OUTPUT_FILENAME*."
msgstr ""

#: ../../../tools/qemu-img.rst:446
msgid ""
"If the ``-n`` option is specified, the target volume creation will be "
"skipped. This is useful for formats such as ``rbd`` if the target volume has "
"already been created with site specific options that cannot be supplied "
"through qemu-img."
msgstr ""

#: ../../../tools/qemu-img.rst:451
msgid ""
"Out of order writes can be enabled with ``-W`` to improve performance. This "
"is only recommended for preallocated devices like host devices or other raw "
"block devices. Out of order write does not work in combination with creating "
"compressed images."
msgstr ""

#: ../../../tools/qemu-img.rst:456
msgid ""
"*NUM_COROUTINES* specifies how many coroutines work in parallel during the "
"convert process (defaults to 8)."
msgstr ""

#: ../../../tools/qemu-img.rst:461
msgid ""
"Create the new disk image *FILENAME* of size *SIZE* and format *FMT*. "
"Depending on the file format, you can add one or more *OPTIONS* that enable "
"additional features of this format."
msgstr ""

#: ../../../tools/qemu-img.rst:465
msgid ""
"If the option *BACKING_FILE* is specified, then the image will record only "
"the differences from *BACKING_FILE*. No size needs to be specified in this "
"case. *BACKING_FILE* will never be modified unless you use the ``commit`` "
"monitor command (or qemu-img commit)."
msgstr ""

#: ../../../tools/qemu-img.rst:470 ../../../tools/qemu-img.rst:667
msgid ""
"If a relative path name is given, the backing file is looked up relative to "
"the directory containing *FILENAME*."
msgstr ""

#: ../../../tools/qemu-img.rst:473
msgid ""
"Note that a given backing file will be opened to check that it is valid. Use "
"the ``-u`` option to enable unsafe backing file mode, which means that the "
"image will be created even if the associated backing file cannot be opened. "
"A matching backing file must be created or additional options be used to "
"make the backing file specification valid when you want to use an image "
"created this way."
msgstr ""

#: ../../../tools/qemu-img.rst:480
msgid ""
"The size can also be specified using the *SIZE* option with ``-o``, it "
"doesn't need to be specified separately in this case."
msgstr ""

#: ../../../tools/qemu-img.rst:486
msgid ""
"dd copies from *INPUT* file to *OUTPUT* file converting it from *FMT* format "
"to *OUTPUT_FMT* format."
msgstr ""

#: ../../../tools/qemu-img.rst:489
msgid ""
"The data is by default read and written using blocks of 512 bytes but can be "
"modified by specifying *BLOCK_SIZE*. If count=\\ *BLOCKS* is specified dd "
"will stop reading input after reading *BLOCKS* input blocks."
msgstr ""

#: ../../../tools/qemu-img.rst:493
msgid "The size syntax is similar to :manpage:`dd(1)`'s size syntax."
msgstr ""

#: ../../../tools/qemu-img.rst:497
msgid ""
"Give information about the disk image *FILENAME*. Use it in particular to "
"know the size reserved on disk which can be different from the displayed "
"size. If VM snapshots are stored in the disk image, they are displayed too."
msgstr ""

#: ../../../tools/qemu-img.rst:502
msgid ""
"If a disk image has a backing file chain, information about each disk image "
"in the chain can be recursively enumerated by using the option ``--backing-"
"chain``."
msgstr ""

#: ../../../tools/qemu-img.rst:505
msgid "For instance, if you have an image chain like:"
msgstr ""

#: ../../../tools/qemu-img.rst:509
msgid "base.qcow2 <- snap1.qcow2 <- snap2.qcow2"
msgstr ""

#: ../../../tools/qemu-img.rst:511
msgid ""
"To enumerate information about each disk image in the above chain, starting "
"from top to base, do:"
msgstr ""

#: ../../../tools/qemu-img.rst:515
msgid "qemu-img info --backing-chain snap2.qcow2"
msgstr ""

#: ../../../tools/qemu-img.rst:517
msgid ""
"The command can output in the format *OFMT* which is either ``human`` or "
"``json``.  The JSON output is an object of QAPI type ``ImageInfo``; with ``--"
"backing-chain``, it is an array of ``ImageInfo`` objects."
msgstr ""

#: ../../../tools/qemu-img.rst:521
msgid ""
"``--output=human`` reports the following information (for every image in the "
"chain):"
msgstr ""

#: ../../../tools/qemu-img.rst:524
msgid "*image*"
msgstr ""

#: ../../../tools/qemu-img.rst:525
msgid "The image file name"
msgstr ""

#: ../../../tools/qemu-img.rst:527
msgid "*file format*"
msgstr ""

#: ../../../tools/qemu-img.rst:528
msgid "The image format"
msgstr ""

#: ../../../tools/qemu-img.rst:530
msgid "*virtual size*"
msgstr ""

#: ../../../tools/qemu-img.rst:531
msgid "The size of the guest disk"
msgstr ""

#: ../../../tools/qemu-img.rst:533
msgid "*disk size*"
msgstr ""

#: ../../../tools/qemu-img.rst:534
msgid ""
"How much space the image file occupies on the host file system (may be shown "
"as 0 if this information is unavailable, e.g. because there is no file "
"system)"
msgstr ""

#: ../../../tools/qemu-img.rst:538
msgid "*cluster_size*"
msgstr ""

#: ../../../tools/qemu-img.rst:539
msgid "Cluster size of the image format, if applicable"
msgstr ""

#: ../../../tools/qemu-img.rst:541
msgid "*encrypted*"
msgstr ""

#: ../../../tools/qemu-img.rst:542
msgid "Whether the image is encrypted (only present if so)"
msgstr ""

#: ../../../tools/qemu-img.rst:544
msgid "*cleanly shut down*"
msgstr ""

#: ../../../tools/qemu-img.rst:545
msgid ""
"This is shown as ``no`` if the image is dirty and will have to be auto-"
"repaired the next time it is opened in qemu."
msgstr ""

#: ../../../tools/qemu-img.rst:548
msgid "*backing file*"
msgstr ""

#: ../../../tools/qemu-img.rst:549
msgid "The backing file name, if present"
msgstr ""

#: ../../../tools/qemu-img.rst:551
msgid "*backing file format*"
msgstr ""

#: ../../../tools/qemu-img.rst:552
msgid "The format of the backing file, if the image enforces it"
msgstr ""

#: ../../../tools/qemu-img.rst:554
msgid "*Snapshot list*"
msgstr ""

#: ../../../tools/qemu-img.rst:555
msgid "A list of all internal snapshots"
msgstr ""

#: ../../../tools/qemu-img.rst:557
msgid "*Format specific information*"
msgstr ""

#: ../../../tools/qemu-img.rst:558
msgid ""
"Further information whose structure depends on the image format.  This "
"section is a textual representation of the respective ``ImageInfoSpecific*`` "
"QAPI object (e.g. ``ImageInfoSpecificQCow2`` for qcow2 images)."
msgstr ""

#: ../../../tools/qemu-img.rst:565
msgid ""
"Dump the metadata of image *FILENAME* and its backing file chain. In "
"particular, this commands dumps the allocation state of every sector of "
"*FILENAME*, together with the topmost file that allocates it in the backing "
"file chain."
msgstr ""

#: ../../../tools/qemu-img.rst:570
msgid ""
"Two option formats are possible.  The default format (``human``) only dumps "
"known-nonzero areas of the file.  Known-zero parts of the file are omitted "
"altogether, and likewise for parts that are not allocated throughout the "
"chain.  ``qemu-img`` output will identify a file from where the data can be "
"read, and the offset in the file.  Each line will include four fields, the "
"first three of which are hexadecimal numbers.  For example the first line of:"
msgstr ""

#: ../../../tools/qemu-img.rst:580
msgid ""
"Offset          Length          Mapped to       File\n"
"0               0x20000         0x50000         /tmp/overlay.qcow2\n"
"0x100000        0x10000         0x95380000      /tmp/backing.qcow2"
msgstr ""

#: ../../../tools/qemu-img.rst:584
msgid ""
"means that 0x20000 (131072) bytes starting at offset 0 in the image are "
"available in /tmp/overlay.qcow2 (opened in ``raw`` format) starting at "
"offset 0x50000 (327680).  Data that is compressed, encrypted, or otherwise "
"not available in raw format will cause an error if ``human`` format is in "
"use.  Note that file names can include newlines, thus it is not safe to "
"parse this output format in scripts."
msgstr ""

#: ../../../tools/qemu-img.rst:591
msgid ""
"The alternative format ``json`` will return an array of dictionaries in JSON "
"format.  It will include similar information in the ``start``, ``length``, "
"``offset`` fields; it will also include other more specific information:"
msgstr ""

#: ../../../tools/qemu-img.rst:596
msgid ""
"whether the sectors contain actual data or not (boolean field ``data``; if "
"false, the sectors are either unallocated or stored as optimized all-zero "
"clusters);"
msgstr ""

#: ../../../tools/qemu-img.rst:599
msgid "whether the data is known to read as zero (boolean field ``zero``);"
msgstr ""

#: ../../../tools/qemu-img.rst:600
msgid ""
"in order to make the output shorter, the target file is expressed as a "
"``depth``; for example, a depth of 2 refers to the backing file of the "
"backing file of *FILENAME*."
msgstr ""

#: ../../../tools/qemu-img.rst:604
msgid ""
"In JSON format, the ``offset`` field is optional; it is absent in cases "
"where ``human`` format would omit the entry or exit with an error. If "
"``data`` is false and the ``offset`` field is present, the corresponding "
"sectors in the file are not yet in use, but they are preallocated."
msgstr ""

#: ../../../tools/qemu-img.rst:610
msgid ""
"For more information, consult ``include/block/block.h`` in QEMU's source "
"code."
msgstr ""

#: ../../../tools/qemu-img.rst:615
msgid ""
"Calculate the file size required for a new image.  This information can be "
"used to size logical volumes or SAN LUNs appropriately for the image that "
"will be placed in them.  The values reported are guaranteed to be large "
"enough to fit the image.  The command can output in the format *OFMT* which "
"is either ``human`` or ``json``. The JSON output is an object of QAPI type "
"``BlockMeasureInfo``."
msgstr ""

#: ../../../tools/qemu-img.rst:622
msgid ""
"If the size *N* is given then act as if creating a new empty image file "
"using ``qemu-img create``.  If *FILENAME* is given then act as if converting "
"an existing image file using ``qemu-img convert``.  The format of the new "
"file is given by *OUTPUT_FMT* while the format of an existing file is given "
"by *FMT*."
msgstr ""

#: ../../../tools/qemu-img.rst:628
msgid ""
"A snapshot in an existing image can be specified using *SNAPSHOT_PARAM*."
msgstr ""

#: ../../../tools/qemu-img.rst:630
msgid "The following fields are reported:"
msgstr ""

#: ../../../tools/qemu-img.rst:634
msgid ""
"required size: 524288\n"
"fully allocated size: 1074069504\n"
"bitmaps size: 0"
msgstr ""

#: ../../../tools/qemu-img.rst:638
msgid ""
"The ``required size`` is the file size of the new image.  It may be smaller "
"than the virtual disk size if the image format supports compact "
"representation."
msgstr ""

#: ../../../tools/qemu-img.rst:641
msgid ""
"The ``fully allocated size`` is the file size of the new image once data has "
"been written to all sectors.  This is the maximum size that the image file "
"can occupy with the exception of internal snapshots, dirty bitmaps, vmstate "
"data, and other advanced image format features."
msgstr ""

#: ../../../tools/qemu-img.rst:646
msgid ""
"The ``bitmaps size`` is the additional size required in order to copy "
"bitmaps from a source image in addition to the guest-visible data; the line "
"is omitted if either source or destination lacks bitmap support, or 0 if "
"bitmaps are supported but there is nothing to copy."
msgstr ""

#: ../../../tools/qemu-img.rst:654
msgid "List, apply, create or delete snapshots in image *FILENAME*."
msgstr ""

#: ../../../tools/qemu-img.rst:658
msgid ""
"Changes the backing file of an image. Only the formats ``qcow2`` and ``qed`` "
"support changing the backing file."
msgstr ""

#: ../../../tools/qemu-img.rst:661
msgid ""
"The backing file is changed to *BACKING_FILE* and (if the image format of "
"*FILENAME* supports this) the backing file format is changed to "
"*BACKING_FMT*. If *BACKING_FILE* is specified as \"\" (the empty string), "
"then the image is rebased onto no backing file (i.e. it will exist "
"independently of any backing file)."
msgstr ""

#: ../../../tools/qemu-img.rst:670
msgid ""
"*CACHE* specifies the cache mode to be used for *FILENAME*, whereas "
"*SRC_CACHE* specifies the cache mode for reading backing files."
msgstr ""

#: ../../../tools/qemu-img.rst:673
msgid "There are two different modes in which ``rebase`` can operate:"
msgstr ""

#: ../../../tools/qemu-img.rst:675
msgid "Safe mode"
msgstr ""

#: ../../../tools/qemu-img.rst:676
msgid ""
"This is the default mode and performs a real rebase operation. The new "
"backing file may differ from the old one and qemu-img rebase will take care "
"of keeping the guest-visible content of *FILENAME* unchanged."
msgstr ""

#: ../../../tools/qemu-img.rst:681
msgid ""
"In order to achieve this, any clusters that differ between *BACKING_FILE* "
"and the old backing file of *FILENAME* are merged into *FILENAME* before "
"actually changing the backing file."
msgstr ""

#: ../../../tools/qemu-img.rst:685
msgid ""
"Note that the safe mode is an expensive operation, comparable to converting "
"an image. It only works if the old backing file still exists."
msgstr ""

#: ../../../tools/qemu-img.rst:689
msgid "Unsafe mode"
msgstr ""

#: ../../../tools/qemu-img.rst:690
msgid ""
"qemu-img uses the unsafe mode if ``-u`` is specified. In this mode, only the "
"backing file name and format of *FILENAME* is changed without any checks on "
"the file contents. The user must take care of specifying the correct new "
"backing file, or the guest-visible content of the image will be corrupted."
msgstr ""

#: ../../../tools/qemu-img.rst:696
msgid ""
"This mode is useful for renaming or moving the backing file to somewhere "
"else.  It can be used without an accessible old backing file, i.e. you can "
"use it to fix an image whose backing file has already been moved/renamed."
msgstr ""

#: ../../../tools/qemu-img.rst:701
msgid ""
"You can use ``rebase`` to perform a \"diff\" operation on two disk images.  "
"This can be useful when you have copied or cloned a guest, and you want to "
"get back to a thin image on top of a template or base image."
msgstr ""

#: ../../../tools/qemu-img.rst:706
msgid ""
"Say that ``base.img`` has been cloned as ``modified.img`` by copying it, and "
"that the ``modified.img`` guest has run so there are now some changes "
"compared to ``base.img``.  To construct a thin image called ``diff.qcow2`` "
"that contains just the differences, do:"
msgstr ""

#: ../../../tools/qemu-img.rst:713
msgid ""
"qemu-img create -f qcow2 -b modified.img diff.qcow2\n"
"qemu-img rebase -b base.img diff.qcow2"
msgstr ""

#: ../../../tools/qemu-img.rst:716
msgid ""
"At this point, ``modified.img`` can be discarded, since ``base.img + diff."
"qcow2`` contains the same information."
msgstr ""

#: ../../../tools/qemu-img.rst:721
msgid "Change the disk image as if it had been created with *SIZE*."
msgstr ""

#: ../../../tools/qemu-img.rst:723
msgid ""
"Before using this command to shrink a disk image, you MUST use file system "
"and partitioning tools inside the VM to reduce allocated file systems and "
"partition sizes accordingly.  Failure to do so will result in data loss!"
msgstr ""

#: ../../../tools/qemu-img.rst:727
msgid ""
"When shrinking images, the ``--shrink`` option must be given. This informs "
"qemu-img that the user acknowledges all loss of data beyond the truncated "
"image's end."
msgstr ""

#: ../../../tools/qemu-img.rst:731
msgid ""
"After using this command to grow a disk image, you must use file system and "
"partitioning tools inside the VM to actually begin using the new space on "
"the device."
msgstr ""

#: ../../../tools/qemu-img.rst:735
msgid ""
"When growing an image, the ``--preallocation`` option may be used to specify "
"how the additional image area should be allocated on the host.  See the "
"format description in the :ref:`notes` section which values are allowed.  "
"Using this option may result in slightly more data being allocated than "
"necessary."
msgstr ""

#: ../../../tools/qemu-img.rst:743
msgid "Notes"
msgstr ""

#: ../../../tools/qemu-img.rst:745
msgid "Supported image file formats:"
msgstr ""

#: ../../../tools/qemu-img.rst:747
msgid "``raw``"
msgstr ""

#: ../../../tools/qemu-img.rst:749
msgid ""
"Raw disk image format (default). This format has the advantage of being "
"simple and easily exportable to all other emulators. If your file system "
"supports *holes* (for example in ext2 or ext3 on Linux or NTFS on Windows), "
"then only the written sectors will reserve space. Use ``qemu-img info`` to "
"know the real size used by the image or ``ls -ls`` on Unix/Linux."
msgstr ""

#: ../../../tools/qemu-img.rst:756 ../../../tools/qemu-img.rst:772
msgid "Supported options:"
msgstr ""

#: ../../../tools/qemu-img.rst:758 ../../../tools/qemu-img.rst:831
msgid "``preallocation``"
msgstr ""

#: ../../../tools/qemu-img.rst:759
msgid ""
"Preallocation mode (allowed values: ``off``, ``falloc``, ``full``).  "
"``falloc`` mode preallocates space for image by calling "
"``posix_fallocate()``.  ``full`` mode preallocates space for image by "
"writing data to underlying storage.  This data may or may not be zero, "
"depending on the storage location."
msgstr ""

#: ../../../tools/qemu-img.rst:765
msgid "``qcow2``"
msgstr ""

#: ../../../tools/qemu-img.rst:767
msgid ""
"QEMU image format, the most versatile format. Use it to have smaller images "
"(useful if your filesystem does not supports holes, for example on Windows), "
"optional AES encryption, zlib based compression and support of multiple VM "
"snapshots."
msgstr ""

#: ../../../tools/qemu-img.rst:774
msgid "``compat``"
msgstr ""

#: ../../../tools/qemu-img.rst:775
msgid ""
"Determines the qcow2 version to use. ``compat=0.10`` uses the traditional "
"image format that can be read by any QEMU since 0.10. ``compat=1.1`` enables "
"image format extensions that only QEMU 1.1 and newer understand (this is the "
"default). Amongst others, this includes zero clusters, which allow efficient "
"copy-on-read for sparse images."
msgstr ""

#: ../../../tools/qemu-img.rst:781
msgid "``backing_file``"
msgstr ""

#: ../../../tools/qemu-img.rst:782
msgid "File name of a base image (see ``create`` subcommand)"
msgstr ""

#: ../../../tools/qemu-img.rst:784
msgid "``backing_fmt``"
msgstr ""

#: ../../../tools/qemu-img.rst:785
msgid "Image format of the base image"
msgstr ""

#: ../../../tools/qemu-img.rst:787
msgid "``encryption``"
msgstr ""

#: ../../../tools/qemu-img.rst:788
msgid ""
"If this option is set to ``on``, the image is encrypted with 128-bit AES-CBC."
msgstr ""

#: ../../../tools/qemu-img.rst:791
msgid ""
"The use of encryption in qcow and qcow2 images is considered to be flawed by "
"modern cryptography standards, suffering from a number of design problems:"
msgstr ""

#: ../../../tools/qemu-img.rst:795
msgid ""
"The AES-CBC cipher is used with predictable initialization vectors based on "
"the sector number. This makes it vulnerable to chosen plaintext attacks "
"which can reveal the existence of encrypted data."
msgstr ""

#: ../../../tools/qemu-img.rst:800
msgid ""
"The user passphrase is directly used as the encryption key. A poorly chosen "
"or short passphrase will compromise the security of the encryption."
msgstr ""

#: ../../../tools/qemu-img.rst:804
msgid ""
"In the event of the passphrase being compromised there is no way to change "
"the passphrase to protect data in any qcow images. The files must be cloned, "
"using a different encryption passphrase in the new file. The original file "
"must then be securely erased using a program like shred, though even this is "
"ineffective with many modern storage technologies."
msgstr ""

#: ../../../tools/qemu-img.rst:811
msgid ""
"Initialization vectors used to encrypt sectors are based on the guest "
"virtual sector number, instead of the host physical sector. When a disk "
"image has multiple internal snapshots this means that data in multiple "
"physical sectors is encrypted with the same initialization vector. With the "
"CBC mode, this opens the possibility of watermarking attacks if the attack "
"can collect multiple sectors encrypted with the same IV and some predictable "
"data. Having multiple qcow2 images with the same passphrase also exposes "
"this weakness since the passphrase is directly used as the key."
msgstr ""

#: ../../../tools/qemu-img.rst:822
msgid ""
"Use of qcow / qcow2 encryption is thus strongly discouraged. Users are "
"recommended to use an alternative encryption technology such as the Linux dm-"
"crypt / LUKS system."
msgstr ""

#: ../../../tools/qemu-img.rst:826
msgid "``cluster_size``"
msgstr ""

#: ../../../tools/qemu-img.rst:827
msgid ""
"Changes the qcow2 cluster size (must be between 512 and 2M). Smaller cluster "
"sizes can improve the image file size whereas larger cluster sizes generally "
"provide better performance."
msgstr ""

#: ../../../tools/qemu-img.rst:832
msgid ""
"Preallocation mode (allowed values: ``off``, ``metadata``, ``falloc``, "
"``full``). An image with preallocated metadata is initially larger but can "
"improve performance when the image needs to grow. ``falloc`` and ``full`` "
"preallocations are like the same options of ``raw`` format, but sets up "
"metadata also."
msgstr ""

#: ../../../tools/qemu-img.rst:838
msgid "``lazy_refcounts``"
msgstr ""

#: ../../../tools/qemu-img.rst:839
msgid ""
"If this option is set to ``on``, reference count updates are postponed with "
"the goal of avoiding metadata I/O and improving performance. This is "
"particularly interesting with ``cache=writethrough`` which doesn't batch "
"metadata updates. The tradeoff is that after a host crash, the reference "
"count tables must be rebuilt, i.e. on the next open an (automatic) ``qemu-"
"img check -r all`` is required, which may take some time."
msgstr ""

#: ../../../tools/qemu-img.rst:847
msgid "This option can only be enabled if ``compat=1.1`` is specified."
msgstr ""

#: ../../../tools/qemu-img.rst:849
msgid "``nocow``"
msgstr ""

#: ../../../tools/qemu-img.rst:850
msgid ""
"If this option is set to ``on``, it will turn off COW of the file. It's only "
"valid on btrfs, no effect on other file systems."
msgstr ""

#: ../../../tools/qemu-img.rst:853
msgid ""
"Btrfs has low performance when hosting a VM image file, even more when the "
"guest on the VM also using btrfs as file system. Turning off COW is a way to "
"mitigate this bad performance. Generally there are two ways to turn off COW "
"on btrfs:"
msgstr ""

#: ../../../tools/qemu-img.rst:858
msgid ""
"Disable it by mounting with nodatacow, then all newly created files will be "
"NOCOW"
msgstr ""

#: ../../../tools/qemu-img.rst:860
msgid ""
"For an empty file, add the NOCOW file attribute. That's what this option "
"does."
msgstr ""

#: ../../../tools/qemu-img.rst:863
msgid ""
"Note: this option is only valid to new or empty files. If there is an "
"existing file which is COW and has data blocks already, it couldn't be "
"changed to NOCOW by setting ``nocow=on``. One can issue ``lsattr filename`` "
"to check if the NOCOW flag is set or not (Capital 'C' is NOCOW flag)."
msgstr ""

#: ../../../tools/qemu-img.rst:869
msgid "``Other``"
msgstr ""

#: ../../../tools/qemu-img.rst:871
msgid ""
"QEMU also supports various other image file formats for compatibility with "
"older QEMU versions or other hypervisors, including VMDK, VDI, VHD (vpc), "
"VHDX, qcow1 and QED. For a full list of supported formats see ``qemu-img --"
"help``.  For a more detailed description of these formats, see the QEMU "
"block drivers reference documentation."
msgstr ""

#: ../../../tools/qemu-img.rst:878
msgid ""
"The main purpose of the block drivers for these formats is image "
"conversion.  For running VMs, it is recommended to convert the disk images "
"to either raw or qcow2 in order to achieve good performance."
msgstr ""
